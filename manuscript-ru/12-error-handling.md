# –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

–û—à–∏–±–∫–∏ –º–æ–∂–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø–æ-—Ä–∞–∑–Ω–æ–º—É. –¢–µ—Ö–Ω–∏–∫–∞ –∏ —Å—Ç–∏–ª—å –æ–±—Ä–∞–±–æ—Ç–∫–∏ –±—É–¥—É—Ç –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç —è–∑—ã–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, —Å—Ç–∏–ª—è –∫–æ–¥–∞, –ø—Ä–æ–µ–∫—Ç–∞ –∏ –µ–≥–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π, –∞ —á–∞—Å—Ç–æ ‚Äî –∏ –ª–∏—á–Ω—ã—Ö –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π –∫–æ–º–∞–Ω–¥—ã –∏–ª–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –ª—é–¥–µ–π.

–í —ç—Ç–æ–π –≥–ª–∞–≤–µ –º—ã –Ω–µ –±—É–¥–µ–º —Å—Ç–∞—Ä–∞—Ç—å—Å—è –æ—Ö–≤–∞—Ç–∏—Ç—å –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –º—ã –ø–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ –Ω–∞–∏–±–æ–ª–µ–µ –æ–±—â–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –∏ —Ç–µ—Ö–Ω–∏–∫–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –ø–æ–º–æ—á—å —É–ª—É—á—à–∏—Ç—å –∫–æ–¥.

| –£—Ç–æ—á–Ω–µ–Ω–∏–µ üéØ                                                                                                                                                                                                                                                      |
| :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| –£ –º–µ–Ω—è –Ω–µ—Ç —Ü–µ–ª–∏ ¬´–ø—Ä–æ–¥–∞—Ç—å¬ª –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Å–ø–æ—Å–æ–± –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ —è —Ö–æ—á—É –ø–æ–∫–∞–∑–∞—Ç—å, –Ω–∞ —á—Ç–æ —á–∞—â–µ –≤—Å–µ—à–ª –æ–±—Ä–∞—â–∞—é –≤–Ω–∏–º–∞–Ω–∏–µ –≤–æ –≤—Ä–µ–º—è —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –∫–∞–∫–∏–µ –æ–±—Å—Ç–æ—è—Ç–µ–ª—å—Å—Ç–≤–∞ –º–æ–≥—É—Ç —É—Å–ª–æ–∂–Ω–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫.                                                  |
| **–Ø –º–æ–≥—É –±—ã—Ç—å –Ω–µ –ø—Ä–∞–≤**. –û–ø–∏—Å–∞–Ω–Ω—ã–µ –ø—Ä–∏—ë–º—ã –ø–æ–º–æ–≥–∞—é—Ç –ª–∏—á–Ω–æ –º–Ω–µ, –Ω–æ —ç—Ç–æ –Ω–µ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –æ–Ω–∏ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ –ø—Ä–∏–º–µ–Ω–∏–º—ã. –ü–µ—Ä–µ–¥ –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∏–∑—É—á–∏—Ç–µ, –∫–∞–∫ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —É—Å—Ç—Ä–æ–µ–Ω–∞ –≤ –≤–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ, –æ–±—Å—É–¥–∏—Ç–µ –∏–¥–µ–∏ —Å –∫–æ–º–∞–Ω–¥–æ–π –∏ —É–¥–æ—Å—Ç–æ–≤–µ—Ä—å—Ç–µ—Å—å, —á—Ç–æ –æ–Ω–∏ –ø–æ–¥—Ö–æ–¥—è—Ç –≤—Å–µ–º. |
| –£ –ª—é–±—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –µ—Å—Ç—å –æ–±–ª–∞—Å—Ç—å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è, –ø–æ—ç—Ç–æ–º—É –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏—Ö —Ç–æ–ª—å–∫–æ —Ä–∞–¥–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è. –ï—Å–ª–∏ –≤–∞—à –ø—Ä–æ–µ–∫—Ç –Ω–∞–ø–∏—Å–∞–Ω –≤ –û–û–ü-—Å—Ç–∏–ª–µ, –±—É–¥–µ—Ç —Å—Ç—Ä–∞–Ω–Ω–æ —Ç–∞—â–∏—Ç—å —Ç—É–¥–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Å–≤—è–∑—ã–≤–∞–Ω–∏–µ, –∫–∞–∫ –±—ã –∑–∞–º–∞–Ω—á–∏–≤–æ —ç—Ç–æ –Ω–∏ –±—ã–ª–æ.                          |

–ì—Ä–∞–º–æ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ _–ø–æ–º–æ–≥–∞–µ—Ç_ —Å–ø—Ä–∞–≤–ª—è—Ç—å—Å—è —Å –Ω–µ—à—Ç–∞—Ç–Ω—ã–º–∏ —Å–∏—Ç—É–∞—Ü–∏—è–º–∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∏ –¥–µ–±–∞–∂–∏—Ç—å –ø—Ä–æ–±–ª–µ–º–Ω—ã–π –∫–æ–¥. –î–æ–±–∏—Ç—å—Å—è —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ —Ä–∞–∑–Ω—ã–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏, –Ω–æ –∫–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, —É–¥–æ–±–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å 3 —ç–≤—Ä–∏—Å—Ç–∏–∫:

- –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –º–µ—à–∞–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ ‚Äî –Ω–µ –ø—ã—Ç–∞—Ç—å—Å—è –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Ä–∞–±–æ—Ç—É, –∞ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫ –µ—ë –æ–±—Ä–∞–±–æ—Ç–∫–µ.
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ, –Ω–æ –Ω–µ —Å–º–µ—à–∏–≤–∞—Ç—å –≤ –∫—É—á—É —Ä–∞–∑–Ω—ã–µ –≤–∏–¥—ã –æ—à–∏–±–æ–∫.
- –ù–∏–∫–æ–≥–¥–∞ –Ω–µ —É–º–∞–ª—á–∏–≤–∞—Ç—å –Ω–∏–∫–∞–∫–∏–µ –æ—à–∏–±–∫–∏, –æ—Å–æ–±–µ–Ω–Ω–æ ‚Äî –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ.

–í —ç—Ç–æ–π –≥–ª–∞–≤–µ –º—ã —Ä–∞–∑–±–µ—Ä—ë–º—Å—è, —á–µ–º –ø–æ–ª–µ–∑–µ–Ω –∫–∞–∂–¥—ã–π –ø—É–Ω–∫—Ç –∏ –∫–∞–∫ –∏—Ö —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤ –∫–æ–¥–µ. –ù–æ –ø—Ä–µ–∂–¥–µ, —á–µ–º –ø—Ä–∏—Å—Ç—É–ø–∏—Ç—å –∫ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥—É, –Ω–µ–º–Ω–æ–≥–æ –¥–æ–≥–æ–≤–æ—Ä–∏–º—Å—è –æ —Ç–µ—Ä–º–∏–Ω–∞—Ö –∏ –≤–∏–¥–∞—Ö –æ—à–∏–±–æ–∫.

## –í–∏–¥—ã –æ—à–∏–±–æ–∫

–í ‚ÄúDomain Modeling Made Functional‚Äù –°–∫–æ—Ç—Ç –í–ª–∞—à–∏–Ω –¥–µ–ª–∏—Ç –æ—à–∏–±–∫–∏ –Ω–∞ 3 –≤–∏–¥–∞:[^dmmf]

- _–î–æ–º–µ–Ω–Ω—ã–µ_. –¢–∞–∫–∏–µ –æ—à–∏–±–∫–∏ –æ–∂–∏–¥–∞–µ–º—ã –≤ –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å–∞—Ö, –º—ã –∑–Ω–∞–µ–º –∏—Ö –ø—Ä–∏—á–∏–Ω—É –∏ –∫–∞–∫ –∏—Ö –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å. –ù–∞–ø—Ä–∏–º–µ—Ä, –¥–µ–ª–µ–Ω–∏–µ –Ω–∞ 0 –≤ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–µ ‚Äî —ç—Ç–æ –¥–æ–º–µ–Ω–Ω–∞—è –æ—à–∏–±–∫–∞, –ø–æ—Ç–æ–º—É —á—Ç–æ –∑–∞–ø—Ä–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏ ‚Äî —ç—Ç–æ —á–∞—Å—Ç—å –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏.
- _–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ_. –¢–æ–∂–µ –æ–∂–∏–¥–∞–µ–º—ã –∏ –ø–æ–Ω—è—Ç–Ω—ã –≤ –æ–±—Ä–∞–±–æ—Ç–∫–µ, –Ω–æ —Å–≤—è–∑–∞–Ω—ã —Å –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π, –∞ –Ω–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π. –ù–∞–ø—Ä–∏–º–µ—Ä, –Ω–µ—É–¥–∞—á–Ω—ã–π —Å–µ—Ç–µ–≤–æ–π –∑–∞–ø—Ä–æ—Å.
- _–ü–∞–Ω–∏–∫–∏_. –ù–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏, –º—ã –Ω–µ –∑–Ω–∞–µ–º –∫–∞–∫ –∏—Ö –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è –ø–æ—Å–ª–µ –Ω–∏—Ö. –ù–∞–ø—Ä–∏–º–µ—Ä, –ø–æ–ª—É—á–∏—Ç—å `null` —Ç–∞–º, –≥–¥–µ –µ–≥–æ –±—ã—Ç—å –Ω–µ –¥–æ–ª–∂–Ω–æ ‚Äî —ç—Ç–æ –ø–∞–Ω–∏–∫–∞, –ø–æ—Ç–æ–º—É —á—Ç–æ –Ω–µ–ø–æ–Ω—è—Ç–Ω–æ, –∫–∞–∫ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Ä–∞–±–æ—Ç—É –ø—Ä–æ–≥—Ä–∞–º–º—ã –±–µ–∑ –Ω—É–∂–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

| –ö —Å–ª–æ–≤—É üôÖ                                                                                                                                                                                                         |
| :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| –Ø —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é —Ç–µ—Ä–º–∏–Ω ¬´–∏—Å–∫–ª—é—á–µ–Ω–∏–µ¬ª, –ø–æ—Ç–æ–º—É —á—Ç–æ –≤ —Ä–∞–∑–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–∞—Ö ¬´–∏—Å–∫–ª—é—á–µ–Ω–∏—è¬ª –∏ ¬´–æ—à–∏–±–∫–∏¬ª –∑–Ω–∞—á–∞—Ç —Ä–æ–≤–Ω–æ –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω–æ–µ.[^errorsexceptions][^errormodel] –í–º–µ—Å—Ç–æ –Ω–µ–≥–æ —è –±—É–¥—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ—Ä–º–∏–Ω ¬´–ø–∞–Ω–∏–∫–∞¬ª. |

–ú—ã –±—É–¥–µ–º —á–∞—Å—Ç–æ —Å–≤–µ—Ä—è—Ç—å—Å—è —Å —ç—Ç–∏–º —Å–ø–∏—Å–∫–æ–º –≤–æ –≤—Ä–µ–º—è —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞. –û–Ω –ø–æ–º–æ–∂–µ—Ç –Ω–∞–º –Ω–µ —Å–º–µ—à–∏–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É —Ä–∞–∑–Ω—ã—Ö –æ—à–∏–±–æ–∫ –≤ –∫—É—á—É, –∞ —Ç–∞–∫–∂–µ –≤—ã–±–∏—Ä–∞—Ç—å –ø–æ–¥—Ö–æ–¥—è—â–∏–µ —Ç–µ—Ö–Ω–∏–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Å–ª—É—á–∞–∏.

## –¢–µ—Ö–Ω–∏–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏

–¢–µ—Ö–Ω–∏–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –∑–∞–≤–∏—Å—è—Ç –æ—Ç —è–∑—ã–∫–∞, –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π –∫–æ–º–∞–Ω–¥—ã, —Å–ø–µ—Ü–∏—Ñ–∏–∫–∏ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –ø—Ä–æ–µ–∫—Ç–∞. –ß–∞—â–µ –≤—Å–µ–≥–æ –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è –∫–æ–¥, –≥–¥–µ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞ –æ–¥–Ω–∏–º –∏–∑ 4 —Å–ø–æ—Å–æ–±–æ–≤:

- –° –ø–æ–º–æ—â—å—é –≤—ã–±—Ä–∞—Å—ã–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ `throw`;
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Result-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤;
- –°–æ—á–µ—Ç–∞–Ω–∏—è –≤—ã–±—Ä–∞—Å—ã–≤–∞–Ω–∏—è –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤;
- –°–æ—á–µ—Ç–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ —Å–≤—è–∑—ã–≤–∞–Ω–∏—è.

–ú—ã –Ω–µ –±—É–¥–µ–º ¬´—Ä–∞–Ω–∂–∏—Ä–æ–≤–∞—Ç—å¬ª –∏—Ö ¬´–æ—Ç –ø–ª–æ—Ö–∏—Ö –∫ —Ö–æ—Ä–æ—à–∏–º¬ª. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –æ–±—Å—É–¥–∏–º –∏—Ö –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–∏, –∞ —Ç–∞–∫–∂–µ –∏—Å—Å–ª–µ–¥—É–µ–º, –∫–∞–∫–∏–µ –æ–±—Å—Ç–æ—è—Ç–µ–ª—å—Å—Ç–≤–∞ –≤ –ø—Ä–æ–µ–∫—Ç–µ –º–æ–≥—É—Ç –ø–æ–¥—Ç–æ–ª–∫–Ω—É—Ç—å –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —Ç–æ–π –∏–ª–∏ –∏–Ω–æ–π —Ç–µ—Ö–Ω–∏–∫–∏.

–ù–∞–ø—Ä–∏–º–µ—Ä, —Å–ø–µ—Ä–≤–∞ –º—ã –æ–±—Å—É–¥–∏–º, –∫–∞–∫ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å –∫–æ–¥, –≤ –∫–æ—Ç–æ—Ä–æ–º –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –≤—ã–±—Ä–∞—Å—ã–≤–∞–Ω–∏–µ –ø–∞–Ω–∏–∫. –ó–∞—Ç–µ–º –ø–æ–≥–æ–≤–æ—Ä–∏–º, —á–µ–º –ø–æ–ª–µ–∑–Ω—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, –∫–∞–∫ –∏ –∫–æ–≥–¥–∞ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Ö. –ë–ª–∏–∂–µ –∫ –∫–æ–Ω—Ü—É –≥–ª–∞–≤—ã –ø–æ—Å–º–æ—Ç—Ä–∏–º, –∫–∞–∫ –º–æ–∂–Ω–æ —Å–æ—á–µ—Ç–∞—Ç—å —Ä–∞–∑–Ω—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏ –≤–º–µ—Å—Ç–µ.

| –ë—É–¥—å—Ç–µ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω—ã üöß                                                                                                                                                                   |
| :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| –ü–æ–≤—Ç–æ—Ä—é—Å—å, —á—Ç–æ –ø—Ä–∏—ë–º—ã –≤ –∫–Ω–∏–≥–µ ‚Äî —ç—Ç–æ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏, –∞ –Ω–µ –ø—Ä–∞–≤–∏–ª–∞. –†–µ—à–µ–Ω–∏–µ, –ø—Ä–∏–º–µ–Ω—è—Ç—å –ª–∏ —ç—Ç–∏ –∏–¥–µ–∏, —Å—Ç–æ–∏—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –≤ –∫–∞–∂–¥–æ–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏, –ø–æ—Å–æ–≤–µ—Ç–æ–≤–∞–≤—à–∏—Å—å —Å –¥—Ä—É–≥–∏–º–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏. |

## –í—ã–±—Ä–∞—Å—ã–≤–∞–Ω–∏–µ –ø–∞–Ω–∏–∫

–í JavaScript-–∫–æ–¥–µ —Å–∞–º—ã–π —á–∞—Å—Ç—ã–π —Å–ø–æ—Å–æ–± —Ä–∞–±–æ—Ç—ã —Å –æ—à–∏–±–∫–∞–º–∏ ‚Äî –≤—ã–±—Ä–æ—Å–∏—Ç—å –ø–∞–Ω–∏–∫—É —Å –ø–æ–º–æ—â—å—é `throw new Error()`. –í—ã–±—Ä–∞—Å—ã–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞—Ç–∏–≤–Ω–æ ¬´–∏–∑ –∫–æ—Ä–æ–±–∫–∏¬ª, –∏ —ç—Ç–æ—Ç —Å–ø–æ—Å–æ–± ‚Äî –ø–µ—Ä–≤—ã–π, –∫–æ—Ç–æ—Ä—ã–π –≤—Å–ø–ª—ã–≤–∞–µ—Ç –≤ –≥–æ–ª–æ–≤–µ, –∫–æ–≥–¥–∞ –Ω–∞–¥–æ ¬´—Å–æ–æ–±—â–∏—Ç—å, —á—Ç–æ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫¬ª.

| –ö —Å–ª–æ–≤—É üëÄ                                                                                                                                             |
| :----------------------------------------------------------------------------------------------------------------------------------------------------- |
| –ö—Ä–æ–º–µ `Error` –µ—â—ë –µ—Å—Ç—å `Promise.reject`, –Ω–æ –æ–Ω —Å–∫–æ—Ä–µ–µ —Å–≤—è–∑–∞–Ω —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏, –ø–æ—ç—Ç–æ–º—É, –Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–µ –∏–º –ø–æ–ª—å–∑—É—é—Ç—Å—è –≥–æ—Ä–∞–∑–¥–æ —Ä–µ–∂–µ. |

–ì–ª–∞–≤–Ω—ã–π –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ–∫ –ø–∞–Ω–∏–∫ –≤ —Ç–æ–º, —á—Ç–æ –æ–Ω–∏ –±–æ–ª—å—à–µ –ø–æ–¥—Ö–æ–¥—è—Ç –¥–ª—è –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã—Ö –æ—à–∏–±–æ–∫, —á–µ–º –¥–ª—è –æ–∂–∏–¥–∞–µ–º—ã—Ö. –ü–∞–Ω–∏–∫–∏ –æ–ø–∏—Å—ã–≤–∞—é—Ç —Å–∏—Ç—É–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏–≤–æ–¥—è—Ç –ø—Ä–æ–≥—Ä–∞–º–º—É –≤ –Ω–µ–∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –æ—Ç –∫–æ—Ç–æ—Ä–æ–≥–æ _–Ω–µ–ª—å–∑—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è_. –û—Ç –æ–∂–∏–¥–∞–µ–º—ã—Ö –∂–µ –æ—à–∏–±–æ–∫ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è –º–æ–∂–Ω–æ –∏ –∏–∑–≤–µ—Å—Ç–Ω–æ –∫–∞–∫. –ò–∑-–∑–∞ —ç—Ç–æ–π —Ä–∞–∑–Ω–∏—Ü—ã –µ—Å—Ç—å –¥–∞–∂–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –∏–∑–±–µ–≥–∞—Ç—å –ø–∞–Ω–∏–∫ –≤ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–µ.[^replacethrow][^pragmaticprogrammer]

–ù–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ, –æ–¥–Ω–∞–∫–æ, –¥–æ–±–∏—Ç—å—Å—è —Ç–∞–∫–æ–≥–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –º–æ–∂–Ω–æ –Ω–µ –≤—Å–µ–≥–¥–∞. –ë—ã–≤–∞—é—Ç –ø—Ä–æ–µ–∫—Ç—ã, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø–∞–Ω–∏–∫ –∏ –æ—à–∏–±–æ–∫ –ø–µ—Ä–µ–º–µ—à–∞–Ω–∞ –∏ —É—Å—Ç—Ä–æ–µ–Ω–∞ –æ–¥–∏–Ω–∞–∫–æ–≤–æ —Å –ø–æ–º–æ—â—å—é –≤—ã–±—Ä–∞—Å—ã–≤–∞–Ω–∏—è. –í —Ç–∞–∫–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–ª–æ–∂–Ω–æ –≤–Ω–µ–¥—Ä–∏—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –∏ –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è —Ä–∞–±–æ—Ç–∞—Ç—å —Ç–æ–ª—å–∫–æ —Å –ø–∞–Ω–∏–∫–∞–º–∏. –ù–æ –¥–∞–∂–µ —Ç–∞–∫–æ–π –∫–æ–¥ –º—ã –≤—Å—ë –µ—â—ë –º–æ–∂–µ–º —Å–¥–µ–ª–∞—Ç—å –Ω–µ–º–Ω–æ–≥–æ –ª—É—á—à–µ.

–†–∞–∑–±–µ—Ä—ë–º –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ. –î–æ–ø—É—Å—Ç–∏–º, —É –Ω–∞—Å –µ—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏—è `getUser`, –∫–æ—Ç–æ—Ä–∞—è –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ API, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ. –ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Ç–≤–µ—Ç–∞ –æ–Ω–∞ –ø–∞—Ä—Å–∏—Ç –µ–≥–æ –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ.

```js
async function getUser(id) {
  const dto = await fetchUser(id);
  const user = dto ?? parseUser(dto);
  if (user) storage.setUser(user);
  else storage.setError("Something went wrong.");
}
```

–§—É–Ω–∫—Ü–∏—è `fetchUser` –∑–∞–Ω–∏–º–∞–µ—Ç—Å—è –∑–∞–ø—Ä–æ—Å–æ–º –∫ —Å–µ—Ç–∏ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç DTO –∏–∑ –æ—Ç–≤–µ—Ç–∞ —Å–µ—Ä–≤–µ—Ä–∞ –∏–ª–∏ `null`, –µ—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –æ—Ç–≤–µ—Ç–∏–ª —Å –æ—à–∏–±–∫–æ–π:

```js
async function fetchUser(url) {
  const response = await fetch(url);
  const { value, error } = await response.json();
  if (error) return null;
  return value;
}
```

–§—É–Ω–∫—Ü–∏—è `parseUser` –ø–∞—Ä—Å–∏—Ç —Å–µ—Ä–≤–µ—Ä–Ω—ã–π –æ—Ç–≤–µ—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ `null`, –µ—Å–ª–∏ DTO –æ–∫–∞–∑–∞–ª—Å—è –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–º:

```js
function parseUser(dto: UserDto): User {
  if (!dto || !dto.firstName || !dto.lastName || !dto.email) return null;
  return { ...dto, fullName: `${firstName} ${lastName}` };
}
```

–ß—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, –∫–∞–∫ –∏–º–µ–Ω–Ω–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å —ç—Ç–æ—Ç –∫–æ–¥, —Å–ø–µ—Ä–≤–∞ –æ–ø—Ä–µ–¥–µ–ª–∏–º –≤ –Ω—ë–º –ø—Ä–æ–±–ª–µ–º—ã:

- –û–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –∫–∞–∫ —Ç–∞–∫–æ–≤–æ–π —Ç—É—Ç –Ω–µ—Ç. –ú—ã –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –∏–∑ —Ñ—É–Ω–∫—Ü–∏–π `null`, –∫–æ–≥–¥–∞ —á—Ç–æ-—Ç–æ –∏–¥—ë—Ç –Ω–µ —Ç–∞–∫, –Ω–æ _—É–º–∞–ª—á–∏–≤–∞–µ–º_ –ø—Ä–∏—á–∏–Ω—ã –æ—à–∏–±–æ–∫ –∏ –Ω–∏–∫–∞–∫ –∏—Ö –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º.
- –ò–∑-–∑–∞ `null` –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö `fetchUser` –∏ `parseUser` –º—ã —Ç–µ—Ä—è–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç —Ç–æ–≥–æ, —á—Ç–æ –∏–º–µ–Ω–Ω–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫, –∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ –≤—ã—à–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è _–ø—Ä–æ–≤–µ—Ä—è—Ç—å –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Ç–µ –∂–µ –æ—à–∏–±–∫–∏ —Å–Ω–æ–≤–∞_. –ò–∑-–∑–∞ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–æ–∫ –∫–æ–¥ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —à—É–º–Ω—ã–º.
- –í —Ñ—É–Ω–∫—Ü–∏–∏ `fetchUser` —É—á—Ç–µ–Ω—ã _—Ç–æ–ª—å–∫–æ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ_ –ø—Ä–æ–±–ª–µ–º—ã, –∞ —è–≤–Ω–æ–≥–æ –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–µ–ø—Ä–µ–¥–≤–∏–¥–µ–Ω–Ω—ã—Ö –æ—à–∏–±–æ–∫ –¥—Ä—É–≥–∏–º –º–æ–¥—É–ª—è–º –Ω–µ—Ç. –ü—Ä–∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–∏ —Ç–∞–∫–æ–≥–æ –∫–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –º–æ–∂–µ—Ç —É–ø–∞—Å—Ç—å –Ω–∞ –ª—é–±–æ–π —Å—Ç—Ä–æ—á–∫–µ.
- –ú—ã _–Ω–µ —Ä–∞–∑–ª–∏—á–∞–µ–º_ –æ—à–∏–±–∫–∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏. –ü—Ä–∏ –∞–Ω–∞–ª–∏–∑–µ –æ—à–∏–±–æ–∫ —ç—Ç–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –º–æ–≥–ª–∞ –±—ã –ø–æ–Ω–∞–¥–æ–±–∏—Ç—å—Å—è –¥–ª—è –ø–æ–∏—Å–∫–∞ –º–µ—Å—Ç, –≥–¥–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–ª–æ–º–∞–ª–æ—Å—å.

–ü–æ–ø—Ä–æ–±—É–µ–º —ç—Ç–∏ –ø—Ä–æ–±–ª–µ–º—ã –∏—Å–ø—Ä–∞–≤–∏—Ç—å.

### –ù–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏ –ø–æ—Ç–µ—Ä—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

–û–¥–Ω–∞ –∏–∑ –ø—Ä–∏—á–∏–Ω –¥–ª—è —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –∫–æ–¥–∞ —Å –≤—ã–±—Ä–∞—Å—ã–≤–∞–Ω–∏–µ–º ‚Äî –Ω–µ–æ—á–µ–≤–∏–¥–Ω–æ—Å—Ç—å —Ç–æ–≥–æ, –∫–∞–∫–∏–µ –æ—à–∏–±–∫–∏ –º—ã –æ—Ç–ª–æ–≤–∏–º, –∞ –∫–∞–∫–∏–µ –Ω–µ—Ç. –í —Ç–∞–∫–æ–º –∫–æ–¥–µ –ª–µ–≥–∫–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—É—é –æ—à–∏–±–∫—É, –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É–ø–∞–¥—ë—Ç, –∫–æ–≥–¥–∞ –º—ã —ç—Ç–æ–≥–æ –Ω–µ –æ–∂–∏–¥–∞–µ–º.

–ù–∞–ø—Ä–∏–º–µ—Ä, —Å–µ–π—á–∞—Å –µ—Å–ª–∏ –≤–Ω—É—Ç—Ä–∏ `fetchUser` –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç –æ—à–∏–±–∫–∞, –∫–æ—Ç–æ—Ä—É—é –º—ã –Ω–µ –∂–¥–∞–ª–∏, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É–ø–∞–¥—ë—Ç:

```js
async function fetchUser(url) {
  const response = await fetch(url);

  // –î–æ–ø—É—Å—Ç–∏–º, –ø–æ—Å–ª–µ —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∏ JSON –º—ã –ø–æ–ª—É—á–∏–ª–∏ –Ω–µ –æ–±—ä–µ–∫—Ç, –∞ `null`,
  // —Ç–æ–≥–¥–∞ —Å–ª–µ–¥—É—é—â–∞—è —Å—Ç—Ä–æ–∫–∞ –≤—ã–±—Ä–æ—Å–∏—Ç `null is not an object`:
  const { value, error } = await response.json();
  // ...
}
```

–ú—ã –º–æ–∂–µ–º —ç—Ç–æ —Ä–µ—à–∏—Ç—å, –¥–æ–±–∞–≤–∏–≤ –æ–±—Ä–∞–±–æ—Ç–∫—É —á–µ—Ä–µ–∑ `try-catch` –Ω–∞ —É—Ä–æ–≤–Ω–µ –≤—ã—à–µ. –í—ã–±—Ä–æ—à–µ–Ω–Ω–∞—è –æ—à–∏–±–∫–∞ –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `getUser` –±—É–¥–µ—Ç –ø–µ—Ä–µ—Ö–≤–∞—á–µ–Ω–∞, –∏ –º—ã —Å–º–æ–∂–µ–º –µ—ë –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å:

```js
async function getUser(id) {
  try {
    const dto = await fetchUser(id);
    const user = dto ?? parseUser(dto);
    if (user) storage.setUser(user);
    else storage.setError("Something went wrong.");
  } catch (error) {
    storage.setError("Couldn't fetch the data.");
  }
}
```

–û–¥–Ω–∞–∫–æ, –µ—Å–ª–∏ –º—ã –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ–º –ø–∞–Ω–∏–∫–∏ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ _–≤—Å–µ—Ö_ –æ—à–∏–±–æ–∫, —Ç–æ –º—ã –º–æ–∂–µ–º —Å–ª—É—á–∞–π–Ω–æ —Å–º–µ—à–∞—Ç—å –æ–∂–∏–¥–∞–µ–º—ã–µ –∏ –Ω–µ–æ–∂–∏–¥–∞–µ–º—ã–µ –æ—à–∏–±–∫–∏. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ç–æ–∂–µ –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –ø–∞–Ω–∏–∫–∏:

```js
function parseUser(dto: UserDto): User {
  if (!dto) throw new Error("Missing user DRO.");

  const { firstName, lastName, email } = dto;
  if (!firstName || !lastName || !email) throw new Error("Invalid user DRO.");

  return { ...dto, fullName: `${firstName} ${lastName}` };
}
```

–¢–æ `try-catch` –Ω–∞ —É—Ä–æ–≤–Ω–µ –≤—ã—à–µ —Å–º–æ–∂–µ—Ç –∏—Ö –ø–æ–π–º–∞—Ç—å, –Ω–æ –º—ã –Ω–µ —Å–º–æ–∂–µ–º –æ—Ç–ª–∏—á–∏—Ç—å —Ä–∞–∑–Ω—ã–µ –æ—à–∏–±–∫–∏ –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞:

```js
async function getUser(id) {
  try {
    // ...
  } catch (error) {
    // error ‚Äî —ç—Ç–æ –æ—à–∏–±–∫–∞ —Å–µ—Ç–∏ –∏–ª–∏ –æ—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏?
    // –û–Ω–∞ –æ–∂–∏–¥–∞–µ–º–∞ –∏–ª–∏ –Ω–µ—Ç?
    //
    // –ú—ã –º–æ–∂–µ–º –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –æ—à–∏–±–∫–∏ –ø–æ —Å–æ–æ–±—â–µ–Ω–∏—é,
    // –∫–æ—Ç–æ—Ä–æ–µ –ø–µ—Ä–µ–¥–∞–≤–∞–ª–∏ –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä Error,
    // –Ω–æ —ç—Ç–æ –Ω–µ–Ω–∞–¥—ë–∂–Ω–æ.
  }
}
```

| –ó–∞—á–µ–º –∑–Ω–∞—Ç—å —Ä–∞–∑–Ω–∏—Ü—É ü§î                                                                                                                                                                                                                                                                                                    |
| :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| –ú—ã —Ö–æ—Ç–∏–º —Ä–∞–∑–ª–∏—á–∞—Ç—å –æ—à–∏–±–∫–∏ –∏ –ø–∞–Ω–∏–∫–∏, –ø–æ—Ç–æ–º—É —á—Ç–æ –∏—Ö –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω—É–∂–Ω–æ –ø–æ-—Ä–∞–∑–Ω–æ–º—É –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å. –í –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –ø—Ä–æ–µ–∫—Ç–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω—É–∂–Ω–æ, –Ω–∞–ø—Ä–∏–º–µ—Ä, –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å –ø–∞–Ω–∏–∫–∏ –≤ –∞–ª—ë—Ä—Ç-–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–µ, –∞ –æ–∂–∏–¥–∞–µ–º—ã–µ –æ—à–∏–±–∫–∏ –æ—Ç—Ä–∞–∂–∞—Ç—å –≤ —Å–µ—Ä–≤–∏—Å–µ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏. –ß–µ–º –ø—Ä–æ—â–µ –∏—Ö –æ—Ç–ª–∏—á–∏—Ç—å, —Ç–µ–º –º–µ–Ω—å—à–µ –∫–æ–¥–∞ —É–π–¥—ë—Ç –Ω–∞ —Ä–∞–∑–¥–µ–ª—å–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É. |

–ß—Ç–æ–±—ã –æ—Ç–ª–∏—á–∞—Ç—å –ø–∞–Ω–∏–∫–∏ –æ—Ç –¥–æ–º–µ–Ω–Ω—ã—Ö –∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã—Ö –æ—à–∏–±–æ–∫, –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –≤—Å–µ—Ö –Ω–∏—Ö –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ç–∏–ø—ã.

### –†–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –æ—à–∏–±–æ–∫

–í —Å–ª—É—á–∞–µ —Å JavaScript ¬´–æ—Ç–¥–µ–ª—å–Ω—ã–π —Ç–∏–ø¬ª –æ—à–∏–±–∫–∏ ‚Äî —ç—Ç–æ –∫–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞—Å—à–∏—Ä—è–µ—Ç `Error`. –í —Ç–∞–∫–∏—Ö —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è—Ö –º—ã –º–æ–∂–µ–º —É–∫–∞–∑–∞—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ –∏–ª–∏ –≤–∏–¥ –æ—à–∏–±–∫–∏, –∞ —Ç–∞–∫–∂–µ –∫–∞–∫—É—é-—Ç–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –ø–æ–ª—è—Ö.

–ù–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è —Ä–∞–∑–ª–∏—á–µ–Ω–∏—è —Å–µ—Ç–µ–≤—ã—Ö –æ—à–∏–±–æ–∫ –∏ –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏, –º—ã –º–æ–∂–µ–º —Å–æ–∑–¥–∞—Ç—å —Ç–∞–∫–∏–µ —Ç–∏–ø—ã:

```js
// –û—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏:
class InvalidUserDto extends Error {
  constructor(message) {
    super(message ?? "The given User DTO is invalid.");
    this.name = this.constructor.name;
  }
}

// –û—à–∏–±–∫–∏ API:
class NetworkError extends Error {
  constructor(message, status, traceId) {
    this.name = this.constructor.name;
    this.message = message ?? messageFromStatus(status);

    // –ú–æ–∂–Ω–æ —Ä–∞—Å—à–∏—Ä–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –ø–æ–ª—è–º–∏ –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:
    this.status = status;
    this.traceId = traceId;
  }
}
```

| –ö —Å–ª–æ–≤—É üëÄ                                                                                                                                                                               |
| :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| –ï—Å–ª–∏ –ø—Ä–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –Ω–∞–¥–æ –≤—ã–±—Ä–æ—Å–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ—à–∏–±–æ–∫ —Å—Ä–∞–∑—É, –∞ –Ω–µ –≤—ã–±—Ä–∞—Å—ã–≤–∞—Ç—å –ø–æ –æ–¥–Ω–æ–π, —Ç–æ –º–æ–∂–Ω–æ —Ä–∞—Å—à–∏—Ä–∏—Ç—å –∫–ª–∞—Å—Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –ø–æ–ª—è–º–∏ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `AggregateError`.[^aggregateerror] |

–¢–æ–≥–¥–∞ –ø—Ä–∏ –æ—Ç–ª–æ–≤–µ –º—ã —Å–º–æ–∂–µ–º –ø–æ —Ç–∏–ø—É –ø–æ–Ω—è—Ç—å, —á—Ç–æ –∏–º–µ–Ω–Ω–æ —Å–ª—É—á–∏–ª–æ—Å—å:

```js
async function getUser(id) {
  try {
    // ...
  } catch (error) {
    if (error instanceof InvalidUserDto) {
    } else if (error instanceof NetworkError) {
    } else throw error;
  }
}
```

### Fail Fast

–£ —Ç–∞–∫–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –º–Ω–æ–≥–æ –º–∏–Ω—É—Å–æ–≤. –ù–∞–ø—Ä–∏–º–µ—Ä, –æ–Ω–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤—ã–±—Ä–∞—Å—ã–≤–∞–Ω–∏–µ –≤ –∫–æ–¥–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏, –∞ —Ç–∞–∫–∂–µ –Ω–∞—Ä—É—à–∞–µ—Ç LSP[^lsp] –≤–Ω—É—Ç—Ä–∏ –±–ª–æ–∫–∞ `catch`. –ù–æ –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —ç—Ç–æ —É –Ω–µ—ë –µ—Å—Ç—å –æ–¥–Ω–æ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ: –ø—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ –æ—à–∏–±–∫–∏ –º—ã –Ω–µ –ø—ã—Ç–∞–µ–º—Å—è –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Ä–∞–±–æ—Ç—É, –∞ –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ –µ—ë –æ–±—Ä–∞–±–æ—Ç–∫–µ.

–ú—ã –Ω–µ —Ö–æ—Ç–∏–º –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å ¬´–Ω–æ—Ä–º–∞–ª—å–Ω—É—é —Ä–∞–±–æ—Ç—É¬ª, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ—à–∏–±–∫–∞ ‚Äî —ç—Ç–æ _–Ω–µ–∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ_ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –í —Ç–∞–∫–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –Ω–µ—Ç –≥–∞—Ä–∞–Ω—Ç–∏–π, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤–∞–ª–∏–¥–Ω—ã, —Ü–µ–ª–æ—Å—Ç–Ω—ã, –∏ —Å –Ω–∏–º–∏ –º–æ–∂–Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Ä–∞–±–æ—Ç–∞—Ç—å.

–ï—Å–ª–∏ –º—ã –≤ —ç—Ç–æ—Ç –º–æ–º–µ–Ω—Ç –∑–∞–≤–µ—Ä—à–∞–µ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∏ –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ –æ–±—Ä–∞–±–æ—Ç–∫–µ, –º—ã –æ–±–µ–∑–æ–ø–∞—à–∏–≤–∞–µ–º —Å–µ–±—è –æ—Ç –¥–∞–ª—å–Ω–µ–π—à–∏—Ö –æ—à–∏–±–æ–∫, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç —Å–∏–ª—å–Ω–µ–µ –ø–æ–≤—Ä–µ–¥–∏—Ç—å –¥–∞–Ω–Ω—ã–µ. –ö—Ä–æ–º–µ —ç—Ç–æ–≥–æ –º—ã –æ—á–∏—â–∞–µ–º –∫–æ–¥ –∫–æ–¥ –¥–æ–º–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏, –æ—Å–≤–æ–±–æ–∂–¥–∞—è –µ–≥–æ –æ—Ç –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫.

<figure>
  <img src="../images/12-linear-execution.png" width="600">
  <figcaption><em>–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–¥–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ª–∏–Ω–µ–π–Ω—ã–º, –∞ –≤—Å–µ –≤–µ—Ç–∫–∏ —Å –æ—à–∏–±–∫–∞–º–∏ —Å—Ä–∞–∑—É –∂–µ –≤–µ–¥—É—Ç –≤ —Ç–æ—á–∫—É –æ–±—Ä–∞–±–æ—Ç–∫–∏</em><br><br></figcaption>
</figure>

### Rethrow

–í –ø–æ—Å–ª–µ–¥–Ω–µ–º –ø—Ä–∏–º–µ—Ä–µ –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å—Ç—Ä–æ–∫–µ –±–ª–æ–∫–∞ `catch` –ø–æ—è–≤–∏–ª–æ—Å—å –≤—ã—Ä–∞–∂–µ–Ω–∏–µ `else throw error` ‚Äî —ç—Ç–æ —Ç–∞–∫ –Ω–∞–∑—ã–≤–∞–µ–º–æ–µ _–ø–µ—Ä–µ–±—Ä–∞—Å—ã–≤–∞–Ω–∏–µ (rethrow)_. –ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –µ–≥–æ –∫–∞–∫ –º–µ—Ö–∞–Ω–∏–∑–º, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–æ–≥–∞–µ—Ç _–Ω–µ –∑–∞–º–∞–ª—á–∏–≤–∞—Ç—å_ –æ—à–∏–±–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –º—ã –Ω–µ –º–æ–∂–µ–º –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å.

–ï—Å–ª–∏ —Ç–µ–∫—É—â–∏–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø—Ä–æ–≤–µ—Ä–∏–ª –æ—à–∏–±–∫—É –Ω–∞ –≤—Å–µ –∑–Ω–∞–∫–æ–º—ã–µ –µ–º—É —Ç–∏–ø—ã, –Ω–æ –Ω–µ –Ω–∞—à—ë–ª –ø–æ–¥—Ö–æ–¥—è—â–µ–≥–æ, –æ–Ω –º–æ–∂–µ—Ç –ø–µ—Ä–µ–±—Ä–æ—Å–∏—Ç—å –µ—ë –Ω–∞ —É—Ä–æ–≤–µ–Ω—å –≤–≤–µ—Ä—Ö, —á—Ç–æ–±—ã –æ—à–∏–±–∫–æ–π –∑–∞–Ω—è–ª—Å—è ¬´–∫—Ç–æ-—Ç–æ –ø–æ—É–º–Ω–µ–µ, –∫—Ç–æ –∑–Ω–∞–µ—Ç, —á—Ç–æ –¥–µ–ª–∞—Ç—å¬ª.

| –û–¥–Ω–∞–∫–æ ‚ùì                                                                                             |
| :---------------------------------------------------------------------------------------------------- |
| –¢—É—Ç –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –≤–æ–ø—Ä–æ—Å, –∫—Ç–æ –±—É–¥–µ—Ç —ç—Ç–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å. –û–± —ç—Ç–æ–º –º—ã –ø–æ–≥–æ–≤–æ—Ä–∏–º –ø–æ–¥—Ä–æ–±–Ω–µ–µ –±–ª–∏–∂–µ –∫ –∫–æ–Ω—Ü—É –≥–ª–∞–≤—ã. |

–í —Ç–∞–∫–æ–º –∫–æ–¥–µ —Ñ—É–Ω–∫—Ü–∏–∏ ¬´–≤—ã–ø—Ä—è–º–ª—è—é—Ç—Å—è¬ª, –∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–≤–µ—Ä–æ–∫ –Ω–∞ `null` —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è:

```js
async function getUser(id) {
  try {
    const dto = await fetchUser(id);
    const user = parseUser(dto);
    storage.setUser(user);
  } catch (error) {
    if (error instanceof InvalidUserDto || error instanceof NetworkError) {
      storage.setError(error.message);
    } else throw error;
  }
}
```

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

–ú—ã –¥–æ–±–∏–ª–∏—Å—å –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —É–ª—É—á—à–µ–Ω–∏–π –∫–æ–¥–∞. –ò —Ö–æ—Ç—å –∏—Ö –Ω–µ–º–Ω–æ–≥–æ, –æ–Ω–∏ –º–æ–≥—É—Ç (–Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É—é—Ç, –Ω–æ –º–æ–≥—É—Ç) —É–ø—Ä–æ—Å—Ç–∏—Ç—å —Ä–∞–±–æ—Ç—É:

- –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å—Ç–∞–ª–æ –±–æ–ª–µ–µ _–ª–∏–Ω–µ–π–Ω—ã–º_. –ú—ã –ø–µ—Ä–µ—Å—Ç–∞–ª–∏ –ø–µ—Ä–µ–ø—Ä–æ–≤–µ—Ä—è—Ç—å –¥–∞–Ω–Ω—ã–µ –Ω–∞ —É–∂–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏, –ø–æ—ç—Ç–æ–º—É –ø–æ—Ç–æ–∫ –∫–æ–¥–∞ —Å—Ç–∞–ª –±–æ–ª–µ–µ ¬´–ø—Ä—è–º—ã–º¬ª.
- –ö–æ–¥ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –∫ –æ–±—Ä–∞–±–æ—Ç–∫–µ –æ—à–∏–±–æ–∫ —Å—Ä–∞–∑—É, –∫–∞–∫ —Ç–æ–ª—å–∫–æ _–Ω–æ—Ä–º–∞–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–µ–≤–æ–∑–º–æ–∂–Ω—ã–º_. –ú—ã –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –æ—à–∏–±–∫—É –≤ –Ω–∞—á–∞–ª–µ, –Ω–µ –¥–∞–≤–∞—è –µ–π –ø—Ä–∏–≤–µ—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ –Ω–µ–≤–∞–ª–∏–¥–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ.
- _–ö–æ–Ω—Ç–µ–∫—Å—Ç –æ—à–∏–±–æ–∫ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è_, –ø–æ—ç—Ç–æ–º—É –ø—Ä–∏ –Ω–∞—á–∞–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —É –Ω–∞—Å –µ—Å—Ç—å –ø–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–æ–º, —á—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ.

### –ü—Ä–æ–±–ª–µ–º—ã

–ù–æ —É –≤—ã–±—Ä–∞—Å—ã–≤–∞–Ω–∏—è –µ—Å—Ç—å –∏ –ø—Ä–æ–±–ª–µ–º—ã:

- –í—ã–±—Ä–æ—à–µ–Ω–Ω–∞—è –æ—à–∏–±–∫–∞ –º–æ–∂–µ—Ç –≤—ã—Å—Ç—Ä–µ–ª–∏—Ç—å –≤ —Ä–∞–Ω—Ç–∞–π–º–µ, –µ—Å–ª–∏ –µ—ë –Ω–µ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å.
- –ü—Ä–∏ —ç—Ç–æ–º –≤ —è–∑—ã–∫–µ –Ω–µ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –±—ã _–∑–∞—Å—Ç–∞–≤–∏–ª–∏_ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –≤–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏, –ø–æ—ç—Ç–æ–º—É –æ–±—Ä–∞–±–æ—Ç–∫—É –ª–µ–≥–∫–æ –∑–∞–±—ã—Ç—å –∏–ª–∏ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å.
- –í –∫–æ–¥–µ –ø–æ—á—Ç–∏ –Ω–µ—Ç —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–æ–π —Ä–∞–∑–Ω–∏—Ü—ã –º–µ–∂–¥—É –æ—à–∏–±–∫–∞–º–∏ –∏ –ø–∞–Ω–∏–∫–∞–º–∏, –∏–∑-–∑–∞ —á–µ–≥–æ –∏—Ö —Å–ª–æ–∂–Ω–æ —Ä–∞–∑–ª–∏—á–∞—Ç—å.
- –ü—Ä–∏ —ç—Ç–æ–º –≤—ã–±—Ä–∞—Å—ã–≤–∞—Ç—å –ø–∞–Ω–∏–∫–∏ –≤ –∫–æ–¥–µ –¥–æ–º–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏ ‚Äî —è–≤–Ω—ã–π –∑–∞–ø–∞—Ö, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ—à–∏–±–∫–∏ –¥–æ–º–µ–Ω–∞ ‚Äî –Ω–µ –ø–∞–Ω–∏–∫–∏, –æ–Ω–∏ –æ–∂–∏–¥–∞–µ–º—ã.
- –í—ã–ø–æ–ª–Ω–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –Ω–∞ –≤—Å–µ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –æ—à–∏–±–∫–∏ –º–æ–∂–Ω–æ, –Ω–æ —ç—Ç–æ –≤—ã–≥–ª—è–¥–∏—Ç –Ω–µ–∫—Ä–∞—Å–∏–≤–æ –∏–∑-–∑–∞ `instanceof`.
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `instanceof` –º–æ–∂–Ω–æ –∏–∑–±–µ–∂–∞—Ç—å, —Å–æ–∑–¥–∞–≤–∞—è –ø–æ–¥–∫–ª–∞—Å—Å—ã –Ω–∞ –∫–∞–∂–¥—ã–π ¬´—Å–ª–æ–π¬ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –Ω–æ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç –º–æ–¥–µ–ª—å –æ—à–∏–±–æ–∫ —Å–ª–æ–∂–Ω–µ–µ.
- –°–∏–≥–Ω–∞—Ç—É—Ä–∞ —Ñ—É–Ω–∫—Ü–∏–π –Ω–µ —Å–æ–æ–±—â–∞–µ—Ç, —á—Ç–æ –æ–Ω–∏ –º–æ–≥—É—Ç –≤—ã–±—Ä–æ—Å–∏—Ç—å –æ—à–∏–±–∫—É ‚Äî –º—ã –º–æ–∂–µ–º —É–∑–Ω–∞—Ç—å –æ–± –æ—à–∏–±–∫–∞—Ö —Ç–æ–ª—å–∫–æ –∏–∑ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤.
- –ù–µ—è—Å–Ω–æ, _–∫—Ç–æ_ –±—É–¥–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –≤—ã–±—Ä–æ—à–µ–Ω–Ω—É—é –æ—à–∏–±–∫—É. –ü–æ–ª–∞–≥–∞—Ç—å—Å—è –Ω–∞ ¬´–¥–æ–≥–æ–≤–æ—Ä—ë–Ω–Ω–æ—Å—Ç–∏¬ª –æ–ø–∞—Å–Ω–æ, –ø–æ—Ç–æ–º—É —á—Ç–æ –≤ —è–∑—ã–∫–µ –Ω–µ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è –ø—Ä–∏–Ω—É–∂–¥–µ–Ω–∏—è –∫ –¥–æ–≥–æ–≤–æ—Ä—ë–Ω–Ω–æ—Å—Ç—è–º.
- –ù–µ—Ç —á—ë—Ç–∫–∏—Ö –ø—Ä–∞–≤–∏–ª, –∫–æ—Ç–æ—Ä—ã–µ –±—ã –æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ —É–∫–∞–∑—ã–≤–∞–ª–∏, –∫–æ–≥–¥–∞ –∏ –∫–∞–∫ –æ–±–æ—Ä–∞—á–∏–≤–∞—Ç—å ¬´–Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π¬ª –∫–æ–¥ (`fetch`, Browser API –∏ —Ç.–¥.).
- –ú–æ–∂–µ—Ç –ø–æ—Å—Ç—Ä–∞–¥–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –ø–æ—Ç–æ–º—É —á—Ç–æ –∫–∞–∂–¥—ã–π –æ–±—ä–µ–∫—Ç `Error` —Å–æ–±–∏—Ä–∞–µ—Ç —Å—Ç–µ–∫ –∏ –¥—Ä—É–≥—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é.

–ï—Å–ª–∏ –≤ –ø—Ä–æ–µ–∫—Ç–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å _—Ç–æ–ª—å–∫–æ_ –≤—ã–±—Ä–∞—Å—ã–≤–∞–Ω–∏–µ, —Ç–æ —ç—Ç–æ, –ø–æ–∂–∞–ª—É–π, –º–∞–∫—Å–∏–º—É–º, —á—Ç–æ –º—ã –º–æ–∂–µ–º —Å–¥–µ–ª–∞—Ç—å. –ü–æ-—Ö–æ—Ä–æ—à–µ–º—É, –≤—ã–±—Ä–∞—Å—ã–≤–∞—Ç—å –ª—É—á—à–µ —Ç–æ–ª—å–∫–æ –ø–∞–Ω–∏–∫–∏ –∏ –∏–∑–±–µ–≥–∞—Ç—å –∏—Ö –≤ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–µ. –ù–æ –µ—Å–ª–∏ –≤ –ø—Ä–æ–µ–∫—Ç–µ –µ—Å—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è, –∏–∑-–∑–∞ –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∏—á–µ–≥–æ –¥—Ä—É–≥–æ–≥–æ, —Ç–∞–∫–æ–π –≤–∏–¥ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–ø–ª–æ—Ö–∏–º –≤–∞—Ä–∏–∞–Ω—Ç–æ–º.

–û–¥–Ω–∞–∫–æ, –∫—Ä–æ–º–µ –≤—ã–±—Ä–∞—Å—ã–≤–∞–Ω–∏—è –µ—Å—Ç—å –∏ –¥—Ä—É–≥–∏–µ —Å–ø–æ—Å–æ–±—ã —Ä–∞–±–æ—Ç—ã —Å –æ—à–∏–±–∫–∞–º–∏. –ï—Å–ª–∏ –∏—Å—Å–ª–µ–¥–æ–≤–∞–≤ –ø—Ä–æ–µ–∫—Ç, –º—ã –∑–∞–º–µ—Ç–∏–ª–∏ –≤ –∫–æ–¥–µ –∫–∞–∫–æ–π-—Ç–æ –Ω–∞–º—ë–∫ –Ω–∞ _Result-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã_, —Ç–æ —Ñ—É–Ω–∫—Ü–∏—é `getUser` –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å.

## Result-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã

–ö–∞–∫ –º—ã –≥–æ–≤–æ—Ä–∏–ª–∏ —Ä–∞–Ω–µ–µ, –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –æ—à–∏–±–∫–∏ –æ–∂–∏–¥–∞–µ–º—ã. –ù–∞–ø—Ä–∏–º–µ—Ä, –º—ã –º–æ–∂–µ–º –æ–∂–∏–¥–∞—Ç—å, —á—Ç–æ API –≤–µ—Ä–Ω—ë—Ç 404 –≤ –æ—Ç–≤–µ—Ç –Ω–∞ –∑–∞–ø—Ä–æ—Å –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã. –¢–∞–∫–∞—è —Å–∏—Ç—É–∞—Ü–∏—è –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è, –Ω–æ –º—ã –∑–Ω–∞–µ–º, –∫–∞–∫ –µ—ë –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å.

–î–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ–∂–∏–¥–∞–µ–º—ã—Ö –æ—à–∏–±–æ–∫ –º–æ–∂–µ—Ç –±—ã—Ç—å —É–¥–æ–±–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Result-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã. –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä ‚Äî —ç—Ç–æ —Ç–∏–ø, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –æ–¥–Ω–æ–º –∏–∑ –¥–≤—É—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π: –æ–Ω –ª–∏–±–æ —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–∞–Ω–Ω—ã–µ, –µ—Å–ª–∏ –æ–ø–µ—Ä–∞—Ü–∏—è –ø—Ä–æ—à–ª–∞ –±–µ–∑ –ø—Ä–æ–±–ª–µ–º, –ª–∏–±–æ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤–æ–∑–Ω–∏–∫—à—É—é –æ—à–∏–±–∫—É. –°—Ö–µ–º–∞—Ç–∏—á–Ω–æ –µ–≥–æ –º–æ–∂–Ω–æ –∏–∑–æ–±—Ä–∞–∑–∏—Ç—å —Ç–∞–∫:

```ts
// –¢–∏–ø –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –¥–≤—É—Ö —á–∞—Å—Ç–µ–π:
// - Success ‚Äî –¥–ª—è —Å–∏—Ç—É–∞—Ü–∏–∏, –∫–æ–≥–¥–∞ –Ω–∞–¥–æ –≤–µ—Ä–Ω—É—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç;
// - Failure ‚Äî –¥–ª—è —Å–∏—Ç—É–∞—Ü–∏–∏, –∫–æ–≥–¥–∞ –Ω–∞–¥–æ –≤–µ—Ä–Ω—É—Ç—å –æ—à–∏–±–∫—É.

type Result<TOk, TErr> = Success<TOk> | Failure<TErr>;
type Success<T> = { ok: true; value: T };
type Failure<E> = { ok: false; error: E };
```

| –£—Ç–æ—á–Ω–µ–Ω–∏–µ ü¶Ñ                                                                                                                                                                                                              |
| :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| –†–µ–∞–ª–∏–∑–∞—Ü–∏—è `Result` –∏–∑ –ø—Ä–∏–º–µ—Ä–∞ –Ω–∞–º–µ—Ä–µ–Ω–Ω–æ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–∞—è –∏ –Ω–µ –ø–æ–ª–Ω–∞—è. –Ø —Å–¥–µ–ª–∞–ª —ç—Ç–æ, —á—Ç–æ–±—ã –Ω–µ –ø—Ä–µ—Ç–µ–Ω–¥–æ–≤–∞—Ç—å –Ω–∞ ¬´–∫–∞–Ω–æ–Ω–∏—á–Ω–æ—Å—Ç—å¬ª.                                                                                                  |
| –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–≤–æ–π Result-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –Ω—É–ª—è ‚Äî —ç—Ç–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–∞—è –∑–∞–¥–∞—á–∞, –Ω–æ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ —è –±—ã —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–ª –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–∑–≤–µ—Å—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ—Å—Ç–≤—É —Ä–µ—à–µ–Ω–∏—è. –ù–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –ø–æ–¥–æ–±–Ω—ã—Ö –∑–∞–¥–∞—á –ø–æ–¥–æ–π–¥—ë—Ç `Either` –∏–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ fp/ts.[^fpts] |
| –ï—Å–ª–∏ –≤ –≤–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–µ–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤, –∏–∑—É—á–∏—Ç–µ –µ—ë –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏. –í–µ—Ä–æ—è—Ç–Ω–æ, —É –Ω–µ—ë —É–∂–µ –µ—Å—Ç—å –≤—Å—ë –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ.                                                                                     |

–ò—Å–ø–æ–ª—å–∑—É—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –º—ã –º–æ–≥–ª–∏ –±—ã –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `parseUser` –∫–∞–∫-—Ç–æ —Ç–∞–∫:

```ts
type MissingDtoError = "MissingDTO";
type InvalidDtoError = "InvalidDTO";
type ValidationError = MissingDtoError | InvalidDtoError;

function parseUser(dto: UserDto): Result<User, ValidationError> {
  if (!dto) return Result.failure("MissingDTO");

  const { firstName, lastName, email } = dto;
  if (!firstName || !lastName || !email) {
    return Result.failure("InvalidDtoError");
  }

  return Result.success({ ...dto, fullName: `${firstName} ${lastName}` });
}
```

–¢–µ–ø–µ—Ä—å —Ñ—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç _–∫–æ—Ä–æ–±–æ—á–∫—É —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –∏–ª–∏ –æ—à–∏–±–∫–æ–π_. –≠—Ç–∞ –∫–æ—Ä–æ–±–æ—á–∫–∞ –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—Ä–æ–∏–∑–æ—à–µ–¥—à–µ–π —Å–∏—Ç—É–∞—Ü–∏–∏ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –µ—ë –Ω–∞ —É—Ä–æ–≤–µ–Ω—å –≤—ã—à–µ.

### –°–∏–≥–Ω–∞—Ç—É—Ä–∞ —Ç–æ—á–Ω–µ–µ –æ—Ç—Ä–∞–∂–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å

–° –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º –º—ã –≤–∏–¥–∏–º –≤–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏ –ø—Ä—è–º–æ –≤ —Å–∏–≥–Ω–∞—Ç—É—Ä–µ —Ñ—É–Ω–∫—Ü–∏–∏. –ù–∞–º –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –∏–∑—É—á–∞—Ç—å –∏—Å—Ö–æ–¥–Ω–∏–∫–∏, —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å, –∫–∞–∫–∏–µ –æ—à–∏–±–∫–∏ –º—ã –æ–∂–∏–¥–∞–µ–º. _–í—Å–µ_ –æ–∂–∏–¥–∞–µ–º—ã–µ –∏—Å—Ö–æ–¥—ã –æ–ø–µ—Ä–∞—Ü–∏–∏ –æ—Ç—Ä–∞–∂–µ–Ω—ã –≤ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–º —Ç–∏–ø–µ.

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –∏–º–µ–µ—Ç –∏ –æ–±—Ä–∞—Ç–Ω—É—é —Å—Ç–æ—Ä–æ–Ω—É, –∫–æ–Ω–µ—á–Ω–æ. –ß—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –Ω–∞ —É—Ä–æ–≤–Ω–µ –≤—ã—à–µ, –Ω–∞–º –Ω–∞–¥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä ¬´—Ä–∞—Å–ø–∞–∫–æ–≤–∞—Ç—å¬ª:

```ts
async function getUser(id) {
  try {
    const { value: dto, error: networkError } = await fetchUser(id);
    const { value: user, error: parseError } = parseUser(dto);
    storage.setUser(user);
  } catch (error) {
    // ...
  }
}
```

–ï—Å–ª–∏ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞, —Ç–æ –ø—Ä–∏ —Ä–∞—Å–ø–∞–∫–æ–≤–∫–µ –∑–Ω–∞—á–µ–Ω–∏–µ `value` –±—É–¥–µ—Ç –ø—É—Å—Ç—ã–º, –∞ –∑–Ω–∞—á–∏—Ç –ø–µ—Ä–µ–¥–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ —Å–ª–µ–¥—É—é—â—É—é —Ñ—É–Ω–∫—Ü–∏—é –Ω–µ –ø–æ–ª—É—á–∏—Ç—Å—è. –¢–∞–∫ –º—ã –≤–∏–¥–∏–º, —á—Ç–æ –¥–∞–ª—å–Ω–µ–π—à–∞—è —Ä–∞–±–æ—Ç–∞ –≤–æ–∑–º–æ–∂–Ω–∞, _—Ç–æ–ª—å–∫–æ_ –µ—Å–ª–∏ –æ—à–∏–±–æ–∫ –Ω–µ –±—ã–ª–æ –∏–ª–∏ –æ–Ω–∏ –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã. –¢–æ –µ—Å—Ç—å —Å–∏–≥–Ω–∞—Ç—É—Ä–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–º–Ω–∏—Ç—å –æ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –æ—à–∏–±–∫–∞—Ö –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∏—Ö:

```ts
async function getUser(id) {
  try {
    const { value: dto, error: networkError } = await fetchUser(id);
    // –û–±—Ä–∞–±–æ—Ç–∞—Ç—å `networkError`...

    const { value: user, error: parseError } = parseUser(dto);
    // –û–±—Ä–∞–±–æ—Ç–∞—Ç—å `parseError`...

    storage.setUser(user);
  } catch (error) {
    // –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ–ø—Ä–µ–¥–≤–∏–¥–µ–Ω–Ω—ã–µ —Å–∏—Ç—É–∞—Ü–∏–∏...
  }
}
```

–î–ª—è –æ–ø–∏—Å–∞–Ω–∏—è –æ–∂–∏–¥–∞–µ–º—ã—Ö –æ—à–∏–±–æ–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, –≤–µ—Ä–æ—è—Ç–Ω–æ, –ø–æ–¥–æ–π–¥—É—Ç –ª—É—á—à–µ, —á–µ–º –ø–∞–Ω–∏–∫–∏. –û–Ω–∏ –æ—Ç–ª–∏—á–∞—é—Ç—Å—è —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏, —á—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞—Ç—å –∏—Ö –∫–∞–∫ –∏–º–µ–Ω–Ω–æ –æ–∂–∏–¥–∞–µ–º—ã–µ. –ö—Ä–æ–º–µ —ç—Ç–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –Ω–µ –Ω–∞–¥–æ ¬´–≤—ã–±—Ä–∞—Å—ã–≤–∞—Ç—å¬ª, –∞ –∑–Ω–∞—á–∏—Ç –æ–Ω–∏ –Ω–µ —Å–ª–æ–º–∞—é—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.

| –ö —Å–ª–æ–≤—É üì¶                                                                                                                        |
| :-------------------------------------------------------------------------------------------------------------------------------- |
| –í Node.js –≤–æ –≤—Ä–µ–º–µ–Ω–∞ –∫–æ–ª–±–µ–∫–æ–≤ –æ–ø–∞—Å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –Ω–µ—á—Ç–æ –ø–æ—Ö–æ–∂–µ–µ –Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä ‚Äî –∫–æ—Ä—Ç–µ–∂ –∏–∑ –æ—à–∏–±–∫–∏ –∏ –∑–Ω–∞—á–µ–Ω–∏—è:[^errnode]   |
| `function errorFirstCallback(err, value) {}`                                                                                      |
| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è `err` –ø—É—Å—Ç–∞, –µ—Å–ª–∏ –æ–ø–µ—Ä–∞—Ü–∏—è –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ, –∏–ª–∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤–æ–∑–Ω–∏–∫—à—É—é –æ—à–∏–±–∫—É. –≠—Ç–æ —Ç–∞–∫–∂–µ –∏–∑–≤–µ—Å—Ç–Ω–æ –∫–∞–∫ error-first callback. |

### –Ø–≤–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞

–ü–æ—Å–ª–µ —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –º—ã –º–æ–∂–µ–º –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É —Ç–∞–∫, —á—Ç–æ–±—ã –æ—à–∏–±–∫–∏ –∑–∞–∫–∞–Ω—á–∏–≤–∞–ª–∏ ¬´–Ω–æ—Ä–º–∞–ª—å–Ω–æ–µ¬ª –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã ‚Äî –ø–æ–ª—É—á–∏–º Fail Fast:[^failfast]

```ts
async function getUser(id) {
  try {
    const { value: dto, error: networkError } = await fetchUser(id);
    if (networkError) return handleError(networkError);
    // –ò–ª–∏ throw new Error(networkError) –∏ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ–∑–∂–µ.

    const { value: user, error: parseError } = parseUser(dto);
    if (parseError) return handleError(parseError);

    storage.setUser(user);
  } catch (error) {
    // ...
  }
}
```

<figure>
  <img src="../images/12-linear-execution.png" width="600">
  <figcaption><em>–¶–µ–ø–æ—á–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø—Ä–µ—Ä–≤—ë—Ç—Å—è —Ç–∞–º, –≥–¥–µ –ø–æ—è–≤–∏—Ç—Å—è –æ—à–∏–±–∫–∞, –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–π–¥—ë—Ç –≤ –∫–æ–Ω–µ—Ü</em><br><br></figcaption>
</figure>

| –£—Ç–æ—á–Ω–µ–Ω–∏–µ üîó                                                                                                                                                                                                                              |
| :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| –í –∏–º–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–º –∫–æ–¥–µ –ø—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –æ–ø–µ—Ä–∞—Ü–∏–π —ç—Ç–æ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –≥—Ä–æ–º–æ–∑–¥–∫–æ. –ù–æ –µ—Å–ª–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–ø–µ—Ä–∞—Ü–∏–π –Ω–µ–±–æ–ª—å—à–æ–µ (1‚Äì2), —Ç–æ –≤ —Ü–µ–ª–æ–º —ç—Ç–æ –Ω–µ —Ç–∞–∫ —Å—Ç—Ä–∞—à–Ω–æ. –û —Ç–æ–º, –∫–∞–∫ —Ä–∞—Å–ø–∞–∫–æ–≤—ã–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –±–æ–ª–µ–µ –∏–∑—è—â–Ω–æ, –º—ã –ø–æ–≥–æ–≤–æ—Ä–∏–º —á—É—Ç—å –ø–æ–∑–∂–µ. |

### –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞

–ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏ —è–≤–Ω–æ, –º—ã –≤—Å—ë –µ—â—ë –º–æ–∂–µ–º –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É. –ö–∞–∫ –≤–∞—Ä–∏–∞–Ω—Ç, –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –∑–∞–Ω–∏–º–∞—Ç—å—Å—è –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ—ë –ø—Ä–∏ —Ä–∞—Å–ø–∞–∫–æ–≤–∫–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤:

```ts
type ValidationError = MissingDtoError | InvalidDtoError;
type NetworkError = BadRequest | NotFound | ServerError;
type UseCaseError = ValidationError | NetworkError;

// –§—É–Ω–∫—Ü–∏—è `handleGetUserErrors` –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ —é–∑–∫–µ–π—Å–∞ `getUser`:
function handleGetUserErrors(error: UseCaseError): void {
  const messages: Record<UseCaseError, ErrorMessage> = {
    MissingDTO: "The user DTO is required.",
    InvalidDTO: "The given DTO is invalid.",
    // `Record<UseCaseError, ErrorMessage>` —É–¥–æ—Å—Ç–æ–≤–µ—Ä–∏—Ç—Å—è,
    // —á—Ç–æ –º—ã –ø–æ–∫—Ä—ã–ª–∏ –≤—Å–µ –æ–∂–∏–¥–∞–µ–º—ã–µ –æ—à–∏–±–∫–∏.
  };

  // –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è, –ø–µ—Ä–µ–±—Ä–æ—Å–∏–º –µ—ë –Ω–∞–≤–µ—Ä—Ö:
  const message = messages[error];
  if (!message) throw new Error("Unexpected error when getting user data.");

  // –ï–ª–∏ –æ–∂–∏–¥–∞–µ–º–∞—è, –æ–±—Ä–∞–±–æ—Ç–∞–µ–º:
  storage.setError(message);

  // –ï—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ, –¥–æ–±–∞–≤–∏–º –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏:
  logger.logError(error);
  analytics.captureUserActions();
}
```

### –ü–∞–Ω–∏–∫–∏ –æ—Ç–¥–µ–ª—å–Ω–æ

–¢–∞–∫ –∫–∞–∫ ¬´–Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π¬ª –∫–æ–¥ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –∞ –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –ø–∞–Ω–∏–∫–∏, –Ω–∞–º –Ω–∞–¥–æ –æ–±–æ—Ä–∞—á–∏–≤–∞—Ç—å —Ç–∞–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ `try-catch`, —á—Ç–æ–±—ã –≤ —Å–ª—É—á–∞–µ –ø—Ä–æ–±–ª–µ–º—ã –≤–µ—Ä–Ω—É—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:

```ts
type NetworkError = BadRequest | NotFound | InternalError;

async function fetchUser(url) {
  try {
    const response = await fetch(url);
    const { value, error } = await response.json();
    return error ? Result.failure("BadRequest") : Result.success(value);
  } catch (error) {
    //
    // –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –æ–∂–∏–¥–∞–µ–º–∞ ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:
    const reason = errorFromStatus(error);
    if (reason) return Result.failure(reason);
    //
    // –ï—Å–ª–∏ –Ω–µ –æ–∂–∏–¥–∞–µ–º–∞, —Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º rethrow:
    else throw new Error("Unexpected error when fetching user data.");
  }
}
```

–û–±–µ—Ä–Ω—É—Ç—å —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç _–∫–∞–∂–¥—ã–π_ –≤—ã–∑–æ–≤ ¬´–Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤–æ–≥–æ¬ª API ‚Äî –≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å –∫ —Å–µ—Ç–∏. –≠—Ç–æ –º–æ–∂–µ—Ç —É–≤–µ–ª–∏—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞. –û–¥–Ω–∞–∫–æ, –µ—Å–ª–∏ —Å—Ö–µ–º–∞ —Ä–∞–±–æ—Ç—ã —Å —ç—Ç–∏–º–∏ API –æ–¥–∏–Ω–∞–∫–æ–≤–∞—è, –º—ã –º–æ–∂–µ–º —É–º–µ–Ω—å—à–∏—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤:

```ts
// –î–µ–∫–æ—Ä–∞—Ç–æ—Ä –±—É–¥–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å ¬´–æ–ø–∞—Å–Ω—É—é¬ª —Ñ—É–Ω–∫—Ü–∏—é,
// –∏ –≤—ã–∑—ã–≤–∞—Ç—å –µ—ë –≤–Ω—É—Ç—Ä–∏ `try-catch`.
// –ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –æ—à–∏–±–∫–∏, –±—É–¥–µ—Ç –ø—Ä–æ–≤–µ—Ä—è—Ç—å,
// –æ–∂–∏–¥–∞–µ–º–∞ –ª–∏ –æ—à–∏–±–∫–∞ –∏ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
// –∏–ª–∏ –ø–µ—Ä–µ–±—Ä–∞—Å—ã–≤–∞—Ç—å –æ—à–∏–±–∫—É –≤—ã—à–µ.

function robustRequest(request) {
  return async function perform(...args) {
    try {
      return await request(...args);
    } catch (error) {
      const reason = errorFromStatus(error);
      if (reason) return Result.failure(reason);
      else throw new Error("Unexpected error when making a request.");
    }
  };
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –º–æ–∂–Ω–æ –±—É–¥–µ—Ç
// —Å —Ä–∞–∑–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏ —Ä–∞–±–æ—Ç—ã —Å —Å–µ—Ç—å—é:

const safeFetchUser = robustRequest(fetchUser);
const safeCreatePost = robustRequest(createPost);
```

### –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä –¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –æ—à–∏–±–æ–∫, –º—ã –º–æ–∂–µ–º —Ö—Ä–∞–Ω–∏—Ç—å –≤ –ø–æ–ª–µ `error` –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞. –ú—ã –º–æ–∂–µ–º –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –≤ —ç—Ç–æ–º –ø–æ–ª–µ –æ–±—ä–µ–∫—Ç—ã, –º–∞—Å—Å–∏–≤—ã –∏–ª–∏ –¥–∞–∂–µ `Error`-–∏–Ω—Å—Ç–∞–Ω—Å—ã. –≠—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≥–æ–¥–∏—Ç—å—Å—è, –Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–¥–µ—Ä–∂–∞—Ç —Å–ø–∏—Å–æ–∫ –Ω–µ–≤–∞–ª–∏–¥–Ω—ã—Ö –ø–æ–ª–µ–π.

| –ö —Å–ª–æ–≤—É ü§ô                                                                                                                                                                                     |
| :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| –û–¥–∏–Ω –∏–∑ —Å–ø–æ—Å–æ–±–æ–≤ —Å–æ–æ–±—â–∏—Ç—å –æ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –æ—à–∏–±–∫–∞—Ö ‚Äî —ç—Ç–æ –ø–∞—Ç—Ç–µ—Ä–Ω ¬´–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ¬ª (Notification).[^replacethrow][^notificationpattern] –ï–≥–æ —Ç–æ–∂–µ –º–æ–∂–Ω–æ –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞—Ç—å, –∫–∞–∫ –æ–¥–∏–Ω –∏–∑ –≤–∏–¥–æ–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤. |

### –†–∞—Å–ø–∞–∫–æ–≤–∫–∞

–ì–ª–∞–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞, –∫–æ–Ω–µ—á–Ω–æ, –Ω–∏–∫—É–¥–∞ –Ω–µ –¥–µ–ª–∞—Å—å ‚Äî –Ω–∞–º –≤—Å—ë –µ—â—ë –Ω—É–∂–Ω–æ —Ä–∞—Å–ø–∞–∫–æ–≤—ã–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∏ –ø—Ä–µ—Ä—ã–≤–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–¥–∞ –≤—Ä—É—á–Ω—É—é. –°–¥–µ–ª–∞—Ç—å —ç—Ç–æ –ø–∞—Ä—É —Ä–∞–∑ –Ω–µ —Å–ª–æ–∂–Ω–æ, –Ω–æ –±–æ–ª–µ–µ —á–∞—Å—Ç–∞—è —Ä—É—á–Ω–∞—è —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∞ –º–æ–∂–µ—Ç —Å–¥–µ–ª–∞—Ç—å –∫–æ–¥ —à—É–º–Ω—ã–º. –ù–∞ –ø–æ–º–æ—â—å –≤ —Ç–∞–∫–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏ –º–æ–∂–µ—Ç –ø—Ä–∏–π—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Å–≤—è–∑—ã–≤–∞–Ω–∏–µ.

## –°–≤—è–∑—ã–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

| –ü—Ä–µ–∂–¥–µ, —á–µ–º –Ω–∞—á–∞—Ç—å üöÇ                                                                                                                                                                                                                                                          |
| :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| –û —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–º —Å–≤—è–∑—ã–≤–∞–Ω–∏–∏ —Ö–æ—Ä–æ—à–æ –Ω–∞–ø–∏—Å–∞–ª –°–∫–æ—Ç—Ç –í–ª–∞—à–∏–Ω –≤ –ø–æ—Å—Ç–µ –æ ‚ÄúRailway Oriented Programming‚Äù,[^railwayprogramming] —Å–æ–≤–µ—Ç—É—é –ø—Ä–æ—á–µ—Å—Ç—å —ç—Ç—É —Å—Ç–∞—Ç—å—é –ø–µ—Ä–µ–¥ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ–º. –Ø –Ω–µ –±—É–¥—É –ø–æ–¥—Ä–æ–±–Ω–æ –≤–¥–∞–≤–∞—Ç—å—Å—è –≤ –¥–µ—Ç–∞–ª–∏. –í —ç—Ç–æ–π —Å—Ç–∞—Ç—å–µ –≤—Å—ë –æ–ø–∏—Å–∞–Ω–æ –≥–æ—Ä–∞–∑–¥–æ –ª—É—á—à–µ, —á–µ–º —Å–º–æ–≥ –±—ã –Ω–∞–ø–∏—Å–∞—Ç—å —è. |

| –ö—Ä–æ–º–µ —ç—Ç–æ–≥–æ üôÉ                                                                                                                                                                      |
| :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| –ï—Å–ª–∏ –≤ –≤–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ä—É—á–Ω–∞—è —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∞, –∏ –≤–∞—Å –≤—Å—ë —É—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç, —Ç–æ –Ω–µ —Å—Ç–æ–∏—Ç –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞—Ç—å –µ—ë –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Å–≤—è–∑—ã–≤–∞–Ω–∏–µ. –û–Ω–æ –º–æ–∂–µ—Ç —É—Å–ª–æ–∂–Ω–∏—Ç—å –∫–æ–¥, –Ω–µ –ø—Ä–∏–Ω–µ—Å—è –ø–æ–ª—å–∑—ã.    |
| –û —Å–≤—è–∑—ã–≤–∞–Ω–∏–∏ —Å—Ç–æ–∏—Ç –∑–∞–¥—É–º–∞—Ç—å—Å—è, –µ—Å–ª–∏ –≤–∞—à –ø—Ä–æ–µ–∫—Ç –Ω–∞–ø–∏—Å–∞–Ω –≤ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–º —Å—Ç–∏–ª–µ, –∞ —Ä—É—á–Ω–∞—è —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –Ω–∞—á–∏–Ω–∞–µ—Ç –Ω–∞–ø—Ä—è–≥–∞—Ç—å. –í –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Å–ª—É—á–∞—è—Ö –æ–Ω–æ, —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, –Ω–µ –Ω—É–∂–Ω–æ. |

–û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è —Å–≤—è–∑—ã–≤–∞–Ω–∏—è –≤ —Ç–æ–º, —á—Ç–æ–±—ã –∑–∞—Å—Ç–∞–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –∑–∞–±–æ—Ç–∏—Ç—å—Å—è –æ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–º –≤—ã–∑–æ–≤–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π. –°–µ–π—á–∞—Å –≤—ã–∑–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞–ø—Ä—è–º—É—é –æ–¥–Ω—É –∑–∞ –æ–¥–Ω–æ–π –Ω–µ–ª—å–∑—è ‚Äî –≤—Ö–æ–¥—ã –∏ –≤—ã—Ö–æ–¥—ã —Ñ—É–Ω–∫—Ü–∏–π –Ω–µ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º:

```ts
function fetchUser(id: UserId): Result<UserDTO, FetchUserError> {}
function parseUser(dto: UserDTO): Result<User, ParseUserError> {}

// –ú—ã —Ö–æ—Ç–∏–º –≤—ã–∑—ã–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –≤–∏–¥–µ:
// fetchUser -> parseUser -> storage.setUser

// –ù–æ —Å–µ–π—á–∞—Å —ç—Ç–æ–≥–æ —Å–¥–µ–ª–∞—Ç—å –Ω–µ–ª—å–∑—è, –ø–æ—Ç–æ–º—É —á—Ç–æ –≤—ã—Ö–æ–¥ –æ–¥–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
// –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –≤—Ö–æ–¥–Ω–æ–º—É —Ç–∏–ø—É —Å–ª–µ–¥—É—é—â–µ–π –∑–∞ –Ω–µ–π.
//
// –§—É–Ω–∫—Ü–∏—è `fetchUser` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `Result<UserDTO, FetchUserError>`,
// –Ω–æ `parseUser` –Ω–∞ –≤—Ö–æ–¥ —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–æ—Å—Ç–æ `UserDTO`.
```

–ú—ã –º–æ–∂–µ–º –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞—Ç—å —Å–≤—è–∑—ã–≤–∞–Ω–∏–µ, –∫–∞–∫ ¬´–ø–æ–¥–≥–æ–Ω–∫—É¬ª –≤—Ö–æ–¥–Ω–æ–≥–æ —Ç–∏–ø–∞ —Ñ—É–Ω–∫—Ü–∏–π, —á—Ç–æ–±—ã –æ–Ω–∏ –º–æ–≥–ª–∏ –ø—Ä–∏–Ω–∏–º–∞—Ç—å –Ω–∞ –≤—Ö–æ–¥ `Result<TOk, TErr>`. –ï—Å–ª–∏ –±—ã –º—ã ¬´–ø–æ–¥–≥–æ–Ω—è–ª–∏¬ª —Ç–∏–ø—ã —Ä—É–∫–∞–º–∏, —Ç–æ –ø–æ–ª—É—á–∏–ª–æ—Å—å –±—ã —á—Ç–æ-—Ç–æ —Ç–∏–ø–∞:

```ts
function parseUser(
  result: Result<UserDTO, FetchUserError>
): Result<User, ParseUserError> {}
```

–ù–æ —ç—Ç–æ –Ω–µ –≤–∞—Ä–∏–∞–Ω—Ç, –ø–æ—Ç–æ–º—É —á—Ç–æ –º—ã –Ω–µ —Ö–æ—Ç–∏–º –Ω–∞ –≤—Ö–æ–¥–µ `parseUser` –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –ø—Ä–µ–¥—ã–¥—É—â–µ–π –æ–ø–µ—Ä–∞—Ü–∏–∏. –ú—ã —Ö–æ—Ç–∏–º —É–º–µ—Ç—å –ø–æ–ª—É—á–∞—Ç—å –ª—é–±—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ —Ä–∞—Å–ø–∞–∫–æ–≤—ã–≤–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

–î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —ç—Ç–æ–≥–æ ¬´–∂–µ–ª–µ–∑–Ω–æ–¥–æ—Ä–æ–∂–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ¬ª –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏-–∞–¥–∞–ø—Ç–µ—Ä—ã. –í –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, —ç—Ç–∏ –∞–¥–∞–ø—Ç–µ—Ä—ã –º–æ–≥—É—Ç –±—ã—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –∏–ª–∏ –º–µ—Ç–æ–¥–∞–º–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞. –Ø –Ω–µ –±—É–¥—É –ø—Ä–µ—Ç–µ–Ω–¥–æ–≤–∞—Ç—å –Ω–∞ –∫–∞–Ω–æ–Ω–∏—á–Ω–æ—Å—Ç—å, –ø–æ—ç—Ç–æ–º—É –º–æ—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –±—É–¥–µ—Ç —Å—Ö–µ–º–∞—Ç–∏—á–Ω–æ–π:

```ts
const Result = {
  // ...

  // –ï—Å–ª–∏ —Ç–µ–∫—É—â–∏–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ Success,
  // —Ç–æ –º—ã ¬´—Ä–∞—Å–ø–∞–∫–æ–≤—ã–≤–∞–µ–º¬ª –∑–Ω–∞—á–µ–Ω–∏–µ –∏ –ø–µ—Ä–µ–¥–∞—ë–º –µ–≥–æ –Ω–∞ –≤—Ö–æ–¥ —Ñ—É–Ω–∫—Ü–∏–∏ fn.
  // –ï—Å–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ Failure,
  // –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –Ω–æ–≤—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä Failure<E> —Å –æ—à–∏–±–∫–æ–π,
  // –∫–æ—Ç–æ—Ä–∞—è –±—ã–ª–∞ –≤ —ç—Ç–æ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ.
  bind: (fn) => (ok ? fn(value) : failure(error)),

  // –ü—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —Ü–µ–ø–æ—á–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
  // –Ω–∞–º –Ω–∞–¥–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –æ—à–∏–±–∫—É –∏–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç,
  // –ø–æ—ç—Ç–æ–º—É –¥–≤–µ —Ñ—É–Ω–∫—Ü–∏–∏-–∞—Ä–≥—É–º–µ–Ω—Ç–∞ –≤ —ç—Ç–æ–º –º–µ—Ç–æ–¥–µ:
  match: (handleError, handleValue) =>
    ok ? handleValue(value) : handleError(error),
};

// –ú–µ—Ç–æ–¥ `bind` –±—É–¥–µ—Ç ¬´—Å–≤—è–∑—ã–≤–∞—Ç—å¬ª —Ñ—É–Ω–∫—Ü–∏–∏ –≤ —Ü–µ–ø–æ—á–∫—É,
// –∞ –º–µ—Ç–æ–¥ `match` –±—É–¥–µ—Ç ¬´—Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞—Ç—å¬ª —Ñ–∏–Ω–∞–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç.
//
// –ú–µ—Ç–æ–¥ `match` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç 2 –∞—Ä–≥—É–º–µ–Ω—Ç–∞:
// - –ø–µ—Ä–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è ‚Äî —ç—Ç–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—à–∏–±–æ–∫, –æ–Ω–∞ –±—É–¥–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏ –≤—Å–µ–π —Ü–µ–ø–æ—á–∫–∏ —Ñ—É–Ω–∫—Ü–∏–π;
// - –∞ –≤—Ç–æ—Ä–∞—è ‚Äî –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ —Ü–µ–ø–æ—á–∫–∏.
```

–¢–µ–ø–µ—Ä—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –º–æ–∂–Ω–æ —Å–≤—è–∑—ã–≤–∞—Ç—å –≤ –≤–∏–¥–µ —Ü–µ–ø–æ—á–∫–∏ –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –≤—ã–∑–æ–≤–æ–≤:

```ts
async function getUser(id) {
  (await fetchUser(id))
    .bind(parseUser)
    .match(handleGetUserErrors, storage.setUser);
}
```

–í —Ç–∞–∫–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –æ—à–∏–±–∫–∞ –Ω–∞ –ª—é–±–æ–º –∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å—Ä–∞–∑—É –∂–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç—Å—è –≤ —Ñ—É–Ω–∫—Ü–∏—é `handleGetUserErrors`. –¢–∞–∫ –≤ —Å–æ—á–µ—Ç–∞–Ω–∏–∏ —Å Exhaustiveness Check[^exhaustivecheck] –º—ã –º–æ–∂–µ–º –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –≤—Å–µ—Ö –æ—à–∏–±–æ–∫ –¥–ª—è `getUser` –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Ä—É–∫–∞–º–∏ —Ä–∞—Å–ø–∞–∫–æ–≤—ã–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã.

| –ö —Å–ª–æ–≤—É ‚õì                                                                                                                                                                                                                                                                                      |
| :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| –°–≤—è–∑—ã–≤–∞–Ω–∏–µ –º–æ–∂–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –ø–æ-—Ä–∞–∑–Ω–æ–º—É. –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ü–µ–ø–æ—á–∫–∞ –º–µ—Ç–æ–¥–æ–≤, –º–æ–∂–µ—Ç –±—ã—Ç—å —Ñ—É–Ω–∫—Ü–∏—è —Ç–∏–ø–∞ `pipe`,[^pipe] –∫–æ—Ç–æ—Ä–∞—è ¬´–ø—Ä–æ—Ç–∞–ª–∫–∏–≤–∞–µ—Ç¬ª –ø–æ —Å–µ–±–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ—Ç –æ–¥–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –∫ –¥—Ä—É–≥–æ–π. –§–∏–Ω–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ç–æ–∂–µ –º–æ–∂–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –ø–æ-—Ä–∞–∑–Ω–æ–º—É –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å—Ç–∏–ª—è –∏ –ø–∞—Ä–∞–¥–∏–≥–º—ã –ø—Ä–æ–µ–∫—Ç–∞. |
| –ï—Å–ª–∏ –≤ –≤–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ –µ—Å—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, –ø—Ä–∏–≥–ª—è–¥–∏—Ç–µ—Å—å –∫ –∏—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ–≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–µ–µ, –≤–æ–∑–º–æ–∂–Ω–æ, —Ç–∞–º —É–∂–µ –µ—Å—Ç—å –≤—Å—ë –Ω—É–∂–Ω–æ–µ. –ï—Å–ª–∏ –Ω–µ—Ç, –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ä–µ—à–µ–Ω–∏—è —Ç–∏–ø–∞ fp/ts –∏–ª–∏ sweet-monads –∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Å–µ–±–µ —Ç—É, –∫–æ—Ç–æ—Ä–∞—è –±–æ–ª—å—à–µ –Ω—Ä–∞–≤–∏—Ç—Å—è.[^fpts][^sweetmonads][^neverthrow]                  |

–°–º—ã—Å–ª —Å–≤—è–∑—ã–≤–∞–Ω–∏—è –≤ _–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏_ ¬´–ø—Ä–æ—Ç–∞–ª–∫–∏–≤–∞–Ω–∏—è¬ª –∏ —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤. –ú—ã —Å–æ–µ–¥–∏–Ω—è–µ–º –≤—Å–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å ¬´—Ä–∞–∑–≤–∏–ª–æ–∫¬ª. –û—à–∏–±–∫–∞ –∏–∑ –ª—é–±–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ —Å—ä–µ–∑–∂–∞–µ—Ç –ø–æ —Ä–∞–∑–≤–∏–ª–∫–µ –Ω–∞ ¬´–∫–æ–ª–µ—é —Å –æ—à–∏–±–∫–∞–º–∏¬ª –∏ –∫–∞—Ç–∏—Ç—Å—è –ø–æ –Ω–µ–π –¥–æ —Å–∞–º–æ–≥–æ –∫–æ–Ω—Ü–∞. –≠—Ç–æ –ø–æ—Ö–æ–∂–µ –Ω–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∂–µ–ª–µ–∑–Ω–æ–¥–æ—Ä–æ–∂–Ω—ã—Ö –ø—É—Ç–µ–π ‚Äî –ø–æ—ç—Ç–æ–º—É –∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Äúrailway oriented‚Äù üòÉ

<figure>
  <img src="../images/12-result-conjunction.png" width="800">
  <figcaption><em>–°–≤—è–∑—ã–≤–∞–Ω–∏–µ –ø–æ–º–æ–≥–∞–µ—Ç –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Ö–æ–¥—ã –∏ –≤—ã—Ö–æ–¥—ã —Ñ—É–Ω–∫—Ü–∏–π</em><br><br></figcaption>
</figure>

<details>
  <summary>–ù–∞—Ç–∏–≤–Ω–æ–µ —Å–≤—è–∑—ã–≤–∞–Ω–∏–µ –≤ JavaScript?..</summary>

–í JavaScript –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –µ—Å—Ç—å ¬´–Ω–∞—Ç–∏–≤–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –∏ —Å–≤—è–∑—ã–≤–∞–Ω–∏—è¬ª ‚Äî —ç—Ç–æ `Promise`. –û–Ω —Ç–æ–∂–µ –º–æ–∂–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –æ–¥–Ω–æ–º –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π –∏ –ø–æ–º–æ–≥–∞–µ—Ç —Å–≤—è–∑—ã–≤–∞—Ç—å –≤—ã—á–∏—Å–ª–µ–Ω–∏—è:

```js
fetchPosts()
  .then(validatePosts)
  .then((posts) => keepOnlyAuthoredBy(user, posts))
  .then(dashboardPostsProjection)
  .catch(handleGetPostsError);
```

–í —Ü–µ–ª–æ–º, –≤—Å—é —Ü–µ–ø–æ—á–∫—É –º–æ–∂–Ω–æ –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –∏ –Ω–∞ –ø—Ä–æ–º–∏—Å–∞—Ö, –Ω–æ –æ–±—ã—á–Ω–æ –∏–º–∏ –ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø—Ä–æ–º–∏—Å–æ–≤ –≤ –¥–æ–º–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–µ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —è –Ω–µ –≤—Å—Ç—Ä–µ—á–∞–ª –∏ –¥–µ–ª–∞—Ç—å —Ç–∞–∫ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –±—ã –Ω–µ —Å—Ç–∞–ª.

</details>

### –ü—Ä–æ–±–ª–µ–º—ã

–ü—Ä–æ–±–ª–µ–º—ã —É —Å–≤—è–∑—ã–≤–∞–Ω–∏—è —Ç–æ–∂–µ –µ—Å—Ç—å:

- –ö–æ–¥ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Å–ª–æ–∂–Ω–µ–µ, —ç—Ç–æ –º–æ–∂–µ—Ç —É–≤–µ–ª–∏—á–∏—Ç—å –ø–æ—Ä–æ–≥ –≤—Ö–æ–¥–∞ –≤ –ø—Ä–æ–µ–∫—Ç.
- –°–≤—è–∑—ã–≤–∞–Ω–∏–µ —Ç—Ä–µ–±—É–µ—Ç –¥–æ–≥–æ–≤–æ—Ä—ë–Ω–Ω–æ—Å—Ç–µ–π: –Ω—É–∂–Ω–æ —Å–ª–µ–¥–∏—Ç—å –∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –∏ –æ–±—ë—Ä—Ç–∫–∞–º–∏ –¥–ª—è ¬´–æ–ø–∞—Å–Ω—ã—Ö¬ª –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π.
- –í –Ω–µ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–º –∫–æ–¥–µ —ç—Ç–æ –º–æ–∂–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ.
- –í JavaScript –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç –Ω–∞—Ç–∏–≤–Ω–æ–≥–æ –ø–∞—Ç—Ç–µ—Ä–Ω-–º–∞—Ç—á–∏–Ω–≥–∞ –¥–ª—è —É–¥–æ–±–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å –ø–æ—Ö–æ–∂–∏–º–∏ –∏–¥–µ—è–º–∏.

### –ö–æ–≥–¥–∞ –ø—Ä–µ–¥–ø–æ—á–µ—Å—Ç—å –ø–∞–Ω–∏–∫–∏

–°–≤—è–∑—ã–≤–∞–Ω–∏–µ –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –Ω–µ –º–æ–≥—É—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–º–µ–Ω–∏—Ç—å –ø–∞–Ω–∏–∫–∏, —ç—Ç–æ –Ω–µ–º–Ω–æ–≥–æ —Ä–∞–∑–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã. –ü–æ—ç—Ç–æ–º—É –ø–∞–Ω–∏–∫–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω—ã –∏ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏ —Ç–æ–∂–µ.

–ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–∏–∫—Ç–æ –Ω–µ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∏–ª–∏ –µ—Å–ª–∏ –Ω–µ –≤–∞–∂–Ω–æ, –∫–∞–∫–∞—è –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞, —Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ –Ω—É–∂–µ–Ω. –•–æ—Ä–æ—à–∏–π —á–µ–∫–ª–∏—Å—Ç —Å —Ç–µ–º, –∫–æ–≥–¥–∞ –ø—Ä–µ–¥–ø–æ—á–µ—Å—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –∞ –∫–æ–≥–¥–∞ –ø–∞–Ω–∏–∫—É –≤—ã —Å–º–æ–∂–µ—Ç–µ –Ω–∞–π—Ç–∏ —É –°–∫–æ—Ç—Ç–∞ –í–ª–∞—à–∏–Ω–∞ –≤ —Å—Ç–∞—Ç—å–µ ‚ÄúAgainst Railway-Oriented Programming‚Äù.[^againstrailway]

## Cross-Cutting Concerns

–ö–æ–≥–¥–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –æ–ø–∏—Å–∞–Ω–∞ –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–æ –≤–æ –≤—Å—ë–º –ø—Ä–æ–µ–∫—Ç–µ, –Ω–∞–º –ø—Ä–æ—â–µ –æ—Ç—ã—Å–∫–∞—Ç—å –º–µ—Å—Ç–æ —Å –æ—à–∏–±–∫–æ–π –ø–æ, –Ω–∞–ø—Ä–∏–º–µ—Ä, –±–∞–≥-—Ä–µ–ø–æ—Ä—Ç—É. –ù–æ –∫—Ä–æ–º–µ —ç—Ç–æ–≥–æ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–¥–æ–±–Ω–æ –∫–æ–º–ø–æ–Ω–æ–≤–∞—Ç—å cross-cutting concerns,[^crosscutting] –Ω–∞–ø—Ä–∏–º–µ—Ä, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ.

–ï—Å–ª–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –æ—à–∏–±–æ–∫ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã, –∏—Ö –º–æ–∂–Ω–æ _–¥–µ–∫–æ—Ä–∏—Ä–æ–≤–∞—Ç—å_ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é.[^codethatfits][^decorator] –ù–∞–ø—Ä–∏–º–µ—Ä, –º—ã –º–æ–∂–µ–º –¥–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –æ—à–∏–±–æ–∫ —Å –ø–æ–º–æ—â—å—é –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤:

```ts
// services/logger.js
// –°–µ—Ä–≤–∏—Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é
// –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –Ω–æ–≤–æ–≥–æ —Å–æ–±—ã—Ç–∏—è:

const logEvent = (entry: LogEntry) => {};

// infrastructure/logger.js
// –ß—Ç–æ–±—ã –Ω–µ –¥–æ–±–∞–≤–ª—è—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –∫–∞–∂–¥—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—Ç–¥–µ–ª—å–Ω–æ,
// –º—ã –º–æ–∂–µ–º —Å–æ–∑–¥–∞—Ç—å –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é,
// –≤—ã–∑—ã–≤–∞—Ç—å –µ—ë –∏ –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–∑–æ–≤–∞:

const withLogger =
  (fn) =>
  (...args) => {
    const result = fn(...args);
    const entry = createEntry({ args, result });
    logEvent(entry);
  };

// network.js
// –¢–æ–≥–¥–∞ –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –æ—à–∏–±–æ–∫ –±—É–¥–µ—Ç –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ
// ¬´–æ–±–µ—Ä–Ω—É—Ç—å¬ª –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤ –ª–æ–≥–∏—Ä—É—é—â–∏–π –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä:

const handleNetworkError = (error: NetworkError) => {};
const errorHandler = withLogger(handleNetworkError);
```

–í —Ü–µ–ª–æ–º, cross-cutting concerns —É–¥–æ–±–Ω–æ –æ—Ñ–æ—Ä–º–ª—è—Ç—å –≤ –≤–∏–¥–µ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤: —Ç–∞–∫ ¬´—Å–µ—Ä–≤–∏—Å–Ω–∞—è¬ª —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–∞, –Ω–µ —Å–º–µ—à–∏–≤–∞–µ—Ç—Å—è —Å –æ—Å—Ç–∞–ª—å–Ω—ã–º –∫–æ–¥–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∞ —Å–∞–º–∏ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã —É–¥–æ–±–Ω–æ ¬´–≤–Ω–µ–¥—Ä—è—Ç—å¬ª –≤ —Å–∞–º—ã–µ —Ä–∞–∑–Ω—ã–µ —á–∞—Å—Ç–∏ –∫–æ–¥–∞.

| –£—Ç–æ—á–Ω–µ–Ω–∏–µ üñº                                                                                                                                                                                             |
| :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| –£ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤ –µ—Å—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è, –∏ –æ–Ω–∏ –ø–æ–¥–æ–π–¥—É—Ç –Ω–µ –≤–æ –≤—Å–µ—Ö —Å–ª—É—á–∞—è—Ö. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –Ω–∞ –Ω—É–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –ª–æ–≥ –ø–æ —Å–µ—Ä–µ–¥–∏–Ω–µ —Ä–∞–±–æ—Ç—ã —Ñ—É–Ω–∫—Ü–∏–∏, —Ç–æ, –≤–µ—Ä–æ—è—Ç–Ω–æ, –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–º —ç—Ç–æ–≥–æ –¥–æ–±–∏—Ç—å—Å—è –±—É–¥–µ—Ç —Å–ª–æ–∂–Ω–æ. |
| –•–æ—Ç—è –≤ —Ç–∞–∫–∏—Ö —Å–ª—É—á–∞—è—Ö –æ–±—ã—á–Ω–æ —Å—Ç–æ–∏—Ç –ø–æ–¥—É–º–∞—Ç—å, –ø–æ—á–µ–º—É –Ω–∞–º –Ω—É–∂–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å —á—Ç–æ-—Ç–æ _–ø–æ —Å–µ—Ä–µ–¥–∏–Ω–µ_ —Ñ—É–Ω–∫—Ü–∏–∏, —Å—Ç–æ–∏—Ç –ª–∏ —Ä–∞–∑–±–∏—Ç—å —ç—Ç—É —Ñ—É–Ω–∫—Ü–∏—é –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ. –ù–æ –æ–ø—è—Ç—å –∂–µ, –ø—Ä–æ–µ–∫—Ç—ã –∏ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞ –±—ã–≤–∞—é—Ç —Ä–∞–∑–Ω—ã–º–∏.       |

## –ó–æ–æ–ø–∞—Ä–∫ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –æ–ø–∞—Å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –º–æ–≥—É—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è –∏ –±—ã—Ç—å —Å–≤—è–∑–∞–Ω—ã —Å —Ä–∞–∑–Ω—ã–º–∏ API. –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –æ–±—Ä–∞–±–æ—Ç–∫–µ –æ—à–∏–±–æ–∫ –≤ —Ç–∞–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏—è—Ö –º–æ–≥—É—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è. –ù–∞–ø—Ä–∏–º–µ—Ä, –∫–∞–∫–∏–µ-—Ç–æ API –≤–º–µ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `try-catch` —Ç—Ä–µ–±—É—é—Ç —É–∫–∞–∑—ã–≤–∞—Ç—å —Å–≤–æ–π—Å—Ç–≤–æ `.onerror` –∏–ª–∏ —Å–ª—É—à–∞—Ç—å —Å–æ–±—ã—Ç–∏–µ –æ—à–∏–±–∫–∏.

–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–º–æ–≥–∞–µ—Ç —Ä–µ—à–∏—Ç—å –∏ —ç—Ç—É –ø—Ä–æ–±–ª–µ–º—É, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ—Ç—Ü–µ–ø–ª—è–µ—Ç _—Å–∞–º–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏_ –æ—Ç _–º–µ—Å—Ç–∞ –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è_. –û–¥–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –≤–æ–∑–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å —Ä–∞–∑–Ω—ã–º–∏ API –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∏–º –æ—à–∏–±–∫–∏ –æ—Ç —Ä–∞–∑–Ω—ã—Ö –º–æ–¥—É–ª–µ–π.

| –ö —Å–ª–æ–≤—É üîå                                                                                                                            |
| :------------------------------------------------------------------------------------------------------------------------------------ |
| –ï—Å–ª–∏ —Å–∏–≥–Ω–∞—Ç—É—Ä–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –æ—à–∏–±–∫–∏ –∏ API —Å–µ—Ä–≤–∏—Å–∞ –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã, –º—ã –º–æ–∂–µ–º –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∞–¥–∞–ø—Ç–µ—Ä–æ–º –¥–ª—è —Ä–µ—à–µ–Ω–∏—è —ç—Ç–æ–π –ø—Ä–æ–±–ª–µ–º—ã.[^adapter] |

## –ò–µ—Ä–∞—Ä—Ö–∏—è –æ—Ç–ª–æ–≤–∞ –æ—à–∏–±–æ–∫

–†–∞–Ω–µ–µ –º—ã —É–ø–æ–º–∏–Ω–∞–ª–∏ –ø–µ—Ä–µ–±—Ä–∞—Å—ã–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ (rethrow) ‚Äî —Ç–æ –µ—Å—Ç—å –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Ö ¬´–≤—ã—à–µ—Å—Ç–æ—è—â–µ–º—É¬ª –æ–±—Ä–∞–±–æ—Ç—á–∏–∫—É, –µ—Å–ª–∏ —Ç–µ–∫—É—â–∏–π –Ω–µ –∑–Ω–∞–µ—Ç, –∫–∞–∫ –∏—Ö –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å.

–î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–∑–¥–∞—ë—Ç –∏–µ—Ä–∞—Ä—Ö–∏—é –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤. –ö–∞–∫ —Å –ª—é–±—ã–º–∏ –∏–µ—Ä–∞—Ä—Ö–∏—è–º–∏, –µ—ë –ª—É—á—à–µ –¥–µ—Ä–∂–∞—Ç—å –∫–∞–∫ –º–æ–∂–Ω–æ –±–æ–ª–µ–µ –ø–ª–æ—Å–∫–æ–π. –ù–µ –≤—Å–µ–≥–¥–∞ —ç—Ç–æ–≥–æ –ø–æ–ª—É—á–∏—Ç—Å—è –¥–æ–±–∏—Ç—å—Å—è, –Ω–æ –≤—Å—ë –∂–µ —á–µ–º –∏–µ—Ä–∞—Ä—Ö–∏—è –ø–ª–æ—â–µ, —Ç–µ–º –ø—Ä–æ—â–µ —Å –Ω–µ–π —Ä–∞–±–æ—Ç–∞—Ç—å. –û–¥–∏–Ω –∏–∑ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –º–æ–∂–Ω–æ —Å–æ–±—Ä–∞—Ç—å –∏–∑ 3 —É—Ä–æ–≤–Ω–µ–π:

### –û–±—ë—Ä—Ç–∫–∏ –Ω–∞–¥ ¬´–Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–º¬ª –∫–æ–¥–æ–º

–ù–∞ ¬´–Ω–∏–∑–∫–æ–º¬ª —É—Ä–æ–≤–Ω–µ –º—ã –æ–±–æ—Ä–∞—á–∏–≤–∞–µ–º –≤ `try-catch` –±—Ä–∞—É–∑–µ—Ä–Ω—ã–µ API, —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å–µ—Ç—å—é, –æ–±—â–µ–Ω–∏—è —Å –¥–µ–≤–∞–π—Å–æ–º –∏ —Ç.–¥.

–§—É–Ω–∫—Ü–∏–∏-–æ–±—ë—Ä—Ç–∫–∏ –ª–æ–≤—è—Ç –ø–∞–Ω–∏–∫–∏ –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤–æ–≥–æ –∫–æ–¥–∞. –í –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å—Ç–∏–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ–Ω–∏ –¥–∞–ª–µ–µ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É—é—Ç –ø–æ–π–º–∞–Ω–Ω—ã–µ –ø–∞–Ω–∏–∫–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∏–ª–∏ –ø–µ—Ä–µ–±—Ä–∞—Å—ã–≤–∞—é—Ç –∏—Ö –Ω–∞ —É—Ä–æ–≤–µ–Ω—å –≤—ã—à–µ.

### –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

–ù–∞ —ç—Ç–æ–º —É—Ä–æ–≤–Ω–µ –º—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –æ—à–∏–±–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤: –æ—à–∏–±–∫–∏ –¥–æ–º–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–∏ –∏ –æ–∂–∏–¥–∞–µ–º—ã–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ –æ—à–∏–±–∫–∏ –Ω–∏–∑–∫–æ–≥–æ —É—Ä–æ–≤–Ω—è.

| –ö —Å–ª–æ–≤—É üç∞                                                                                                                                                                               |
| :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| –¢–∞–∫–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –º–æ–≥—É—Ç –ª–æ–≤–∏—Ç—å –æ—à–∏–±–∫–∏ –∫–∞–∫ –æ–¥–Ω–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è, —Ç–∞–∫ –∏ –Ω–∞–±–æ—Ä–∞ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Ñ–∏—á. –ü–µ—Ä–≤—ã–µ –º–æ–≥—É—Ç –Ω–∞–∑—ã–≤–∞—Ç—å—Å—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏ –æ—à–∏–±–æ–∫ —é–∑–∫–µ–π—Å–∞, –∞ –≤—Ç–æ—Ä—ã–µ ‚Äî –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏ —Å–ª–∞–π—Å–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. |
| –£–¥–æ–±—Å—Ç–≤–æ –æ–±–æ–∏—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –º–Ω–æ–≥–∏—Ö —Ñ–∞–∫—Ç–æ—Ä–æ–≤ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –¥–æ–≤–æ–ª—å–Ω–æ —Å–ª–æ–∂–Ω–æ, –ø–æ—ç—Ç–æ–º—É –≤ —ç—Ç–æ–π –≥–ª–∞–≤–µ –º—ã –ø—Ä–æ—Å—Ç–æ –æ–±—ä–µ–¥–∏–Ω–∏–º –∏—Ö –≤ ¬´–æ–¥–∏–Ω —É—Ä–æ–≤–µ–Ω—å¬ª.                            |

–°–æ–æ–±—â–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö –æ–±—ã—á–Ω–æ –ø—Ä–æ—â–µ –≤—Å–µ–≥–æ –∏–º–µ–Ω–Ω–æ –æ—Ç—Å—é–¥–∞, –ø–æ—Ç–æ–º—É —á—Ç–æ –Ω–∞ —ç—Ç–æ–º —É—Ä–æ–≤–Ω–µ –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–∏—Å–∞–º, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç, –Ω–∞–ø—Ä–∏–º–µ—Ä, –≤—ã–≤–µ—Å—Ç–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–∞ —ç–∫—Ä–∞–Ω –∏–ª–∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å –≤ –∞–ª—ë—Ä—Ç-–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥. –ù–µ –≤–æ –≤—Å–µ—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö —ç—Ç–æ –±—É–¥–µ—Ç —Å–∞–º–æ–µ —É–¥–æ–±–Ω–æ–µ –º–µ—Å—Ç–æ, –Ω–æ —á–∞—â–µ –≤—Å–µ–≥–æ –æ—Å–Ω–æ–≤—É –æ–±—Ä–∞–±–æ—Ç–∫–∏ —É–¥–æ–±–Ω–æ –≤—ã—Å—Ç—Ä–æ–∏—Ç—å –Ω–∞ —ç—Ç–æ–º —É—Ä–æ–≤–Ω–µ.

### –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ—Å–ª–µ–¥–Ω–µ–π –Ω–∞–¥–µ–∂–¥—ã

–ù–∞ —É—Ä–æ–≤–Ω–µ –≤—Å–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏–ª–∏ –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü—ã –º—ã –æ—Ç–ª–∞–≤–ª–∏–≤–∞–µ–º –≤—Å–µ –Ω–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ —Ä–∞–Ω–µ–µ –æ—à–∏–±–∫–∏ –∏ –ø–∞–Ω–∏–∫–∏.

–ó–¥–µ—Å—å –ø–æ–ª–µ–∑–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏, —á—Ç–æ–±—ã –ø—Ä–∏ –∞–Ω–∞–ª–∏–∑–µ –±—ã–ª–æ –ø—Ä–æ—â–µ –ø–æ–Ω—è—Ç—å, —á—Ç–æ –ø—Ä–∏–≤–µ–ª–æ –∫ –ø—Ä–æ–±–ª–µ–º–µ. –†–∞–±–æ—Ç–∞—Ç—å –Ω–∞ —ç—Ç–æ–º —É—Ä–æ–≤–Ω–µ —É–¥–æ–±–Ω–µ–µ –≤—Å–µ–≥–æ —Å –ø–∞–Ω–∏–∫–∞–º–∏, –ø–æ—Ç–æ–º—É —á—Ç–æ —É –Ω–∏—Ö –µ—Å—Ç—å —Å—Ç–µ–∫-—Ç—Ä–µ–π—Å, –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –≤ –±—É–¥—É—â–µ–º –ø—Ä–æ—â–µ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏—á–∏–Ω—ã –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º—ã.

| –ù–∞–ø—Ä–∏–º–µ—Ä üìå                                                                                                                                                                                                                                                |
| :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| –í React –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–æ—Å–ª–µ–¥–Ω–µ–π –Ω–∞–¥–µ–∂–¥—ã –º–æ–≥—É—Ç –ø—Ä–∏–≥–æ–¥–∏—Ç—å—Å—è Error Boundaries.[^errorboundaries] –û–Ω–∏ –æ—Ç–ª–∞–≤–ª–∏–≤–∞—é—Ç –æ—à–∏–±–∫–∏ –≤–æ –≤—Ä–µ–º—è —Ä–µ–Ω–¥–µ—Ä–∞ –∏ –≤—ã–≤–æ–¥—è—Ç UI, –≥–¥–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –º–æ–≥—É—Ç —Å–æ–æ–±—â–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –æ –ø—Ä–æ–±–ª–µ–º–µ. |

| –ö—Ä–æ–º–µ —ç—Ç–æ–≥–æ üóë                                                                                                                                                                                                                                                                                                                              |
| :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| –í JavaScript –º—ã –º–æ–∂–µ–º –æ—Ç–ª–æ–≤–∏—Ç—å –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ —Å –ø–æ–º–æ—â—å—é —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π.[^eventerror][^eventrejection][^unhandlederrors] –¢–∞–∫–∏–µ —Å–æ–±—ã—Ç–∏—è –æ–±—ã—á–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—Ä–∏—á–∏–Ω–µ –∏ –º–µ—Å—Ç–µ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è –æ—à–∏–±–∫–∏, –ø–æ—ç—Ç–æ–º—É –∏—Ö –æ–±—Ä–∞–±–æ—Ç–∫—É –ø–æ–ª–µ–∑–Ω–æ —Å–æ—á–µ—Ç–∞—Ç—å —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏ –∞–ª—ë—Ä—Ç-–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞. |

## –ü—Ä–µ–¥–≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

–í –≥–ª–∞–≤–µ –æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–º –ø–∞–π–ø–ª–∞–π–Ω–µ –º—ã —É–ø–æ–º–∏–Ω–∞–ª–∏ –ø—Ä–µ–¥–≤–∞–ª–∏–¥–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –≤—Ö–æ–¥–µ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–µ—Ä–µ–¥ –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º. –ï—ë –º–æ–∂–Ω–æ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å, –∫–∞–∫ —á–∞—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω–∞ –ø—Ä–µ—Ä—ã–≤–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –ø—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ –Ω–µ–≤–∞–ª–∏–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

–ü—Ä–µ–¥–≤–∞–ª–∏–¥–∞—Ü–∏—è –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç –∫–æ–¥ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –æ—Ç –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫ –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–∏—Ç—å—Å—è –Ω–∞ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è—Ö –¥–∞–Ω–Ω—ã—Ö –≤ –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å–∞—Ö. –¢–∞–∫ –∏–∑ –¥–æ–º–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏ –ø—Ä–æ–ø–∞–¥–∞—é—Ç –ª–∏—à–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –∏–º–µ—é—Ç –æ—Ç–Ω–æ—à–µ–Ω–∏—è –∫ –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å–∞–º.

–° –ø—Ä–µ–¥–≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –≤—Å–µ –æ—à–∏–±–∫–∏ –¥–∞–Ω–Ω—ã—Ö —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ, –∞ –∏—Ö –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –≥–∏–±—á–µ. –ù–∞–ø—Ä–∏–º–µ—Ä, —Å –Ω–µ–π –ø—Ä–æ—â–µ –∫–æ–º–ø–æ–Ω–æ–≤–∞—Ç—å –æ—à–∏–±–∫–∏ –≤ –Ω–∞–±–æ—Ä—ã –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∏—Ö —Ä–∞–∑–æ–º, –∞ –Ω–µ –ø–æ –æ–¥–Ω–æ–π.

–ü—Ä–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –º—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —ç—Ç–æ–π –∏–¥–µ–µ–π –∏ –æ—Ç–æ–¥–≤–∏–≥–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–∞–Ω–Ω—ã—Ö –±–ª–∏–∂–µ –∫–æ –≤—Ö–æ–¥—É –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:

<figure>
  <img src="../images/12-prevalidation.png" width="800">
  <figcaption><em>–°–Ω–∞—Ä—É–∂–∏ –¥–∞–Ω–Ω—ã–µ –æ–ø–∞—Å–Ω—ã–µ, –≤–Ω—É—Ç—Ä–∏ ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ; –Ω–∞–ª–∏—á–∏–µ –Ω–µ–≤–∞–ª–∏–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∑–∞–≤–µ—Ä—à–∏—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∏ –ø–µ—Ä–µ–¥–∞—Å—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫—É –æ—à–∏–±–æ–∫</em><br><br></figcaption>
</figure>

| –ü–æ–¥—Ä–æ–±–Ω–µ–µ üõü                                                                                                          |
| :------------------------------------------------------------------------------------------------------------------- |
| –û –ø—Ä–µ–¥–≤–∞–ª–∏–¥–∞—Ü–∏–∏, –ø–æ—Å—Ç–≤–∞–ª–∏–¥–∞—Ü–∏–∏, —Å–µ–ª–µ–∫—Ç–æ—Ä–∞—Ö –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö –º—ã –ø–æ–≥–æ–≤–æ—Ä–∏–º –±–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω–æ –≤ –≥–ª–∞–≤–µ –æ–± –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ. |

[^dmmf]: ‚ÄúDomain Modeling Made Functional‚Äù by Scott Wlaschin, https://www.goodreads.com/book/show/34921689-domain-modeling-made-functional
[^errorsexceptions]: ‚ÄúErrors Are Not Exceptions‚Äù by swyx, https://www.swyx.io/errors-not-exceptions
[^errormodel]: ‚ÄúThe Error Model‚Äù by Joe Duffy, http://joeduffyblog.com/2016/02/07/the-error-model/
[^replacethrow]: ‚ÄúReplacing Throwing Exceptions with Notification in Validations‚Äù by Martin Fowler, https://martinfowler.com/articles/replaceThrowWithNotification.html
[^pragmaticprogrammer]: ‚ÄúThe Pragmatic Programmer‚Äù by Andy Hunt, https://www.goodreads.com/book/show/4099.The_Pragmatic_Programmer
[^notificationpattern]: ‚ÄúNotification‚Äù by Martin Fowler, https://martinfowler.com/eaaDev/Notification.html
[^aggregateerror]: `AggregateError`, MDN, https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/AggregateError
[^fpts]: fp/ts, Typed functional programming in TypeScript, https://github.com/gcanti/fp-ts
[^failfast]: Fail-fast, Wikipedia, https://en.wikipedia.org/wiki/Fail-fast
[^railwayprogramming]: ‚ÄúRailway Oriented Programming‚Äù by Scott Wlaschin, https://fsharpforfunandprofit.com/rop/
[^exhaustivecheck]: `switch-exhaustiveness-check`, ES Lint TypeScript, https://typescript-eslint.io/rules/switch-exhaustiveness-check/
[^pipe]: `pipe`, fp/ts, https://gcanti.github.io/fp-ts/modules/function.ts.html#pipe
[^sweetmonads]: sweet-monads, Easy-to-use monads implementation with static types definition, https://github.com/JSMonk/sweet-monads
[^neverthrow]: neverthrow, Type-Safe Errors for JS & TypeScript, https://github.com/supermacro/neverthrow
[^againstrailway]: ‚ÄúAgainst Railway-Oriented Programming‚Äù by by Scott Wlaschin, https://fsharpforfunandprofit.com/posts/against-railway-oriented-programming/
[^crosscutting]: Cross-Cutting Concern, Wikipedia, https://en.wikipedia.org/wiki/Cross-cutting_concern
[^decorator]: Decorator Pattern, Refactoring Guru https://refactoring.guru/design-patterns/decorator
[^codethatfits]: ‚ÄúCode That Fits in Your Head‚Äù by Mark Seemann, https://www.goodreads.com/book/show/57345272-code-that-fits-in-your-head
[^errorboundaries]: –ü—Ä–µ–¥–æ—Ö—Ä–∞–Ω–∏—Ç–µ–ª–∏ –≤ React, https://ru.reactjs.org/docs/error-boundaries.html
[^errnode]: Error-first callbacks, Node.js Documentation, https://nodejs.org/api/errors.html#error-first-callbacks
[^lsp]: ‚ÄúA behavioral notion of subtyping‚Äù by Barbara H. Liskov, Jeannette M. Wing, https://dl.acm.org/doi/10.1145/197320.197383
[^adapter]: Adapter Pattern, Refactoring Guru, https://refactoring.guru/design-patterns/adapter
[^eventerror]: Window: `error` event, MDN Web Docs, https://developer.mozilla.org/en-US/docs/Web/API/Window/error_event
[^eventrejection]: Window: `unhandledrejection` event, MDN Web Docs, https://developer.mozilla.org/en-US/docs/Web/API/Window/unhandledrejection_event
[^unhandlederrors]: ‚ÄúDealing with Unhandled Exceptions‚Äù, by Alexander Zlatkov https://blog.sessionstack.com/how-javascript-works-exceptions-best-practices-for-synchronous-and-asynchronous-environments-39f66b59f012#ecc9
