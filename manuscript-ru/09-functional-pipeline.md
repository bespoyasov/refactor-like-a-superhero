# –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–∞–π–ø–ª–∞–π–Ω

–ö–∞–∫ –º—ã —É–≤–∏–¥–µ–ª–∏ –≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≥–ª–∞–≤–µ, –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è –ø–æ–º–æ–≥–∞–µ—Ç –¥–µ–ª–∏—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É –Ω–∞ ¬´—É—Ä–æ–≤–Ω–∏ –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏¬ª. –ù–∞ –∫–∞–∂–¥–æ–º –∏–∑ —É—Ä–æ–≤–Ω–µ–π –º—ã —É–¥–µ–ª—è–µ–º –≤–Ω–∏–º–∞–Ω–∏–µ —Ç–æ–ª—å–∫–æ —Å–∞–º—ã–º –≤–∞–∂–Ω—ã–º –¥–µ—Ç–∞–ª—è–º –∏ –æ–±—ä—è—Å–Ω—è–µ–º—Å—è –ø–æ–¥—Ö–æ–¥—è—â–∏–º–∏ —Ç–µ—Ä–º–∏–Ω–∞–º–∏.

–í –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö –æ–¥–∏–Ω –∏–∑ —É—Ä–æ–≤–Ω–µ–π –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –æ–ø–∏—Å—ã–≤–∞–µ—Ç _–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É_ ‚Äî –ø—Ä–æ—Ü–µ—Å—Å—ã –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏, –∫–æ—Ç–æ—Ä—ã–µ –¥–µ–ª–∞—é—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã–º –∏ –ø—Ä–∏–Ω–æ—Å—è—Ç –ø—Ä–∏–±—ã–ª—å. –ò–Ω–∞—á–µ –≥–æ–≤–æ—Ä—è, —Ç–µ –∑–∞–¥–∞—á–∏, –∑–∞ —Ä–µ—à–µ–Ω–∏–µ–º –∫–æ—Ç–æ—Ä—ã—Ö –±–∏–∑–Ω–µ—Å –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ.

| –ù–∞–ø—Ä–∏–º–µ—Ä üëÄ                                                                                                                                                                       |
| :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| –í —Å–ª—É—á–∞–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –∏ –æ–ø–ª–∞—Ç–∞ –∑–∞–∫–∞–∑–æ–≤. –î–ª—è —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–π –∫–æ–º–ø–∞–Ω–∏–∏ ‚Äî –ª–æ–≥–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏ —Ç–∏–ø–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –º–∞—Ä—à—Ä—É—Ç–æ–≤ –∏ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ—Å—Ç–∏ –ø–µ—Ä–µ–≤–æ–∑–æ–∫. |

–Ø–∑—ã–∫ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ ‚Äî —ç—Ç–æ —è–∑—ã–∫ –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏. –ü—Ä–æ—Ü–µ—Å—Å—ã –≤ –Ω—ë–º –æ–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –∫–∞–∫ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–æ–±—ã—Ç–∏–π –∏ –∏—Ö –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏–π: ¬´–ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç –∫—É–ø–æ–Ω –Ω–∞ —Å–∫–∏–¥–∫—É, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å –∫—É–ø–æ–Ω–∞ –∏ —É–º–µ–Ω—å—à–∏—Ç —Å—É–º–º—É –∑–∞–∫–∞–∑–∞¬ª.

–¢–∞–∫–æ–π —è–∑—ã–∫ ¬´–¥–∞–ª—ë–∫ –æ—Ç –∫–æ–¥–∞¬ª. –ò–∑-–∑–∞ –≤—ã—Å–æ–∫–æ–≥–æ —É—Ä–æ–≤–Ω—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å—ã –≤ –∫–æ–¥–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–ª–æ–∂–Ω–æ. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–∞–π–ø–ª–∞–π–Ω, –æ –∫–æ—Ç–æ—Ä–æ–º –º—ã –ø–æ–≥–æ–≤–æ—Ä–∏–º –≤ —ç—Ç–æ–π –≥–ª–∞–≤–µ, –ø–æ–º–æ–≥–∞–µ—Ç –æ–ø–∏—Å—ã–≤–∞—Ç—å –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å—ã –ø–æ–Ω—è—Ç–Ω–µ–µ –∏ –±–ª–∏–∂–µ –∫ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏.

## –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

–ü—Ä–æ—Ü–µ—Å—Å—ã –≤ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–µ ‚Äî —ç—Ç–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö. –ü—Ä–æ–¥–æ–ª–∂–∞—è –ø—Ä–∏–º–µ—Ä —Å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–æ–º, –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Å–∫–∏–¥–∫–∏ –∫ –∑–∞–∫–∞–∑—É –º–æ–∂–Ω–æ –≤—ã—Ä–∞–∑–∏—Ç—å –≤ –≤–∏–¥–µ –ø–µ—Ä–µ—Ö–æ–¥–∞ –æ—Ç –æ–¥–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∫ –¥—Ä—É–≥–æ–º—É:

```
¬´–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∫—É–ø–æ–Ω–∞¬ª:

[–°–æ–∑–¥–∞–Ω–Ω—ã–π –∑–∞–∫–∞–∑] + [–í–∞–ª–∏–¥–Ω—ã–π –∫—É–ø–æ–Ω] -> [–ó–∞–∫–∞–∑ —Å–æ —Å–∫–∏–¥–∫–æ–π]
```

–í –±–æ–ª—å—à–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –º–æ–≥—É—Ç –±—ã—Ç—å –¥–ª–∏–Ω–Ω–µ–µ, –∞ –¥–∞–Ω–Ω—ã–µ –≤ –Ω–∏—Ö –º–æ–≥—É—Ç –ø—Ä–æ—Ö–æ–¥–∏—Ç—å —á–µ—Ä–µ–∑ –Ω–µ—Å–∫–æ–ª—å–∫–æ —ç—Ç–∞–ø–æ–≤:

```
¬´–ü–æ–¥–±–æ—Ä —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –∫ –∫–æ—Ä–∑–∏–Ω–µ¬ª:

[–ö–æ—Ä–∑–∏–Ω–∞ —Å —Ç–æ–≤–∞—Ä–∞–º–∏] + [–ò—Å—Ç–æ—Ä–∏—è –ø–æ–∫—É–ø–æ–∫] ->
  [–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤] + [–í–µ—Å–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π] ->
  [–°–ø–∏—Å–æ–∫ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π]
```

–í –ø–ª–æ—Ö–æ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–Ω–æ–º –∫–æ–¥–µ –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å—ã –Ω–∞ —Ç–∞–∫–∏–µ —Ü–µ–ø–æ—á–∫–∏ –Ω–µ –ø–æ—Ö–æ–∂–∏. –û–Ω–∏ –∑–∞–ø—É—Ç–∞–Ω—ã, –Ω–µ–æ—á–µ–≤–∏–¥–Ω—ã –∏ —á–∞—Å—Ç–æ –Ω–µ –≥–æ–≤–æ—Ä—è—Ç –Ω–∞ —è–∑—ã–∫–µ –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏. –í –∏—Ç–æ–≥–µ –≤–º–µ—Å—Ç–æ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–≥–æ –æ–ø–∏—Å–∞–Ω–∏—è –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å–∞ –º—ã –ø–æ–ª—É—á–∞–µ–º –Ω–µ—á—Ç–æ –≤—Ä–æ–¥–µ:

```
¬´–ü–æ–¥–±–æ—Ä —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –∫ –∫–æ—Ä–∑–∏–Ω–µ¬ª:

[–ö–æ—Ä–∑–∏–Ω–∞ —Å —Ç–æ–≤–∞—Ä–∞–º–∏] + ... + [–ú–∞–≥–∏—è üîÆ] -> [–°–ø–∏—Å–æ–∫ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π]
```

–í —Ö–æ—Ä–æ—à–æ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–Ω–æ–º –∫–æ–¥–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –≤—ã–≥–ª—è–¥—è—Ç –ª–∏–Ω–µ–π–Ω–æ, –∞ –¥–∞–Ω–Ω—ã–µ –≤ –Ω–∏—Ö –ø–æ–æ—á–µ—Ä—ë–¥–Ω–æ –ø—Ä–æ—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ –Ω–µ—Å–∫–æ–ª—å–∫–æ —ç—Ç–∞–ø–æ–≤. –ö–æ–Ω–µ—á–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö ‚Äî —ç—Ç–æ –∂–µ–ª–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—Å–µ–≥–æ –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å–∞.

<figure>
  <img src="../images/09-functional-pipeline.png" width="800" alt="–ü—Ä—è–º–æ–π —Ä—è–¥ –∏–∑ —Å–æ–µ–¥–∏–Ω—ë–Ω–Ω—ã—Ö —Å—Ç—Ä–µ–ª–∫–∞–º–∏ –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–æ–≤">
  <figcaption><em>–î–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ö–æ–¥—è—Ç –ø–æ —Ü–µ–ø–æ—á–∫–µ —Ä–∞–∑–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π, –Ω–∞ –≤—ã—Ö–æ–¥–µ –ø–æ–ª—É—á–∞–µ–º –∂–µ–ª–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç</em><br><br></figcaption>
</figure>

–¢–∞–∫–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –∫–æ–¥–∞ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è _—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º –ø–∞–π–ø–ª–∞–π–Ω–æ–º_. –ü—Ä–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –º—ã –º–æ–∂–µ–º –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–µ –Ω–µ–≥–æ, —á—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å –∫–æ–¥ –ø–æ–Ω—è—Ç–Ω–µ–µ –∏ –æ—á–µ–≤–∏–¥–Ω–µ–µ.

## –°–æ—Å—Ç–æ—è–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

–í ‚ÄúDomain Modeling Made Functional‚Äù –°–∫–æ—Ç—Ç –í–ª–∞—à–∏–Ω —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫ —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É, –æ–ø–∏—Ä–∞—è—Å—å –Ω–∞ –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å—ã –∏ –¥–∞–Ω–Ω—ã–µ –≤ –Ω–∏—Ö.[^dmmf] –û–Ω –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç—å —à–∞–≥–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –æ—Ç–¥–µ–ª—å–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏. –ú—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç—É –∏–¥–µ—é, –∫–∞–∫ –æ—Å–Ω–æ–≤—É –¥–ª—è —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞.

–î–ª—è —ç—Ç–æ–≥–æ –≤ –∫–æ–¥–µ –Ω–∞–º –ø–µ—Ä–≤—ã–º –¥–µ–ª–æ–º –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –≤—ã–¥–µ–ª–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏—è, —á–µ—Ä–µ–∑ –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ—Ö–æ–¥—è—Ç –¥–∞–Ω–Ω—ã–µ. –≠—Ç–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ–º–æ–≥—É—Ç –ø–æ–Ω—è—Ç—å, –Ω–∞ –∫–∞–∫–∏–µ —à–∞–≥–∏ –º–æ–∂–Ω–æ —Ä–∞–∑–¥–µ–ª–∏—Ç—å –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å, –∫–æ—Ç–æ—Ä—ã–π –º—ã —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–º.

–†–∞–∑–±–µ—Ä—ë–º –ø–æ–¥—Ö–æ–¥ –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞. –î–æ–ø—É—Å—Ç–∏–º, —Ñ—É–Ω–∫—Ü–∏—è `makeOrder` —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç –æ–±—ä–µ–∫—Ç –∑–∞–∫–∞–∑–∞, —É—á–∏—Ç—ã–≤–∞—è –∫—É–ø–æ–Ω—ã –Ω–∞ —Å–∫–∏–¥–∫—É –∏ –ø—Ä–æ–º–æ-–∞–∫—Ü–∏–∏:

```js
function makeOrder(user, products, coupon) {
  if (!user || !products.length) throw new InvalidOrderDataError();
  const data = {
    createdAt: Date.now(),
    products,
    total: totalPrice(products),
    discount: selectDiscount(data, coupon),
  };

  if (!selectDiscount(data, coupon)) data.discount = 0;
  if (data.total >= 2000 && isPromoParticipant(user)) {
    data.products.push(FREE_PRODUCT_OF_THE_DAY);
  }

  data.id = generateId();
  data.user = user.id;
  return data;
}
```

–§—É–Ω–∫—Ü–∏—è –Ω–µ–±–æ–ª—å—à–∞—è, –Ω–æ –¥–µ–ª–∞–µ—Ç –¥–æ–≤–æ–ª—å–Ω–æ –º–Ω–æ–≥–æ:

- –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤;
- —Å–æ–∑–¥–∞—ë—Ç –æ–±—ä–µ–∫—Ç –∑–∞–∫–∞–∑–∞;
- –ø—Ä–∏–º–µ–Ω—è–µ—Ç —Å–∫–∏–¥–∫—É –ø–æ –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–º—É –∫—É–ø–æ–Ω—É;
- –¥–æ–±–∞–≤–ª—è–µ—Ç —Ç–æ–≤–∞—Ä—ã –ø–æ –∞–∫—Ü–∏–∏, –µ—Å–ª–∏ –ø–æ–¥—Ö–æ–¥—è—Ç —É—Å–ª–æ–≤–∏—è.

–° –ø–µ—Ä–≤–æ–≥–æ –≤–∑–≥–ª—è–¥–∞ –≤—ã–¥–µ–ª–∏—Ç—å –∫–∞–∂–¥—ã–π –∏–∑ —ç—Ç–∏—Ö –ø—É–Ω–∫—Ç–æ–≤ –≤ –∫–æ–¥–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ç—Ä—É–¥–Ω–æ. –ö–æ–¥ –ø–µ—Å—Ç—Ä–∏—Ç –¥–µ—Ç–∞–ª—è–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–µ—à–∞—é—Ç —É–≤–∏–¥–µ—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ —à–∞–≥–∏. –ò–∑-–∑–∞ —ç—Ç–æ–≥–æ —Å–ª–æ–∂–Ω–æ –ø—Ä–æ—Å–ª–µ–¥–∏—Ç—å –∑–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏ –¥–∞–Ω–Ω—ã—Ö –∏ –≤—ã–¥–µ–ª–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∏—Ö –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–π.

| –ö—Ä–æ–º–µ —ç—Ç–æ–≥–æ üíä                                                                                                                                                                                                          |
| :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| –û–±—ä–µ–∫—Ç –∑–∞–∫–∞–∑–∞ –º–µ–Ω—è–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏ —Ö–∞–æ—Ç–∏—á–µ—Å–∫–∏. –ò —Ö–æ—Ç—å —Ñ–æ—Ä–º–∞–ª—å–Ω–æ –µ–≥–æ –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è –Ω–µ –Ω–∞—Ä—É—à–µ–Ω–∞ ‚Äî –æ–Ω —Å–æ–∑–¥–∞–Ω –≤ —ç—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –º–µ–Ω—è–µ—Ç—Å—è –≤ –Ω–µ–π –∂–µ ‚Äî –µ—Å—Ç—å –æ—â—É—â–µ–Ω–∏–µ, –±—É–¥—Ç–æ `makeOrder` ¬´–ª–µ–∑–µ—Ç –≤ —á—É–∂—É—é –∑–æ–Ω—É –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏¬ª. |

–ü–æ–ø—Ä–æ–±—É–µ–º –≤—ã–¥–µ–ª–∏—Ç—å —à–∞–≥–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è, —á–µ—Ä–µ–∑ –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ—Ö–æ–¥—è—Ç –¥–∞–Ω–Ω—ã–µ:

```
¬´–ü–æ–∫–∞–∑–∞—Ç—å –∑–∞–∫–∞–∑ –Ω–∞ —ç–∫—Ä–∞–Ω–µ¬ª:

- ¬´–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ¬ª:
  [–ù–µ–ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ] -> [–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å] + [–°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤]

- ¬´–°–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑¬ª:
  [–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å] + [–°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤] -> [–°–æ–∑–¥–∞–Ω–Ω—ã–π –∑–∞–∫–∞–∑]

- ¬´–ü—Ä–∏–º–µ–Ω–∏—Ç—å —Å–∫–∏–¥–∫—É¬ª:
  [–ó–∞–∫–∞–∑] + [–ö—É–ø–æ–Ω] -> [–ó–∞–∫–∞–∑ —Å–æ —Å–∫–∏–¥–∫–æ–π]

- ¬´–ü—Ä–∏–º–µ–Ω–∏—Ç—å –∞–∫—Ü–∏–∏¬ª:
  [–ó–∞–∫–∞–∑] + [–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å] -> [–ó–∞–∫–∞–∑ —Å –∞–∫—Ü–∏—è–º–∏]
```

–ü—Ä–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–µ –±—É–¥–µ–º —Å—Ç—Ä–µ–º–∏—Ç—å—Å—è –∫ —Ç–æ–º—É, —á—Ç–æ–±—ã –∫–æ–¥ —Ñ—É–Ω–∫—Ü–∏–∏ `makeOrder` —Å—Ç–∞–ª –ø–æ—Ö–æ–∂ –Ω–∞ —ç—Ç–æ—Ç —Å–ø–∏—Å–æ–∫. –ù–∞—á–∞—Ç—å –º–æ–∂–Ω–æ —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞ –ø–æ ¬´–∫—É—á–∫–∞–º¬ª, –∫–∞–∂–¥–∞—è –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –±—É–¥–µ—Ç –æ—Ç–≤–µ—á–∞—Ç—å –∑–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–π —à–∞–≥ –∏–∑ –Ω–µ–≥–æ:

```js
function makeOrder(user, products, coupon) {
  // –í–∞–ª–∏–¥–∞—Ü–∏—è:
  if (!user || !products.length) throw new InvalidOrderDataError();

  // –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞:
  const data = {
    createdAt: Date.now(),
    products,
    total: totalPrice(products),
  };
  data.id = generateId();
  data.user = user.id;

  // –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Å–∫–∏–¥–∫–∏:
  const discount = selectDiscount(data, coupon);
  data.discount = discount ?? 0;

  // –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∞–∫—Ü–∏–π:
  if (data.total >= 2000 && isPromoParticipant(user)) {
    data.products.push(FREE_PRODUCT_OF_THE_DAY);
  }

  return data;
}
```

–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —à–∞–≥–æ–≤ –ø–æ–º–æ–∂–µ—Ç –Ω–∞–π—Ç–∏ –≤ –∫–æ–¥–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–µ–π: –µ—Å–ª–∏ –º—ã –º–æ–∂–µ–º –ø—Ä–∏–¥—É–º–∞—Ç—å –¥–ª—è —à–∞–≥–∞ –æ—Å–º—ã—Å–ª–µ–Ω–Ω–æ–µ –∏–º—è, –≤–µ—Ä–æ—è—Ç–Ω–æ, –µ–≥–æ –∫–æ–¥ –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ —Ñ—É–Ω–∫—Ü–∏—é. –í –ø—Ä–∏–º–µ—Ä–µ –≤—ã—à–µ —ç—Ç–æ –∏–º–µ–Ω–Ω–æ —Ç–∞–∫ ‚Äî –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ —Å –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏ —à–∞–≥–æ–≤ –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ç—Ä–∞–∂–∞—é—Ç –∏—Ö –Ω–∞–º–µ—Ä–µ–Ω–∏–µ. –í—ã–¥–µ–ª–∏–º —à–∞–≥–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:

```js
// –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞:
function createOrder(user, products) {
  return {
    id: generateId(),
    createdAt: Date.now(),
    user: user.id,

    products,
    total: totalPrice(products),
  };
}

// –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∫—É–ø–æ–Ω–∞ –Ω–∞ —Å–∫–∏–¥–∫—É:
function applyCoupon(order, coupon) {
  const discount = selectDiscount(order, coupon) ?? 0;
  return { ...order, discount };
}

// –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø–æ–¥—Ö–æ–¥—è—â–µ–π –∞–∫—Ü–∏–∏:
function applyPromo(order, user) {
  if (!isPromoParticipant(user) || order.total < 2000) return order;

  const products = [...order.products, FREE_PRODUCT_OF_THE_DAY];
  return { ...order, products };
}
```

–§—É–Ω–∫—Ü–∏—è `makeOrder` —Ç–æ–≥–¥–∞ –Ω–∞—á–∞–ª–∞ –±—ã –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫:

```js
function makeOrder(user, products, coupon) {
  if (!user || !products.length) throw new InvalidOrderDataError();

  const created = createOrder(user, products);
  const withDiscount = applyCoupon(created, coupon);
  const order = applyPromo(withDiscount, user);

  return order;
}
```

–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π —à–∞–≥–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞ –æ–∫–∞–∑–∞–ª–∏—Å—å –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä–æ–≤–∞–Ω—ã –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏—è—Ö. –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è –∑–∞–¥–∞—á–∞ —ç—Ç–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π ‚Äî –∏–∑–º–µ–Ω–∏—Ç—å –æ–±—ä–µ–∫—Ç –∑–∞–∫–∞–∑–∞, —Å–æ—Ö—Ä–∞–Ω–∏–≤ –µ–≥–æ –≤–∞–ª–∏–¥–Ω—ã–º. –§—É–Ω–∫—Ü–∏—è `makeOrder` –ø–µ—Ä–µ—Å—Ç–∞–ª–∞ –±–µ—Å–∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ –º–µ–Ω—è—Ç—å –¥–∞–Ω–Ω—ã–µ —Å–∞–º–∞ –∏ –ª–∏—à—å –≤—ã–∑—ã–≤–∞–µ—Ç –¥—Ä—É–≥–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏. –í—Å—ë —ç—Ç–æ –¥–µ–ª–∞–µ—Ç –ø–æ—è–≤–ª–µ–Ω–∏–µ –Ω–µ–≤–∞–ª–∏–¥–Ω–æ–≥–æ –∑–∞–∫–∞–∑–∞ –º–µ–Ω–µ–µ –≤–µ—Ä–æ—è—Ç–Ω—ã–º, –∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–π ‚Äî –ø—Ä–æ—â–µ.

–ö–æ–¥ —Ñ—É–Ω–∫—Ü–∏–∏ `makeOrder` —Ç–µ–ø–µ—Ä—å –Ω–∞–ø–æ–º–∏–Ω–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —à–∞–≥–æ–≤ –ø—Ä–æ—Ü–µ—Å—Å–∞, —Å –∫–æ—Ç–æ—Ä–æ–≥–æ –º—ã –Ω–∞—á–∏–Ω–∞–ª–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥. –î–µ—Ç–∞–ª–∏ –∫–∞–∂–¥–æ–≥–æ –∏–∑ –Ω–∏—Ö —Å–∫—Ä—ã—Ç—ã –∑–∞ –∏–º–µ–Ω–µ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π —Ñ—É–Ω–∫—Ü–∏–∏, –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ—Ç–æ—Ä–æ–π –æ–ø–∏—Å—ã–≤–∞–µ—Ç –≤–µ—Å—å —à–∞–≥ —Ü–µ–ª–∏–∫–æ–º. –≠—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–æ–¥ –ø—Ä–æ—â–µ –¥–ª—è —á—Ç–µ–Ω–∏—è.

–¢–∞–∫–∂–µ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –≤ –ø—Ä–æ—Ü–µ—Å—Å –Ω–æ–≤–æ–≥–æ —à–∞–≥–∞ –Ω–∞–º —Ç–µ–ø–µ—Ä—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≤–ø–∏—Å–∞—Ç—å –µ–≥–æ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –º–µ—Å—Ç–æ. –î—Ä—É–≥–∏–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –æ—Å—Ç–∞–Ω—É—Ç—Å—è –Ω–µ–∏–∑–º–µ–Ω–Ω—ã–º–∏:

```js
function makeOrder(user, products, coupon, shipDate) {
  if (!user || !products.length) throw new InvalidOrderDataError();

  const created = createOrder(user, products);
  const withDiscount = applyCoupon(created, coupon);
  const withPromo = applyPromo(withDiscount, user);
  const order = addShipment(withPromo, shipDate); // –ù–æ–≤—ã–π —à–∞–≥ –ø—Ä–æ—Ü–µ—Å—Å–∞.

  return order;
}
```

–ê –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –∫–∞–∫–æ–≥–æ-—Ç–æ —à–∞–≥–∞ ‚Äî –ø—Ä–æ—â–µ –Ω–∞–π—Ç–∏ —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä—É—é –Ω—É–∂–Ω–æ —É–±—Ä–∞—Ç—å. –£–±—Ä–∞–≤ –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏, –º—ã –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ —É–¥–∞–ª–∏–º –≤–µ—Å—å –∫–æ–¥, —Å–≤—è–∑–∞–Ω–Ω—ã–π —Å —ç—Ç–∏–º —à–∞–≥–æ–º –ø—Ä–æ—Ü–µ—Å—Å–∞.

| –ö —Å–ª–æ–≤—É üïµÔ∏è                                                                                                                                                                                                                                       |
| :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| –ù–µ –≤—Å–µ–≥–¥–∞ –ø–∞–π–ø–ª–∞–π–Ω –±—ã–≤–∞–µ—Ç –ø—Ä–æ—Å—Ç–æ –∑–∞–º–µ—Ç–∏—Ç—å. –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –º–æ–≥—É—Ç –±—ã—Ç—å ¬´—Ä–∞–∑–º–∞–∑–∞–Ω—ã¬ª –ø–æ –∫–æ–¥–æ–≤–æ–π –±–∞–∑–µ. –í —Ç–∞–∫–∏—Ö —Å–ª—É—á–∞—è—Ö –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω–æ —Å–æ—Å—Ç–∞–≤–∏—Ç—å –Ω–∞ –±—É–º–∞–∂–∫–µ —Å—Ö–µ–º—É –æ–±—â–µ–Ω–∏—è —á–∞—Å—Ç–µ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º, —á—Ç–æ–±—ã –æ–±–Ω–∞—Ä—É–∂–∏—Ç—å –∑–∞–∫–æ–Ω–æ–º–µ—Ä–Ω–æ—Å—Ç–∏. |

## –ù–µ–≤—ã—Ä–∞–∑–∏–º–æ—Å—Ç—å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ

–ù–µ–∫–æ—Ç–æ—Ä—ã–º –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å–∞–º –¥–ª—è —Ä–∞–±–æ—Ç—ã –Ω—É–∂–Ω—ã –¥–∞–Ω–Ω—ã–µ —Ç–æ–ª—å–∫–æ –≤ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏—è—Ö. –ù–∞–ø—Ä–∏–º–µ—Ä, –º—ã –Ω–µ —Ö–æ—Ç–∏–º –Ω–∞—á–∏–Ω–∞—Ç—å –æ—Ç–≥—Ä—É–∑–∫—É –∑–∞–∫–∞–∑–∞, –ø–æ–∫–∞ –æ–Ω –Ω–µ –æ–ø–ª–∞—á–µ–Ω –∏–ª–∏ —É –Ω–µ–≥–æ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç –∞–¥—Ä–µ—Å–∞ –¥–æ—Å—Ç–∞–≤–∫–∏. –¢–∞–∫–∏–µ –∑–∞–∫–∞–∑—ã –¥–ª—è —ç—Ç–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ ‚Äî –Ω–µ–≤–∞–ª–∏–¥–Ω—ã.

–ú—ã –º–æ–∂–µ–º —Å–¥–µ–ª–∞—Ç—å –∫–æ–¥ –Ω–∞–¥—ë–∂–Ω–µ–µ, –µ—Å–ª–∏ ¬´–∑–∞–ø—Ä–µ—Ç–∏–º¬ª –ø–µ—Ä–µ–¥–∞—á—É –Ω–µ–≤–∞–ª–∏–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö. –¢–æ –µ—Å—Ç—å –µ—Å–ª–∏ —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä—É–µ–º –∫–æ–¥ —Ç–∞–∫, —á—Ç–æ –∏—Ö –ø–µ—Ä–µ–¥–∞—á–∞ –±—É–¥–µ—Ç –Ω–µ–≤–æ–∑–º–æ–∂–Ω–∞ –∏–ª–∏ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —Å–ª–æ–∂–Ω–µ–µ, —á–µ–º –ø–µ—Ä–µ–¥–∞—á–∞ –≤–∞–ª–∏–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

–ù–∞–ø—Ä–∏–º–µ—Ä, –≤ —è–∑—ã–∫–∞—Ö —Å–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–π —Ç–∏–ø–∏–∑–∞—Ü–∏–µ–π —ç—Ç–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Å –ø–æ–º–æ—â—å—é —Ç–∏–ø–æ–≤. –ú—ã –º–æ–∂–µ–º –æ–ø–∏—Å–∞—Ç—å –∫–∞–∂–¥–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ—Ç–¥–µ–ª—å–Ω—ã–º —Ç–∏–ø–æ–º –∏ —É–∫–∞–∑–∞—Ç—å, –∫–∞–∫–æ–π —Ç–∏–ø –¥–ª—è –∫–∞–∫–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –≤–∞–ª–∏–¥–µ–Ω. –¢–∞–∫–æ–π –∫–æ–¥ _–¥–æ–±–∞–≤–∏—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ –ø—Ä—è–º–æ –≤ —Å–∏–≥–Ω–∞—Ç—É—Ä—É_ —Ñ—É–Ω–∫—Ü–∏–π –∏ –º–µ—Ç–æ–¥–æ–≤.

| –ö —Å–ª–æ–≤—É üëÄ                                                                                                                                                                                                                                                                                                      |
| :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| –ü–æ–Ω—è—Ç–Ω–æ, —á—Ç–æ —Ç—É—Ç –Ω–∞–¥–æ –¥–µ–ª–∞—Ç—å —Å–∫–∏–¥–∫—É –Ω–∞ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —è–∑—ã–∫–∞. –ù–∞–ø—Ä–∏–º–µ—Ä, –≤ TypeScript –¥–æ–±–∏—Ç—å—Å—è ¬´–Ω–∞—Å—Ç–æ—è—â–µ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤ —Å–∏–≥–Ω–∞—Ç—É—Ä–µ¬ª —Å–ª–æ–∂–Ω–µ–µ, –∏ –æ–Ω–∞ –±—É–¥–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∞ JS-—Ä–∞–Ω—Ç–∞–π–º–æ–º. –¢–µ–º –Ω–µ –º–µ–Ω–µ–µ –¥–∞–∂–µ –±–µ–∑ –Ω–µ—ë —Ç–∞–∫–∞—è —Ç–µ—Ö–Ω–∏–∫–∞ –ø–æ–º–æ–≥–∞–µ—Ç –æ—Ç—Ä–∞–∂–∞—Ç—å –±–æ–ª—å—à–µ –∑–Ω–∞–Ω–∏–π –∏–∑ –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ –ø—Ä—è–º–æ –≤ –∫–æ–¥–µ. |

–î–ª—è –ø—Ä–∏–º–µ—Ä–∞ –ø–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ —Ç–∏–ø `CustomerEmail`, –∫–æ—Ç–æ—Ä—ã–π –æ–ø–∏—Å—ã–≤–∞–µ—Ç –∞–¥—Ä–µ—Å —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ—á—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞—à–µ–≥–æ –º–∞–≥–∞–∑–∏–Ω–∞:

```ts
type CustomerEmail = {
  value: EmailAddress;
  verified: boolean;
};
```

–£ —Ç–∏–ø–∞ –µ—Å—Ç—å —Ñ–ª–∞–≥ `verified`, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–∞ –ª–∏ –ø–æ—á—Ç–∞. –ü—Ä–æ–±–ª–µ–º–∞ —Ñ–ª–∞–≥–∞ –≤ —Ç–æ–º, —á—Ç–æ –æ–Ω –Ω–µ –æ–±—ä—è—Å–Ω—è–µ—Ç, –ø—Ä–∏ _–∫–∞–∫–∏—Ö —É—Å–ª–æ–≤–∏—è—Ö_ –±—É–¥–µ—Ç –∏–º–µ—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ `true`. –ò–∑-–∑–∞ —ç—Ç–æ–≥–æ –≤ —Ç–∏–ø–µ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∑–Ω–∞–Ω–∏–π –æ –Ω—é–∞–Ω—Å–∞—Ö –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ—á—Ç—ã.

---

**‚ùóÔ∏è –ù–µ–¥–æ—Å—Ç–∞—Ç–æ–∫ —ç—Ç–∏—Ö –∑–Ω–∞–Ω–∏–π –ø—Ä–∏–¥—ë—Ç—Å—è –∫–∞–∫-—Ç–æ –≤–æ—Å–ø–æ–ª–Ω—è—Ç—å, —á–∞—â–µ –≤—Å–µ–≥–æ ‚Äî –≤ —Ä–∞–Ω—Ç–∞–π–º–µ —Å –ø–æ–º–æ—â—å—é —É—Å–ª–æ–≤–∏–π**

---

–î–ª—è –ø—Ä–∏–º–µ—Ä–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏–º, —á—Ç–æ –≤ –º–∞–≥–∞–∑–∏–Ω–µ –µ—Å—Ç—å —Å—Å—ã–ª–∫–∞ –Ω–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞. –ü—Ä–∏ –∫–ª–∏–∫–µ –æ–Ω–∞ –¥–æ–ª–∂–Ω–∞ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å–æ —Å–±—Ä–æ—Å–æ–º –ø–∞—Ä–æ–ª—è, –Ω–æ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –µ–≥–æ –ø–æ—á—Ç–∞ –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–∞:

```ts
function restoreAccount(email: CustomerEmail): void {
  if (email.verified) {
    // –û—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å–±—Ä–æ—Å–∞ –ø–∞—Ä–æ–ª—è.
  } else {
    return;
  }
}
```

–ò–∑-–∑–∞ —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ `CustomerEmail` —Ñ—É–Ω–∫—Ü–∏—è `restoreAccount` –±—É–¥–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –≤ –ø–æ–ª–æ–≤–∏–Ω–µ —Å–ª—É—á–∞–µ–≤ –¥–ª—è –Ω–µ—ë –Ω–µ–≤–∞–ª–∏–¥–Ω—ã.

–≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Å—Ç—Ä–∞—à–Ω–æ, –ø–æ–∫–∞ —Ç–∏–ø —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ç–∞–∫–æ–π —Ñ–ª–∞–≥. –ù–æ —á–µ–º –±–æ–ª—å—à–µ –ø–æ–¥–æ–±–Ω—ã—Ö —Ñ–ª–∞–≥–æ–≤, —Ç–µ–º –±–æ–ª—å—à–µ —Ä–∞–∑–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π –≤ —ç—Ç–æ–º —Ç–∏–ø–µ –±—É–¥–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ, —Ç–µ–º –≤—ã—à–µ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –æ—à–∏–±–æ–∫ –∏–∑-–∑–∞ –ø–µ—Ä–µ–¥–∞—á–∏ –Ω–µ–≤–∞–ª–∏–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

–û—Ç —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ –ø–µ—Ä–µ—Å—Ç—Ä–∞—Ö–æ–≤–∞—Ç—å—Å—è, –µ—Å–ª–∏ –≤—ã–¥–µ–ª–∏—Ç—å —Ä–∞–∑–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã:

```ts
// –ù–µ–≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∞–¥—Ä–µ—Å–∞ –±—É–¥—É—Ç –æ–±–æ–∑–Ω–∞—á–µ–Ω—ã –æ–¥–Ω–∏–º —Ç–∏–ø–æ–º:
type UnverifiedEmail = {
  /*...*/
};

// ...–í–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ ‚Äî –¥—Ä—É–≥–∏–º:
type VerifiedEmail = {
  /*...*/
};

// –û–±—â–∏–π —Ç–∏–ø –æ–±–æ–∑–Ω–∞—á–∏–º –∫–∞–∫ –≤—ã–±–æ—Ä –º–µ–∂–¥—É –ø–µ—Ä–≤—ã–º –∏ –≤—Ç–æ—Ä—ã–º:
type CustomerEmail = UnverifiedEmail | VerifiedEmail;
```

–¢–æ–≥–¥–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –º—ã –º–æ–∂–µ–º —Ç—Ä–µ–±–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö:

```ts
// –ï—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –≤–∞–∂–Ω–æ, –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–∞ –ø–æ—á—Ç–∞ –∏–ª–∏ –Ω–µ—Ç,
// –æ–Ω–∞ –º–æ–∂–µ—Ç –≤ —Å–∏–≥–Ω–∞—Ç—É—Ä–µ —É–∫–∞–∑–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–∏–ø:

function restorePassword(email: VerifiedEmail): void {}
function verifyEmail(email: UnverifiedEmail): void {}

// –ï—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è –≥–æ—Ç–æ–≤–∞ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –ª—é–±–æ–π –ø–æ—á—Ç–æ–π, —Ç–æ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—â–∏–π —Ç–∏–ø ‚Äî
// —Ç–∞–∫ —Å–∏–≥–Ω–∞—Ç—É—Ä–∞ —Å–∞–º–∞ —Å–∫–∞–∂–µ—Ç, —á—Ç–æ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–ª—è —ç—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–µ –≤–∞–∂–Ω–∞:

function isValidEmail(email: CustomerEmail): boolean {}
```

–°–∏–≥–Ω–∞—Ç—É—Ä—ã —Ñ—É–Ω–∫—Ü–∏–π —Å—Ç–∞–ª–∏ —Ç–æ—á–Ω–µ–µ –æ–ø–∏—Å—ã–≤–∞—Ç—å –ø—Ä–µ–¥–º–µ—Ç–Ω—É—é –æ–±–ª–∞—Å—Ç—å, –ø–æ—Ç–æ–º—É —á—Ç–æ –ø–µ—Ä–µ–¥–∞—é—Ç –±–æ–ª—å—à–µ –∑–Ω–∞–Ω–∏–π –æ –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏. –§—É–Ω–∫—Ü–∏–∏ `restorePassword` –∏ `verifyEmail` –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞—é—Ç –æ–± –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è—Ö –Ω–∞ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ. –§—É–Ω–∫—Ü–∏—è `isValidEmail` —Å–æ–æ–±—â–∞–µ—Ç, —á—Ç–æ –≥–æ—Ç–æ–≤–∞ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –ª—é–±–æ–π –ø–æ—á—Ç–æ–π, –∏ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –µ–π –Ω–µ –≤–∞–∂–Ω–∞.

| –û–¥–Ω–∞–∫–æ üöß                                                                                                                                                                           |
| :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| –í —Å–ª—É—á–∞–µ —Å TypeScript —Ç–∏–ø-–∞–ª–∏–∞—Å–æ–≤, –∫–æ–Ω–µ—á–Ω–æ, –º–æ–∂–µ—Ç –æ–∫–∞–∑–∞—Ç—å—Å—è –º–∞–ª–æ. –ú–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è –ø—Ä–æ—Å–ª–µ–¥–∏—Ç—å, —á—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å –Ω–µ–≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∞–¥—Ä–µ—Å –ø–æ—á—Ç—ã —Å —Ç–∏–ø–æ–º `VerifiedEmail` –±—ã–ª–æ –Ω–µ–ª—å–∑—è. |
| –ú—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è —ç—Ç–æ–≥–æ –±—Ä–µ–Ω–¥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–∏–ø–æ–≤[^typebranding] –∏–ª–∏ –¥–æ–≥–æ–≤–æ—Ä–∏—Ç—å—Å—è —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å—É—â–Ω–æ—Å—Ç–∏ —Ç–æ–ª—å–∫–æ —Å –ø–æ–º–æ—â—å—é —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤ –∏–ª–∏ —Ñ–∞–±—Ä–∏–∫.                             |
| –û–¥–Ω–∞–∫–æ, –¥–ª—è –æ–ø–∏—Å–∞—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–ª–µ–π ‚Äî –ø–µ—Ä–µ–¥–∞—á–∏ –∑–Ω–∞–Ω–∏–π –æ –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ ‚Äî –∞–ª–∏–∞—Å–æ–≤ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤–ø–æ–ª–Ω–µ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ.                                                                       |

## –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–∞–π–ø–ª–∞–π–Ω –æ–ø–∏—Ä–∞–µ—Ç—Å—è –Ω–∞ –ª–∏–Ω–µ–π–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–¥–∞. –®–∞–≥–∏ –≤–Ω—É—Ç—Ä–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –æ–¥–∏–Ω –∑–∞ –¥—Ä—É–≥–∏–º –∏ –ø–µ—Ä–µ–¥–∞—é—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ —Ü–µ–ø–æ—á–∫–µ –¥—Ä—É–≥ –¥—Ä—É–≥—É.

–ß—Ç–æ–±—ã —ç—Ç–∞ –∏–¥–µ—è —Ä–∞–±–æ—Ç–∞–ª–∞, –¥–∞–Ω–Ω—ã–µ –≤–Ω—É—Ç—Ä–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–º–∏, –±–µ–∑–æ–ø–∞—Å–Ω—ã–º–∏ –∏ –Ω–µ –ª–æ–º–∞—Ç—å –ø–∞–π–ø–ª–∞–π–Ω. –û–¥–Ω–∞–∫–æ, –º—ã –Ω–µ –º–æ–∂–µ–º –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å, —á—Ç–æ –ª—é–±—ã–µ –¥–∞–Ω–Ω—ã–µ ¬´–∏–∑–≤–Ω–µ¬ª –±—É–¥—É—Ç –±–µ–∑–æ–ø–∞—Å–Ω—ã. –ü–æ—ç—Ç–æ–º—É –≤ –∫–æ–¥–µ –º—ã –±—É–¥–µ–º —Ä–∞–∑–¥–µ–ª—è—Ç—å –∑–æ–Ω—ã, –≥–¥–µ –¥–∞–Ω–Ω—ã–º –¥–æ–≤–µ—Ä—è—Ç—å –º–æ–∂–Ω–æ, –∞ –≥–¥–µ ‚Äî –Ω–µ—Ç.

| –û—Å—Ç—Ä–æ–≤–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ üèù                                                                                                |
| :--------------------------------------------------------------------------------------------------------------------- |
| –ë–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å –≤ –∏–¥–µ–∞–ª–µ –¥–æ–ª–∂–µ–Ω —Å—Ç–∞—Ç—å —Ç–∞–∫–∏–º ¬´–æ—Å—Ç—Ä–æ–≤–∫–æ–º¬ª, –¥–∞–Ω–Ω—ã–µ –≤–Ω—É—Ç—Ä–∏ –∫–æ—Ç–æ—Ä–æ–≥–æ –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã, –∞ —Å–Ω–∞—Ä—É–∂–∏ ‚Äî –Ω–µ—Ç. |

–í DDD –µ—Å—Ç—å –∞–Ω–∞–ª–æ–≥ —Ç–∞–∫–∏—Ö –æ—Å—Ç—Ä–æ–≤–∫–æ–≤ ‚Äî _–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã (Bounded Context)_.[^boundedcontext][^ddd][^dmmf] –ï—Å–ª–∏ —Å–∏–ª—å–Ω–æ —É–ø—Ä–æ—Å—Ç–∏—Ç—å, —Ç–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç¬†‚Äî –Ω–∞–±–æ—Ä —Ñ—É–Ω–∫—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –æ—Ç–Ω–æ—Å—è—Ç—Å—è –∫ –Ω–µ–∫–æ—Ç–æ—Ä–æ–π —á–∞—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

–ü–æ DDD –¥–∞–Ω–Ω—ã–µ —É–¥–æ–±–Ω–µ–µ –≤—Å–µ–≥–æ –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å _–Ω–∞ –≥—Ä–∞–Ω–∏—Ü–∞—Ö_ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤, –Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞ –≤—Ö–æ–¥–µ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–±–æ—Ç—ã. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ ¬´–≤–Ω—É—Ç—Ä–∏¬ª –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –±—É–¥—É—Ç –Ω–µ –Ω—É–∂–Ω—ã, –ø–æ—Ç–æ–º—É —á—Ç–æ –¥–∞–Ω–Ω—ã–µ —É–∂–µ –±—É–¥—É—Ç –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã.

<figure>
  <img src="../images/09-bounded-context.png" width="800" alt="–ü—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫ —Å —Ç–æ–ª—Å—Ç—ã–º–∏ –≥—Ä–∞–Ω–∏—Ü–∞–º–∏ –∏ –≤—Ö–æ–¥—è—â–∏–º–∏ –∏ –≤—ã—Ö–æ–¥—è—â–∏–º–∏ —Å—Ç—Ä–µ–ª–∫–∞–º–∏; –≤–Ω—É—Ç—Ä–∏ –Ω–∞–±–æ—Ä –∏–∑ –ª–∏–Ω–µ–π–Ω–æ —Å–æ–µ–¥–∏–Ω—ë–Ω–Ω—ã—Ö –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–æ–≤ –ø–æ–º–µ–Ω—å—à–µ">
  <figcaption><em>–í—Å—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–∞ –≥—Ä–∞–Ω–∏—Ü–∞—Ö, –∞ –≤–Ω—É—Ç—Ä–∏ –¥–∞–Ω–Ω—ã–µ —Å—á–∏—Ç–∞—é—Ç—Å—è –≤–∞–ª–∏–¥–Ω—ã–º–∏ –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã–º–∏</em><br><br></figcaption>
</figure>

–ú—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ –ø—Ä–∞–≤–∏–ª–æ –≤ —Å–≤–æ—ë–º –∫–æ–¥–µ, —á—Ç–æ–±—ã –∏–∑–±–∞–≤–∏—Ç—å—Å—è –æ—Ç –ª–∏—à–Ω–∏—Ö –ø–µ—Ä–µ–ø—Ä–æ–≤–µ—Ä–æ–∫ –≤–æ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã. –ü—Ä–æ–≤–µ—Ä–∏–≤ –¥–∞–Ω–Ω—ã–µ –µ–¥–∏–Ω–æ–∂–¥—ã –≤ –Ω–∞—á–∞–ª–µ –ø—Ä–æ—Ü–µ—Å—Å–∞, –º—ã –º–æ–∂–µ–º —Å—á–∏—Ç–∞—Ç—å, —á—Ç–æ –æ–Ω–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –Ω–∞—à–∏–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º.

–¢–æ–≥–¥–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ –∫–æ—Ä–∑–∏–Ω—ã `CartProducts` –≤–º–µ—Å—Ç–æ ad-hoc –ø—Ä–æ–≤–µ—Ä–æ–∫ –Ω–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤ –∏ –∏—Ö —Å–≤–æ–π—Å—Ç–≤ –≤–Ω—É—Ç—Ä–∏ —Ä–µ–Ω–¥–µ—Ä–∞:

```js
function CartProducts({ items }) {
  return (
    !!items && (
      <ul>
        {items.map((item) =>
          item ? <li key={item.id}>{item.name ?? "‚Äî"}</li> : null
        )}
      </ul>
    )
  );
}
```

...–ú—ã –±—ã –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–æ–≤–µ—Ä–∏–ª–∏ –¥–∞–Ω–Ω—ã–µ –Ω–∞ –≤—Ö–æ–¥–µ:

```js
function validateCart(cart) {
  if (!exists(cart)) return [];
  if (hasInvalidItem(cart)) return [];

  return cart;
}

// ...

const validCart = validateCart(serverCart);
```

...–ò –≤–Ω—É—Ç—Ä–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —É–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –±—ã –∏—Ö –±–µ–∑ –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫:

```js
function CartProducts({ items }) {
  return (
    <ul>
      {items.map((item) => (
        <li key={item.id}>{item.name}</li>
      ))}
    </ul>
  );
}
```

### –ü—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è

–ß–∞—Å—Ç–æ –≤–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ –≤—Ö–æ–¥–µ –ø–æ–º–æ–≥–∞–µ—Ç –Ω–∞–º –æ–±–Ω–∞—Ä—É–∂–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö, –æ –∫–æ—Ç–æ—Ä—ã—Ö –º—ã –Ω–µ –ø–æ–¥—É–º–∞–ª–∏ —Ä–∞–Ω–µ–µ. –ù–∞–ø—Ä–∏–º–µ—Ä, –∫–æ–¥ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ `CartProducts` –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞ —Å—Ç–∞–ª —Å–∏–ª—å–Ω–æ –ø—Ä–æ—â–µ, –∏ –ø–æ—ç—Ç–æ–º—É –≤–∏–¥–µ—Ç—å –≤ –Ω—ë–º –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–∏ –Ω–∞–º —Å—Ç–∞–ª–æ –ª–µ–≥—á–µ:

```js
// –û–¥–∏–Ω –∏–∑ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–æ–≤ –≤ —Ç–æ–º,
// —á—Ç–æ –µ—Å–ª–∏ –∫–æ—Ä–∑–∏–Ω–∞ –≤–∞–ª–∏–¥–Ω–∞, –Ω–æ –ø—É—Å—Ç–∞,
// –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –æ—Ç—Ä–µ–Ω–¥–µ—Ä–∏—Ç –ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫:

const validEmptyCart = [];
<CartProducts items={validEmptyCart} />;

// –í —Ä–∞–∑–º–µ—Ç–∫–µ –ø–æ–ª—É—á–∏—Ç—Å—è: <ul></ul>
```

–í –∫–æ–¥–µ –≤—ã—à–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ ¬´–ü—É—Å—Ç–æ–π –∫–æ—Ä–∑–∏–Ω—ã¬ª –≤–∞–ª–∏–¥–Ω–æ, –Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –∫—Ä–∞–π–Ω–∏–π —Å–ª—É—á–∞–π. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–∞–π–ø–ª–∞–π–Ω –∏ –ø—Ä–µ–¥–≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–µ–ª–∞—é—Ç –ø–æ–¥–æ–±–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞–º–µ—Ç–Ω–µ–µ, –ø–æ—Ç–æ–º—É —á—Ç–æ —Ç–µ –≤—ã–±–∏–≤–∞—é—Ç—Å—è –∏–∑ ¬´–Ω–æ—Ä–º–∞–ª—å–Ω–æ–≥–æ¬ª –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–¥–∞. –ê —á–µ–º –±–æ–ª–µ–µ –∑–∞–º–µ—Ç–Ω—ã –∫—Ä–∞–π–Ω–∏–µ —Å–ª—É—á–∞–∏, —Ç–µ–º —Ä–∞–Ω—å—à–µ –º—ã –∏—Ö –æ–±–Ω–∞—Ä—É–∂–∏–º –∏ –æ–±—Ä–∞–±–æ—Ç–∞–µ–º:

```js
// –ß—Ç–æ–±—ã –ø–æ—Ñ–∏–∫—Å–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É —Å –ø—É—Å—Ç—ã–º —Å–ø–∏—Å–∫–æ–º,
// —Ä–∞–∑–¥–µ–ª–∏–º —Å–æ—Å—Ç–æ—è–Ω–∏—è ¬´–ü—É—Å—Ç–æ–π –∫–æ—Ä–∑–∏–Ω—ã¬ª
// –∏ ¬´–ö–æ—Ä–∑–∏–Ω—ã —Å —Ç–æ–≤–∞—Ä–∞–º–∏¬ª –Ω–∞ —Ä–∞–∑–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

const EmptyCart = () => <p>The cart is empty</p>;
const CartProducts = ({ items }) => {};

// –¢–æ–≥–¥–∞ –ø—Ä–∏ —Ä–µ–Ω–¥–µ—Ä–µ –º—ã —Å–º–æ–∂–µ–º —Å–ø–µ—Ä–≤–∞ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –≤—Å–µ –∫—Ä–∞–π–Ω–∏–µ —Å–ª—É—á–∞–∏,
// –∞ —É–∂–µ –∑–∞—Ç–µ–º –ø–µ—Ä–µ–π—Ç–∏ –∫ —Ä–∞–±–æ—Ç–µ —Å Happy Path:

function Cart({ serverCart }) {
  const cart = validateCart(serverCart);

  if (isEmpty(cart)) return <EmptyCart />;
  return <CartProducts items={cart} />;
}
```

| –û–¥–Ω–∞–∫–æ üí°                                                                                                                                                                                                                                                    |
| :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| –ú—ã –ø–æ–º–Ω–∏–º, —á—Ç–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –Ω–µ –¥–æ–ª–∂–µ–Ω –º–µ–Ω—è—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∫–æ–¥–∞, –ø–æ—ç—Ç–æ–º—É –∏—Å–ø—Ä–∞–≤–ª—è—Ç—å –æ—à–∏–±–∫–∏ –ª—É—á—à–µ –æ—Ç–¥–µ–ª—å–Ω–æ. –ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ —Ç–æ–º, –∫–∞–∫ –Ω–µ —Å–º–µ—à–∏–≤–∞—Ç—å —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Å –±–∞–≥—Ñ–∏–∫—Å–∞–º–∏, –Ω–æ –∏ –Ω–µ –∑–∞–±—ã–≤–∞—Ç—å –æ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º–∞—Ö –≤ –∫–æ–¥–µ, –º—ã –ø–æ–≥–æ–≤–æ—Ä–∏–º –æ–¥–Ω–æ–π –∏ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –≥–ª–∞–≤. |

–¢–∞–∫–æ–π ¬´–æ—Ç—Å–µ–≤¬ª –∫—Ä–∞–π–Ω–∏—Ö —Å–ª—É—á–∞–µ–≤, –∫–∞–∫ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ `Cart`, –ø–æ–º–æ–≥–∞–µ—Ç –Ω–∞–º –æ–±–Ω–∞—Ä—É–∂–∏—Ç—å –∏ —É—á–µ—Å—Ç—å –±–æ–ª—å—à–µ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–ª–æ–∂–Ω–æ—Å—Ç–µ–π –Ω–∞ —Ä–∞–Ω–Ω–∏—Ö —ç—Ç–∞–ø–∞—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏. –ë–ª–∞–≥–æ–¥–∞—Ä—è —ç—Ç–æ–º—É –ø—Ä–æ–≥—Ä–∞–º–º–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–∞–¥—ë–∂–Ω–µ–µ –∏ —Ç–æ—á–Ω–µ–µ –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ø—Ä–µ–¥–º–µ—Ç–Ω—É—é –æ–±–ª–∞—Å—Ç—å.

| –ö —Å–ª–æ–≤—É üëÄ                                                                                                                                     |
| :--------------------------------------------------------------------------------------------------------------------------------------------- |
| –ë–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω–æ –æ —Ç–µ—Ö–Ω–∏–∫–µ ¬´–æ—Ç—Å–µ–≤–∞¬ª –∫—Ä–∞–π–Ω–∏—Ö —Å–ª—É—á–∞–µ–≤ –∏ –ø–æ–Ω—è—Ç–∏–∏ —Ä–∞–Ω–Ω–µ–≥–æ –≤–æ–∑–≤—Ä–∞—Ç–∞ (Early Return) –º—ã –ø–æ–≥–æ–≤–æ—Ä–∏–º –≤ –≥–ª–∞–≤–µ –æ–± —É—Å–ª–æ–≤–∏—è—Ö –∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∫–æ–¥–∞. |

### DTO –∏ –¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è

–í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–±–æ—Ç—ã –ø–æ–ª–µ–∑–Ω–æ –µ—â—ë –∏ –ø–æ—Ç–æ–º—É, —á—Ç–æ –æ–Ω–∏ –º–æ–≥—É—Ç –ø–æ–≤—Ä–µ–¥–∏—Ç—å—Å—è –ø—Ä–∏ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–ª–∏ –¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏.[^serialization]

–ö–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –º–µ–∂–¥—É —á–∞—Å—Ç—è–º–∏ —Å–∏—Å—Ç–µ–º—ã –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ –≤–∏–¥–µ _–æ–±—ä–µ–∫—Ç–æ–≤ –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö (Data Transfer Object, DTO)_.[^dto][^ddd] –≠—Ç–æ —Ç–∞–∫–∏–µ ¬´–ø–∞–∫–µ—Ç—ã —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π¬ª, –∫–æ—Ç–æ—Ä—ã–µ –ø—É—Ç–µ—à–µ—Å—Ç–≤—É—é—Ç –æ—Ç –æ–¥–Ω–æ–π —á–∞—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥—Ä—É–≥–æ–π ‚Äî –Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞ –∫ –∫–ª–∏–µ–Ω—Ç—É.

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ —Ñ–æ—Ä–º–∞—Ç DTO –Ω–∞–º–µ—Ä–µ–Ω–Ω–æ –ø—Ä–æ—Å—Ç—ã: —Å—Ç—Ä–æ–∫–∏, —á–∏—Å–ª–∞, –º–∞—Å—Å–∏–≤—ã –∏ –æ–±—ä–µ–∫—Ç—ã. –ù–∞–ø—Ä–∏–º–µ—Ä, —É JSON, –∫–æ—Ç–æ—Ä—ã–π —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –¥–ª—è –æ–±—â–µ–Ω–∏—è –º–µ–∂–¥—É —Å–µ—Ä–≤–µ—Ä–æ–º –∏ –∫–ª–∏–µ–Ω—Ç–æ–º, –Ω–µ—Ç –Ω–∏–∫–∞–∫–∏—Ö —Å–ª–æ–∂–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∏–ª–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä.

–í–æ –≤—Ä–µ–º—è ¬´–ø–µ—Ä–µ–≤–æ–¥–∞¬ª –º–µ–∂–¥—É —Å–ª–æ–∂–Ω—ã–º–∏ –¥–æ–º–µ–Ω–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ –∏ –Ω–∞–º–µ—Ä–µ–Ω–Ω–æ –ø—Ä–æ—Å—Ç—ã–º–∏ DTO —á—Ç–æ-—Ç–æ –º–æ–∂–µ—Ç –ø–æ–π—Ç–∏ –Ω–µ —Ç–∞–∫, –∏ –¥–∞–Ω–Ω—ã–µ –º–æ–≥—É—Ç –æ–∫–∞–∑–∞—Ç—å—Å—è –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–º–∏. –û–Ω–∏ –º–æ–≥—É—Ç —Å–ª–æ–º–∞—Ç—å —Ä–∞–±–æ—Ç—É –ø—Ä–æ—Ü–µ—Å—Å–∞, –µ—Å–ª–∏ –Ω–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Ö –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º.

| –ü–æ–¥—Ä–æ–±–Ω–µ–µ üìö                                                                                                                                                                                             |
| :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| –ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–º –ø–∞–π–ø–ª–∞–π–Ω–µ, –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å–∞—Ö, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã—Ö –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞—Ö, –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –∏ DDD –ø–∏—Å–∞–ª –°–∫–æ—Ç—Ç –í–ª–∞—à–∏–Ω –≤ ‚ÄúDomain Modeling Made Functional‚Äù.[^dmmf] –û—Ç–ª–∏—á–Ω–∞—è –∫–Ω–∏–≥–∞, –æ—á–µ–Ω—å —Ä–µ–∫–æ–º–µ–Ω–¥—É—é. |

## –°–µ–ª–µ–∫—Ç–æ—Ä—ã –∏ –º–∞–ø–ø–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö

–û–¥–Ω–∏ –∏ —Ç–µ –∂–µ –¥–∞–Ω–Ω—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å –Ω—É–∂–Ω—ã –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∑–∞–¥–∞—á. –ù–∞–ø—Ä–∏–º–µ—Ä, UI –º–æ–∂–µ—Ç –ø–æ-—Ä–∞–∑–Ω–æ–º—É –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ —ç–∫—Ä–∞–Ω–µ —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ –∏–ª–∏ –∫–æ—Ä–∑–∏–Ω—É –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–∞–π–ø–ª–∞–π–Ω –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç ¬´–≥–æ—Ç–æ–≤–∏—Ç—å¬ª –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ç–∞–∫–∏—Ö —Å–∏—Ç—É–∞—Ü–∏–π –∑–∞—Ä–∞–Ω–µ–µ. –ù–∞–ø—Ä–∏–º–µ—Ä, –∑–∞—Ä–∞–Ω–µ–µ –≤—ã–±–∏—Ä–∞—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã –∏–∑ –∏—Å—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö, —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –æ–¥–Ω–∏ –Ω–∞–±–æ—Ä—ã –¥–∞–Ω–Ω—ã—Ö –≤ –¥—Ä—É–≥–∏–µ –∏–ª–∏ –¥–∞–∂–µ —Å–ª–∏–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –Ω–∞–±–æ—Ä–æ–≤ –≤ –æ–¥–∏–Ω.

| –£–ø—Ä–æ—â–µ–Ω–∏–µ üöß                                                                                                                                                                                                                                                                                       |
| :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| –ü–æ –æ–ø–∏—Å–∞–Ω–∏—é –≤—ã—à–µ –≤—ã –º–æ–≥–ª–∏ –≤—Å–ø–æ–º–Ω–∏—Ç—å –∫–∞–∫–æ–π-—Ç–æ –∏–∑ —Ç–µ—Ä–º–∏–Ω–æ–≤: –º–∞–ø–ø–∏–Ω–≥, –ø—Ä–æ–µ–∫—Ü–∏—è, —Å–ª–∞–π—Å, –ª–∏–Ω–∑–∞, –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ.[^mappers][^projections][^slices][^lenses]                                                                                                                                                  |
| –Ø —Ä–µ—à–∏–ª –Ω–µ —É–¥–µ–ª—è—Ç—å –≤ —ç—Ç–æ–π –∫–Ω–∏–≥–µ –≤–Ω–∏–º–∞–Ω–∏–µ –∏—Ö —Ä–∞–∑–ª–∏—á–∏—è–º, —á—Ç–æ–±—ã —Å–æ–∫—Ä–∞—Ç–∏—Ç—å —Ç–µ–∫—Å—Ç –∏ –Ω–µ –≤–≤–æ–¥–∏—Ç—å —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –Ω–æ–≤—ã—Ö –ø–æ–Ω—è—Ç–∏–π. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ —è –¥–∞–ª–µ–µ –ø–æ —Ç–µ–∫—Å—Ç—É –±—É–¥—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ª–æ–≤–æ ¬´–≤—ã–±–æ—Ä–∫–∞¬ª –∫–∞–∫ –æ–±—â–∏–π —Å–∏–Ω–æ–Ω–∏–º –¥–ª—è –≤—Å–µ—Ö —ç—Ç–∏—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤, —Ç–æ—á–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∫–æ—Ç–æ—Ä–æ–≥–æ –±—É–¥–µ—Ç –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è. |

–í—ã–±–æ—Ä–∫–∏ –¥–∞–Ω–Ω—ã—Ö –ø–æ–º–æ–≥–∞—é—Ç ¬´—Ä–∞—Å—Ü–µ–ø–∏—Ç—å¬ª –º–æ–¥—É–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Å—Ö–æ–∂–∏–µ, –Ω–æ —Å–ª–µ–≥–∫–∞ –æ—Ç–ª–∏—á–∞—é—â–∏–µ—Å—è –¥–∞–Ω–Ω—ã–µ. –ù–∞–ø—Ä–∏–º–µ—Ä, –ø–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `CartProducts`, –∫–æ—Ç–æ—Ä—ã–π —Ä–µ–Ω–¥–µ—Ä–∏—Ç –∫–æ—Ä–∑–∏–Ω—É —Ç–æ–≤–∞—Ä–æ–≤:

```js
function CartProducts({ serverCart }) {
  return (
    <ul>
      {serverCart.map((item) => (
        <li key={item.id}>
          {item.product.name}: {item.product.price} √ó {item.count}
        </li>
      ))}
    </ul>
  );
}
```

–°–µ–π—á–∞—Å –æ–Ω –ø–æ–ª–∞–≥–∞–µ—Ç—Å—è –Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö –∫–æ—Ä–∑–∏–Ω—ã, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏—Ö–æ–¥–∏—Ç —Å —Å–µ—Ä–≤–µ—Ä–∞. –ï—Å–ª–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏–∑–º–µ–Ω–∏—Ç—Å—è ‚Äî –ø—Ä–∏–¥—ë—Ç—Å—è –º–µ–Ω—è—Ç—å –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç:

```js
// –ï—Å–ª–∏ –ø—Ä–æ–¥—É–∫—Ç—ã –Ω–∞—á–Ω—É—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ,
// —Ç–æ –∏—Å–∫–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø—Ä–æ–¥—É–∫—Ç –ø—Ä–∏–¥—ë—Ç—Å—è
// –ø—Ä—è–º–æ –≤–æ –≤—Ä–µ–º—è —Ä–µ–Ω–¥–µ—Ä–∞ –ø—É–Ω–∫—Ç–∞ –∫–æ—Ä–∑–∏–Ω—ã.

function CartProducts({ serverCart, serverProducts }) {
  return (
    <ul>
      {serverCart.map((item) => {
        const product = serverProducts.find(
          (product) => item.productId === product.id
        ).name;

        return (
          <li key={item.id}>
            {product.name}:{product.price} √ó {item.count}
          </li>
        );
      })}
    </ul>
  );
}
```

–í—ã–±–æ—Ä–∫–∏ –¥–∞–Ω–Ω—ã—Ö –º–æ–≥—É—Ç –ø–æ–º–æ—á—å –Ω–∞–º ¬´—Ä–∞—Å—Ü–µ–ø–∏—Ç—å¬ª –æ—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É, –∫–æ—Ç–æ—Ä—É—é –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∞. –û—Ñ–æ—Ä–º–∏–º —Ç–∞–∫—É—é –≤—ã–±–æ—Ä–∫—É, –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é:

```js
// –§—É–Ω–∫—Ü–∏—è `toClientCart` –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä—É,
// –∫–æ—Ç–æ—Ä–æ–π –±—É–¥—É—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

function toClientCart(cart, products) {
  return cart.map(({ productId, ...item }) => {
    const product = products.find(({ id }) => productId === id);
    return { ...item, product };
  });
}
```

...–ò –±—É–¥–µ–º –ø—Ä–æ–≥–æ–Ω—è—Ç—å –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ —ç—Ç—É —Ñ—É–Ω–∫—Ü–∏—é –ø–µ—Ä–µ–¥ —Ç–µ–º, –∫–∞–∫ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å –∏—Ö –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ:

```js
const serverCart = await fetchCart(userId)
const cart = toClientCart(serverCart, serverProducts)

// ...

<CartProducts items={cart} />
```

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Ç–æ–≥–¥–∞ –±—É–¥–µ—Ç –ø–æ–ª–∞–≥–∞—Ç—å—Å—è –Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—É, –∫–æ—Ç–æ—Ä—É—é _–æ–ø—Ä–µ–¥–µ–ª—è–µ–º –º—ã —Å–∞–º–∏_:

```js
function CartProducts({ items }) {
  return (
    <ul>
      {items.map(({ id, count, product }) => (
        <li key={id}>
          {product.name} {product.price} √ó {count}
        </li>
      ))}
    </ul>
  );
}
```

–≠—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –µ—Å–ª–∏ –æ—Ç–≤–µ—Ç API –ø–æ–º–µ–Ω—è–µ—Ç—Å—è, –Ω–∞–º –Ω–µ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –æ–±–Ω–æ–≤–ª—è—Ç—å –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ. –ù–∞–º –±—É–¥–µ—Ç –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –≤—ã–±–æ—Ä–∫—É.

| –ö —Å–ª–æ–≤—É üîå                                                                                                                                                       |
| :--------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| –≠—Ç–æ –æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ–ª–µ–∑–Ω–æ, –µ—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä —á–∞—Å—Ç–æ –ª–æ–º–∞–µ—Ç –æ–±—Ä–∞—Ç–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–º –∫–æ–¥–æ–º. –≠—É —Ç–µ—Ö–Ω–∏–∫—É –º–æ–∂–Ω–æ —Å—á–∏—Ç–∞—Ç—å —á–∞—Å—Ç–Ω—ã–º —Å–ª—É—á–∞–µ–º –ø–∞—Ç—Ç–µ—Ä–Ω–∞ ¬´–ê–¥–∞–ø—Ç–µ—Ä¬ª.[^adapter] |

–ï—â—ë –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—ã–±–æ—Ä–∫–∏ —É–¥–æ–±–Ω–æ, –µ—Å–ª–∏ –≤ UI –º–æ–≥—É—Ç –±—ã—Ç—å —Ä–∞–∑–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –æ–¥–Ω–∏—Ö –∏ —Ç–µ—Ö –∂–µ –¥–∞–Ω–Ω—ã—Ö. –ù–∞–ø—Ä–∏–º–µ—Ä, –∫—Ä–æ–º–µ —Å–∞–º–æ–π –∫–æ—Ä–∑–∏–Ω—ã –≤ –º–∞–≥–∞–∑–∏–Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤ —Å –æ—Ç–º–µ—Ç–∫–∞–º–∏ –æ–± —É–∂–µ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º.

–î–ª—è —Ä–µ–Ω–¥–µ—Ä–∞ —Ç–∞–∫–æ–≥–æ —Å–ø–∏—Å–∫–∞ –º—ã –º–æ–∂–µ–º –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É–∂–µ –∏–º–µ—é—â–∏–µ—Å—è –¥–∞–Ω–Ω—ã–µ, –Ω–æ —Å–ª–µ–≥–∫–∞ –∏–Ω–∞—á–µ –∏—Ö –ø–æ–¥–≥–æ—Ç–æ–≤–∏–≤:

```js
// –ò—Å–ø–æ–ª—å–∑—É–µ–º –∏–º–µ—é—â–∏–µ—Å—è —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ,
// –Ω–æ –Ω–µ–º–Ω–æ–≥–æ –ø–æ-–¥—Ä—É–≥–æ–º—É –∏—Ö –≥–æ—Ç–æ–≤–∏–º:

function toClientShowcase(products, cart) {
  return products.map((product) => ({
    ...product,
    inCart: cart.some(({ productId }) => productId === product.id),
  }));
}
```

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—É `Showcase` –Ω–∏—á–µ–≥–æ –Ω–µ –Ω—É–∂–Ω–æ –∑–Ω–∞—Ç—å –æ–± –æ—Ç–≤–µ—Ç–µ —Å–µ—Ä–≤–µ—Ä–∞. –û–Ω –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –≤—ã–±–æ—Ä–∫–∏:

```js
function Showcase({ items }) {
  return (
    <ul>
      {items.map(({ product, inCart }) => {
        <li key={product.id}>
          {product.name} <input type="checkbox" checked={inCart} disabled />
        </li>;
      })}
    </ul>
  );
}
```

–¢–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –ø–æ–º–æ–≥–∞–µ—Ç —á—ë—Ç—á–µ –¥–µ–ª–∏—Ç—å –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –º–µ–∂–¥—É –∫–æ–¥–æ–º: –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∑–∞–Ω–∏–º–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ä–µ–Ω–¥–µ—Ä–æ–º, –≤—ã–±–æ—Ä–∫–∏ ‚Äî –ø–æ–¥–≥–æ—Ç–æ–≤–∫–æ–π –¥–∞–Ω–Ω—ã—Ö.

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –º–µ–Ω–µ–µ –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–º–∏ –∫ –æ—Å—Ç–∞–ª—å–Ω–æ–º—É –∫–æ–¥—É, –ø–æ—Ç–æ–º—É —á—Ç–æ –ø–æ–ª–∞–≥–∞—é—Ç—Å—è –Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –º—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º. –¢–∞–∫ –Ω–∞–º, –Ω–∞–ø—Ä–∏–º–µ—Ä, –±—É–¥–µ—Ç –ø—Ä–æ—â–µ –∑–∞–º–µ–Ω–∏—Ç—å –æ–¥–∏–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥—Ä—É–≥–∏–º, –µ—Å–ª–∏ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –æ–±–Ω–æ–≤–∏—Ç—å UI.

–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ø—Ä–æ—â–µ, –ø–æ—Ç–æ–º—É —á—Ç–æ –ª—é–±–∞—è –≤—ã–±–æ—Ä–∫–∞ ‚Äî —ç—Ç–æ –æ–±—ã—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è, –¥–ª—è –µ—ë —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–µ –Ω—É–∂–Ω–∞ —Å–ª–æ–∂–Ω–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞. –ò–∑–º–µ–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤–Ω—É—Ç—Ä–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, –∫ –ø—Ä–∏–º–µ—Ä—É, –ø–æ—Ç—Ä–µ–±–æ–≤–∞–ª–æ –±—ã –µ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∞ –ø—Ä–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏.

–£ –Ω–∞—Å –ø–æ—è–≤–ª—è–µ—Ç—Å—è –±–æ–ª—å—à–µ –∫–æ–Ω—Ç—Ä–æ–ª—è –Ω–∞–¥ –¥–∞–Ω–Ω—ã–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –º—ã —Ö–æ—Ç–∏–º (–∏–ª–∏ –Ω–µ —Ö–æ—Ç–∏–º) –≤–∫–ª—é—á–∏—Ç—å –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–±–æ—Ä–∫–∏. –ú—ã –º–æ–∂–µ–º –æ—Å—Ç–∞–≤–ª—è—Ç—å —Ç–æ–ª—å–∫–æ —Ç–µ –ø–æ–ª—è, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –≤—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ.

–ü—Ä–∏–º–µ–Ω—è—Ç—å –≤—ã–±–æ—Ä–∫–∏, –∫–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, —É–¥–æ–±–Ω–µ–µ –≤—Å–µ–≥–æ —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏. –í —ç—Ç–æ–º –º–µ—Å—Ç–µ –º—ã _—É–∂–µ —É–≤–µ—Ä–µ–Ω—ã_, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã, –Ω–æ _–µ—â—ë –Ω–∏–≥–¥–µ –Ω–µ –ø–æ–ª–∞–≥–∞–µ–º—Å—è_ –Ω–∞ –∏—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä—É. –≠—Ç–æ –¥–∞—ë—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–µ—à–∞—Ç—å, –∫–∞–∫ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –∑–∞–¥–∞—á—É.

| –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ üîó                                                                                                                                                                                                                     |
| :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| –î–∞–Ω–Ω—ã–µ –≤ —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ –∫–∞–∫ –±—ã –ø—Ä–æ—Ö–æ–¥—è—Ç –ø–æ —Ü–µ–ø–æ—á–∫–µ ¬´–ù–µ–ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ¬ª ‚Üí ¬´–í–∞–ª–∏–¥–Ω—ã–µ¬ª ‚Üí ¬´–ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–µ¬ª ‚Üí ¬´–û—Ç–æ–±—Ä–∞–∂—ë–Ω–Ω—ã–µ –≤ UI¬ª.                                                                                                                  |
| –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–∞–π–ø–ª–∞–π–Ω –ø–æ–º–æ–≥–∞–µ—Ç —Ä–∞—Å–ø–∏—Å—ã–≤–∞—Ç—å _–ª—é–±—É—é_ –∑–∞–¥–∞—á—É –≤ –≤–∏–¥–µ –ø–æ–¥–æ–±–Ω–æ–π —Ü–µ–ø–æ—á–∫–∏. –≠—Ç–æ –æ–±–ª–µ–≥—á–∞–µ—Ç –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—é –∏ –¥–µ–ª–∞–µ—Ç –∫–æ–¥ –ø—Ä–æ—â–µ, –ø–æ—Ç–æ–º—É —á—Ç–æ —Ü–µ–ø–æ—á–∫–∏ –ø–æ–º–æ–≥–∞—é—Ç –≤—ã—Å—Ç—Ä–æ–∏—Ç—å —á—ë—Ç–∫—É—é –º–µ–Ω—Ç–∞–ª—å–Ω—É—é –º–æ–¥–µ–ª—å –ø—Ä–æ—Ü–µ—Å—Å–∞, –∫–æ—Ç–æ—Ä—ã–π –º—ã –≤—ã—Ä–∞–∂–∞–µ–º –≤ –∫–æ–¥–µ. |

[^dmmf]: ‚ÄúDomain Modeling Made Functional‚Äù by Scott Wlaschin, https://www.goodreads.com/book/show/34921689-domain-modeling-made-functional
[^typebranding]: ‚ÄúBranding and Type-Tagging‚Äù by Kevin B. Greene, https://medium.com/@KevinBGreene/surviving-the-typescript-ecosystem-branding-and-type-tagging-6cf6e516523d
[^boundedcontext]: ‚ÄúBounded Context in DDD‚Äù by Martin Fowler, https://www.martinfowler.com/bliki/BoundedContext.html
[^dto]: –û–±—ä–µ–∫—Ç –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö, DTO, –í–∏–∫–∏–ø–µ–¥–∏—è, https://ru.wikipedia.org/wiki/DTO
[^ddd]: ‚ÄúDomain-Driven Design‚Äù by Eric Evans, https://www.goodreads.com/book/show/179133.Domain_Driven_Design
[^projections]: Projection operations, C# Guide, https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/concepts/linq/projection-operations
[^mappers]: ‚ÄúData Mapper‚Äù by Martin Fowler, https://martinfowler.com/eaaCatalog/dataMapper.html
[^slices]: API Slice Overview, Redux Toolkit Docs, https://redux-toolkit.js.org/rtk-query/api/created-api/overview#api-slice-overview
[^lenses]: ‚ÄúLenses in Functional Programming‚Äù by Albert Steckermeier, https://sinusoid.es/misc/lager/lenses.pdf
[^adapter]: Adapter Pattern, Refactoring Guru, https://refactoring.guru/design-patterns/adapter
[^serialization]: –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è, –í–∏–∫–∏–ø–µ–¥–∏—è, https://ru.wikipedia.org/wiki/–°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è
