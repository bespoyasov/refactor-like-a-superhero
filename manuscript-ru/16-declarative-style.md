# –î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ—Å—Ç—å

–í –≥–ª–∞–≤–µ –æ–± –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –º—ã –æ–±—Å—É–¥–∏–ª–∏ –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—é –∑–∞–¥–∞—á, –∞ —Ç–∞–∫–∂–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –≤ –∫–æ–¥–µ –Ω–∞–º–µ—Ä–µ–Ω–∏—è –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏. –ú—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–ª–∏, –∫–∞–∫ –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è –ø–æ–º–æ–≥–∞–µ—Ç —É–ª—É—á—à–∞—Ç—å —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –∫–æ–¥–∞ –∏ –∞–∫—Ü–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –¥–µ—Ç–∞–ª—è—Ö, –∫–æ—Ç–æ—Ä—ã–µ –≤–∞–∂–Ω—ã –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏.

–í —ç—Ç–æ–π –≥–ª–∞–≤–µ –º—ã —Ä–∞—Å—à–∏—Ä–∏–º –∏–¥–µ–∏ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –∏ –ø–æ–≥–æ–≤–æ—Ä–∏–º –æ –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ—Å—Ç–∏. –ú—ã –æ–±—Å—É–¥–∏–º, —á—Ç–æ —Ç–∞–∫–æ–µ –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π –∫–æ–¥, –∫–∞–∫ –µ–≥–æ –ø–∏—Å–∞—Ç—å –∏ –≤ —á—ë–º –µ–≥–æ –ø–æ–ª—å–∑–∞ –∏ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –∫–æ–¥–æ–º –≤ –∏–º–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–º —Å—Ç–∏–ª–µ.

## –ß–∏—Ç–∞–µ–º–æ—Å—Ç—å

–ß—Ç–æ–±—ã –ª—É—á—à–µ –ø–æ–Ω—è—Ç—å –ø–æ–ª—å–∑—É –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ—Å—Ç–∏, —Å–ø–µ—Ä–≤–∞ –æ–±—Å—É–¥–∏–º —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–º –∏ –∏–º–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–º –∫–æ–¥–æ–º. –ü–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ –¥–≤–∞ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞ –Ω–∏–∂–µ:

```js
// 1.

function keepEvenNumbers(array) {
  const result = [];

  for (const x of array) {
    if (x % 2 === 0) {
      result.push(x);
    }
  }

  return result;
}

// 2.

function keepEvenNumbers(array) {
  return array.filter((x) => x % 2 === 0);
}
```

–û–±–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ñ–∏–ª—å—Ç—Ä—É—é—Ç –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–π –º–∞—Å—Å–∏–≤ —á–∏—Å–µ–ª, –æ—Å—Ç–∞–≤–ª—è—è —Ç–æ–ª—å–∫–æ —á—ë—Ç–Ω—ã–µ. –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –Ω–∏–º–∏ –≤ —Ç–æ–º, –∫–∞–∫ –æ–Ω–∏ —ç—Ç–æ –¥–µ–ª–∞—é—Ç. –ü–µ—Ä–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è –æ–ø–∏—Å—ã–≤–∞–µ—Ç, _–∫–∞–∫_ —Ä–µ—à–∏—Ç—å –∑–∞–¥–∞—á—É:

- –°–æ–∑–¥–∞—Ç—å –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ `result`;
- –ü—Ä–æ–∏—Ç–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–π –º–∞—Å—Å–∏–≤ `array`;
- –î–ª—è –∫–∞–∂–¥–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—ë—Ç–Ω—ã–π –ª–∏ –æ–Ω;
- –ï—Å–ª–∏ –¥–∞, –¥–æ–±–∞–≤–∏—Ç—å –µ–≥–æ –≤ `result`.

–í—Ç–æ—Ä–∞—è —Ñ—É–Ω–∫—Ü–∏—è –æ–ø–∏—Å—ã–≤–∞–µ—Ç, _—á—Ç–æ_ –Ω–∞–¥–æ —Å–¥–µ–ª–∞—Ç—å. –û–Ω–∞ –∞–∫—Ü–µ–Ω—Ç–∏—Ä—É–µ—Ç –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ _–∫—Ä–∏—Ç–µ—Ä–∏—è—Ö_ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏, –∞ –Ω–µ –¥–µ—Ç–∞–ª—è—Ö –µ—ë –∞–ª–≥–æ—Ä–∏—Ç–º–∞, –∫–æ—Ç–æ—Ä—ã–µ —Å–∫—Ä—ã—Ç—ã –≤–Ω—É—Ç—Ä–∏ –º–µ—Ç–æ–¥–∞ `filter`.

–í —ç—Ç–æ–º –∏ –µ—Å—Ç—å —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –∏–º–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–º –∏ –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–º —Å—Ç–∏–ª–µ–º –∫–æ–¥–∞. –î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π –∫–æ–¥ –æ–ø–∏—Å—ã–≤–∞–µ—Ç, _—á—Ç–æ_ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å, –∏–º–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–π ‚Äî _–∫–∞–∫_ —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å.

–ö–æ–¥ –≤ –∏–º–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–º —Å—Ç–∏–ª–µ –∑–∞—á–∞—Å—Ç—É—é —á–∏—Ç–∞—Ç—å —Å–ª–æ–∂–Ω–µ–µ, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω —Å–º–µ—à–∏–≤–∞–µ—Ç –Ω–∞–º–µ—Ä–µ–Ω–∏–µ –∏ –¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏. –î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π —Å—Ç–∏–ª—å, –Ω–∞–æ–±–æ—Ä–æ—Ç, –ø–æ–¥—Ç–∞–ª–∫–∏–≤–∞–µ—Ç –∫ –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ –∑–∞–¥–∞—á –∏ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—é –∫–æ–¥–∞ –ø–æ —É—Ä–æ–≤–Ω—è–º –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏. –ù–∞–∑–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ–º –∫–æ–¥–µ –Ω–µ—Å—É—Ç –±–æ–ª—å—à–µ —Å–º—ã—Å–ª–æ–≤–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏, –ø–æ—ç—Ç–æ–º—É –∫–æ–¥ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ø—Ä–æ—â–µ —á–∏—Ç–∞—Ç—å.

–î–ª—è –ø—Ä–∏–º–µ—Ä–∞ –ø–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—é `validate` –≤–æ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–µ –∫–æ–¥–∞ –Ω–∏–∂–µ. –¢–µ–ª–æ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–µ—Å—Ç—Ä–∏—Ç –¥–µ—Ç–∞–ª—è–º–∏, –∞ –µ—ë –Ω–∞–∑–≤–∞–Ω–∏–µ –º–∞–ª–æ –≥–æ–≤–æ—Ä–∏—Ç –æ —Ü–µ–ª–∏ —Ñ—É–Ω–∫—Ü–∏–∏. –¢–∞–∫–æ–π –∫–æ–¥ —Å–ª–æ–∂–Ω–æ –ø–æ–Ω—è—Ç—å —Å—Ö–æ–¥—É:

```js
function validate(user, cart) {
  return (
    !!cart.items.length &&
    user.account >= cart.items.reduce((tally, item) => tally + item.price, 0)
  );
}
```

–ß—Ç–æ–±—ã —Ä–µ—à–∏—Ç—å —ç—Ç—É –ø—Ä–æ–±–ª–µ–º—É, –º—ã –º–æ–∂–µ–º –¥–µ–∫–æ–º–ø–æ–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–¥–∞—á—É –∏ —Ä–∞–∑–¥–µ–ª–∏—Ç—å –µ—ë —á–∞—Å—Ç–∏ –ø–æ —É—Ä–æ–≤–Ω—è–º –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏. –ù–∞–ø—Ä–∏–º–µ—Ä, –¥–µ—Ç–∞–ª–∏ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫ –≤—ã–¥–µ–ª–∏–º –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, –Ω–∞–∑–≤–∞–Ω–∏—è –∫–æ—Ç–æ—Ä—ã—Ö –±—É–¥—É—Ç –æ—Ç—Ä–∞–∂–∞—Ç—å —Å—É—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–π:

```js
// cart.js
function isEmpty(cart) {
  return !cart.products.length;
}

function totalPriceOf(cart) {
  return cart.items.reduce((tally, item) => tally + item.price, 0);
}

// user.js
function canAffordSpending(user, amount) {
  return user.account >= amount;
}
```

–ù–∞–∑–≤–∞–Ω–∏—è –≤—ã–¥–µ–ª–µ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ç–µ—Ä–º–∏–Ω—ã, –±–æ–ª–µ–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è –∏—Ö —Ü–µ–ª–µ–π. –≠—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ–º —á–∏—Ç–∞—Ç–µ–ª—è –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —ç—Ç–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π –≤–Ω—É—Ç—Ä–∏ `validate`:

```js
// order.js

function validate(user, cart) {
  return !isEmpty(cart) && canAffordSpending(user, totalPriceOf(cart));
}
```

| –ü–æ–¥—Ä–æ–±–Ω–µ–µ üí°                                                                                                                           |
| :------------------------------------------------------------------------------------------------------------------------------------- |
| –û–± —É—Ä–æ–≤–Ω—è—Ö –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏, –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –º–µ–∂–¥—É –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –≤–Ω–∏–º–∞–Ω–∏–µ–º —á–∏—Ç–∞—Ç–µ–ª—è –Ω–∏–º–∏ –º—ã –≥–æ–≤–æ—Ä–∏–ª–∏ –±–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω–æ —Ä–∞–Ω–µ–µ –≤ –≥–ª–∞–≤–µ –æ–± –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏. |

–¢–∞–∫–∂–µ –Ω–∞–∑–≤–∞–Ω–∏—è –≤—ã–¥–µ–ª–µ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π —Ç–µ–ø–µ—Ä—å –Ω–µ—Å—É—Ç –≤ —Å–µ–±–µ —á–∞—Å—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–º—ã—Å–ª–µ —Ñ—É–Ω–∫—Ü–∏–∏ `validate`. –ü–æ—ç—Ç–æ–º—É –º—ã –º–æ–∂–µ–º –∑–∞–º–µ–Ω–∏—Ç—å –∏–º—è `validate` –Ω–∞ –±–æ–ª–µ–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–æ–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä, `canMakeOrder`. –¢–æ–≥–¥–∞ –∫–æ–¥ —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—Å—è –≤ ¬´—Ç–µ–∫—Å—Ç¬ª, –ø–æ—Ö–æ–∂–∏–π –Ω–∞ –æ–±—ã—á–Ω–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ:

```js
// order.js

function canMakeOrder(user, cart) {
  const orderPrice = totalPriceOf(cart);
  return !isEmpty(cart) && canAffordSpending(user, orderPrice);
}

// The (user) (canMakeOrder) IF the (cart) (!isEmpty)
// AND they (canAffordSpending) (orderPrice) of money.
```

–î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π –∫–æ–¥ –±–æ–ª—å—à–µ –ø–æ—Ö–æ–∂ –Ω–∞ —Ç–æ, –∫–∞–∫ –ª—é–¥–∏ –æ–±—â–∞—é—Ç—Å—è –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º –≤ –∂–∏–∑–Ω–∏, –ø–æ—ç—Ç–æ–º—É –µ–≥–æ –ø—Ä–æ—â–µ –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞—Ç—å. –û–Ω —Å–æ–æ–±—â–∞–µ—Ç –ø–æ–ª–µ–∑–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, –Ω–æ –Ω–µ –ø–µ—Ä–µ–≥—Ä—É–∂–∞–µ—Ç —á–∏—Ç–∞—Ç–µ–ª—è –ª–∏—à–Ω–∏–º–∏ –¥–µ—Ç–∞–ª—è–º–∏. –¢–∞–∫–æ–µ ¬´–æ–±—â–µ–Ω–∏–µ¬ª –≤–µ–∂–ª–∏–≤–æ–µ –∏ –Ω–µ–Ω–∞—Ä–æ—á–∏—Ç–æ–µ, —á–∏—Ç–∞—Ç–µ–ª–∏ –±—É–¥—É—Ç –º–µ–Ω—å—à–µ –æ—Ç –Ω–µ–≥–æ —É—Å—Ç–∞–≤–∞—Ç—å.

| –û–¥–Ω–∞–∫–æ üê£                                                                                                                                                                                                                                   |
| :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| –í –Ω–µ–±–æ–ª—å—à–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö –¥–æ—Ç–æ—à–Ω–∞—è –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è –º–æ–∂–µ—Ç –æ–∫–∞–∑–∞—Ç—å—Å—è –Ω–µ —Ç–∞–∫–æ–π –≤–∞–∂–Ω–æ–π. –ï—Å–ª–∏ –∫–æ–¥–∞ –º–∞–ª–æ, —á–∏—Ç–∞—Ç–µ–ª–∏ –æ—Ç –Ω–µ–≥–æ —É—Å—Ç–∞—é—Ç –º–µ–Ω—å—à–µ. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ –±—É–¥–µ—Ç –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç—Ç–æ–≥–æ, –Ω–∞—Å–∫–æ–ª—å–∫–æ –∫–æ–º–∞–Ω–¥–µ –ø—Ä–æ—Å—Ç–æ —á–∏—Ç–∞—Ç—å –∏ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∏–º–µ—é—â–∏–º—Å—è –∫–æ–¥–æ–º. |

## –ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å

–°–ª–µ–¥—É—é—â–∏–π —Ä–∞–∑–¥–µ–ª —Å–ø–æ—Ä–Ω—ã–π –∏ —Å—É–±—ä–µ–∫—Ç–∏–≤–Ω—ã–π, –Ω–æ –ø–æ –º–æ–µ–º—É –æ–ø—ã—Ç—É –≤ –∏–º–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–º –∫–æ–¥–µ –ø—Ä–æ—â–µ –¥–æ–ø—É—Å—Ç–∏—Ç—å —Å–ª—É—á–∞–π–Ω—ã–µ –æ—à–∏–±–∫–∏. –û—Ç —á–∞—Å—Ç–∏ –ø–æ—Ç–æ–º—É —á—Ç–æ –≤ –Ω—ë–º –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –¥—É–º–∞—Ç—å –æ ¬´—Ü–µ–ª–∏¬ª –∏ ¬´—Å–ø–æ—Å–æ–±–µ –µ—ë –¥–æ—Å—Ç–∏—á—å¬ª, –∞ –µ—â—ë –ø–æ—Ç–æ–º—É —á—Ç–æ –∏–º–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–π –∫–æ–¥ –∑–∞—á–∞—Å—Ç—É—é –æ–±—ä—ë–º–Ω–µ–µ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏ –≤ –Ω—ë–º –≤–µ—Ä–æ—è—Ç–Ω–µ–µ –¥–æ–ø—É—Å—Ç–∏—Ç—å –æ—à–∏–±–∫—É.[^scene]

–ù–∞–ø—Ä–∏–º–µ—Ä, –ø–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—é –≤—ã–±–æ—Ä–∞ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ `selectOperation`:

```js
function selectOperation(kind) {
  let operation = null;
  switch (kind) {
    case "log":
      operation = (x, base) => Math.log(x) / Math.log(base);
    case "root":
      operation = (x, root) => x ** -root;
    default:
      operation = (x) => x;
  }
  return operation;
}
```

–í –∫–∞–∂–¥–æ–º –±–ª–æ–∫–µ `case` —ç—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–æ–ø—É—â–µ–Ω–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è `break`, –ø–æ—ç—Ç–æ–º—É –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `operation` –≤—Å–µ–≥–¥–∞ –±—É–¥–µ—Ç —Ä–∞–≤–Ω–∞ `(x) => x`. –ü–æ–¥–æ–±–Ω—É—é –æ—à–∏–±–∫—É –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–æ –∑–∞–º–µ—Ç–∏—Ç—å –≤ –Ω–µ–±–æ–ª—å—à–æ–π —Ñ—É–Ω–∫—Ü–∏–∏, –Ω–æ –µ—Å–ª–∏ –∫–æ–¥–∞ –º–Ω–æ–≥–æ, –µ—ë –≥–æ—Ä–∞–∑–¥–æ –ª–µ–≥—á–µ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å.

–ú—ã –º–æ–∂–µ–º —É–ª—É—á—à–∏—Ç—å –∫–æ–¥, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–≤ `return` –≤–Ω—É—Ç—Ä–∏ –±–ª–æ–∫–æ–≤ `case`, —Ç–µ–º —Å–∞–º—ã–º –ø–µ—Ä–µ—Å—Ç–∞–≤ –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π:

```js
function selectOperation(kind) {
  switch (kind) {
    case "log":
      return (x, base) => Math.log(x) / Math.log(base);
    case "pow":
      return (x, power) => x ** power;
    default:
      return (x) => x;
  }
}
```

–ù–æ —ç—Ç–æ –Ω–µ —Ä–µ—à–∏—Ç –ø—Ä–æ–±–ª–µ–º—É —Å–æ —Å–ª—É—á–∞–π–Ω—ã–º–∏ –æ—à–∏–±–∫–∞–º–∏, –∞ —Ç–æ–ª—å–∫–æ –∑–∞–º–∞—Å–∫–∏—Ä—É–µ—Ç –µ—ë. –í–æ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–µ –≤—ã—à–µ –º—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä, –º–æ–∂–µ–º —Å–ª—É—á–∞–π–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å `return`, –∏ —Ñ—É–Ω–∫—Ü–∏—è –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ. –ò–∑–±–∞–≤–∏—Ç—å—Å—è –æ—Ç –ø—Ä–æ–±–ª–µ–º—ã –º–æ–∂–Ω–æ, —Å–¥–µ–ª–∞–≤ –≤—ã–±–æ—Ä –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–º:

```js
const log = (x, base) => Math.log(x) / Math.log(base);
const pow = (x, power) => x ** power;
const id = (x) => x;

function selectOperation(kind) {
  const operations = { root, pow, id };
  return operations[kind] ?? operations.id;
}
```

–í –∫–æ–¥–µ –≤—ã—à–µ –º—ã –ø–æ—Ä—É—á–∞–µ–º ¬´–≤—ã–±–æ—Ä¬ª –æ–ø–µ—Ä–∞—Ü–∏–∏ _–º–µ—Ö–∞–Ω–∏–∑–º–∞–º —è–∑—ã–∫–∞_. –ú—ã —É–∫–∞–∑—ã–≤–∞–µ–º –æ–±—ä–µ–∫—Ç —Å –¥–∞–Ω–Ω—ã–º–∏ –∏ –∫—Ä–∏—Ç–µ—Ä–∏–π –≤—ã–±–æ—Ä–∞, –∞ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä JavaScript —Å–∞–º –Ω–∞—Ö–æ–¥–∏—Ç –Ω—É–∂–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –æ–±—ä–µ–∫—Ç–µ –ø–æ —É–∫–∞–∑–∞–Ω–Ω–æ–º—É –∫–ª—é—á—É. –ù–∞–º –Ω–µ –≤–∞–∂–Ω–æ, –∫–∞–∫ –±—É–¥–µ—Ç —Å–¥–µ–ª–∞–Ω —ç—Ç–æ—Ç –≤—ã–±–æ—Ä, –≤–∞–∂–µ–Ω –ª–∏—à—å –µ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç ‚Äî —ç—Ç–æ –∏ –µ—Å—Ç—å –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ—Å—Ç—å.

| –í–∫—É—Å–æ–≤—â–∏–Ω–∞ üçï                                                                                                                                                                                     |
| :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| –ü–æ—Å–ª–µ–¥–Ω–∏–π —Ñ—Ä–∞–≥–º–µ–Ω—Ç –º–Ω–µ –Ω—Ä–∞–≤–∏—Ç—Å—è –µ—â—ë –∏ –ø–æ —ç—Å—Ç–µ—Ç–∏—á–µ—Å–∫–∏–º –ø—Ä–∏—á–∏–Ω–∞–º. –í—ã–±–æ—Ä –∏–∑ –æ–±—ä–µ–∫—Ç–∞ –ø–æ –∫–ª—é—á—É –≤—ã–≥–ª—è–¥–∏—Ç –±–æ–ª–µ–µ –Ω–∞—Ç—É—Ä–∞–ª—å–Ω—ã–º —Ä–µ—à–µ–Ω–∏–µ–º —ç—Ç–æ–π –∑–∞–¥–∞—á–∏, –≤ —Ç–æ –≤—Ä–µ–º—è –∫–∞–∫ `switch` –∫–∞–∂–µ—Ç—Å—è —à—É–º–Ω—ã–º –∏ –º–Ω–æ–≥–æ—Å–ª–æ–≤–Ω—ã–º. |

## –†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å

–†–∞—Å—à–∏—Ä—è—Ç—å –∏–º–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–π –∫–æ–¥ —á–∞—Å—Ç–æ —Å–ª–æ–∂–Ω–µ–µ.

–í –∏–º–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–º –∫–æ–¥–µ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–π —Ñ–∏—á–∏ –Ω–∞–º –Ω–∞–¥–æ –Ω–µ —Ç–æ–ª—å–∫–æ –ø–æ–Ω—è—Ç—å, _—á—Ç–æ_ –¥–æ–±–∞–≤–∏—Ç—å, –Ω–æ —Ç–∞–∫–∂–µ _–≥–¥–µ_ –∏ _–∫–∞–∫_ —ç—Ç–æ –¥–æ–±–∞–≤–∏—Ç—å. –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ –∂–µ –∫–æ–¥–∞ –∑–∞—á–∞—Å—Ç—É—é –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç—Å—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º ¬´–Ω–∞—Å—Ç—Ä–æ–µ–∫¬ª –∞–ª–≥–æ—Ä–∏—Ç–º–∞.

| –ö —Å–ª–æ–≤—É üñ•                                                                                                                                                      |
| :------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| –ò–¥–µ—é –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ –ø—Ä–∏–º–µ—Ä–∞ —è –ø–æ–¥—Å–º–æ—Ç—Ä–µ–ª –≤ –ª–µ–∫—Ü–∏–∏ –¢–∏–º—É—Ä–∞ –®–µ–º—Å–µ–¥–∏–Ω–æ–≤–∞ –æ –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ–º —Å—Ç–∏–ª–µ –∏ –º–µ—Ç–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏. –†–µ–∫–æ–º–µ–Ω–¥—É—é –∫ –ø—Ä–æ—Å–º–æ—Ç—Ä—É.[^metaprogrammingjs] |

–î–ª—è –ø—Ä–∏–º–µ—Ä–∞ —Å—Ä–∞–≤–Ω–∏–º –¥–≤–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–∏ `parseDuration`, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Å—Ç—Ä–æ–∫—É —Å –ø–µ—Ä–∏–æ–¥–æ–º –≤—Ä–µ–º–µ–Ω–∏ –≤ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥ –≤ –Ω—ë–º. –í –ø–µ—Ä–≤–æ–π –≤–µ—Ä—Å–∏–∏ –∞–ª–≥–æ—Ä–∏—Ç–º —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∏–º–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ:

```js
/** @example parseDuration('1h 25m 16s') === 5_116_000 */
function parseDuration(stringRepresentation) {
  const s = stringRepresentation;
  if (typeof s !== "string") return 0;

  const seconds = s.match(/(\d+)s/);
  const minutes = s.match(/(\d+)m/);
  const hours = s.match(/(\d+)h/);

  let duration = 0;
  if (seconds) duration += +seconds[1] * 1000;
  if (minutes) duration += +minutes[1] * 1000 * 60;
  if (hours) duration += +hours[1] * 1000 * 60 * 60;
  return duration;
}
```

...–í–æ –≤—Ç–æ—Ä–æ–π –≤–µ—Ä—Å–∏–∏ ‚Äî –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ:

```js
// –í—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ–º
// —Ñ–æ—Ä–º–∞—Ç–µ —Å—Ç—Ä–æ–∫–∏ –≤—ã–Ω–µ—Å–µ–Ω–∞ –≤ –æ–±—ä–µ–∫—Ç:
const MULTIPLIER = {
  s: 1000,
  m: 1000 * 60,
  h: 1000 * 60 * 60,
};

// –®–∞–≥–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –æ—Ç–¥–µ–ª—å–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏:
const sumDurations = (sum, [value, unit]) => sum + value * MULTIPLIER[unit];
const hasValidValue = ([value]) => !Number.isNaN(value);

const parseComponent = (component) => {
  const value = +component.slice(0, -1);
  const unit = component.slice(-1);
  return [value, unit];
};

/** @example parseDuration('1h 25m 16s') === 5_116_000 */
function parseDuration(stringRepresentation) {
  if (typeof stringRepresentation !== "string") return 0;

  const components = stringRepresentation.split(" ");
  return components
    .map(parseComponent)
    .filter(hasValidValue)
    .reduce(sumDurations, 0);
}
```

–í—Ç–æ—Ä–æ–π –≤–∞—Ä–∏–∞–Ω—Ç –ø—Ä–æ—â–µ —Ä–∞—Å—à–∏—Ä–∏—Ç—å, –ø–æ—Ç–æ–º—É —á—Ç–æ –≤ –Ω—ë–º _—Ä–∞–∑–¥–µ–ª—ë–Ω —Ä–µ–¥–∫–æ –∏ —á–∞—Å—Ç–æ –º–µ–Ω—è—é—â–∏–π—Å—è –∫–æ–¥_. –ï—Å–ª–∏ –º—ã –∑–∞—Ö–æ—Ç–∏–º —Ä–∞—Å—à–∏—Ä–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç —Å—Ç—Ä–æ–∫–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–æ–±–∞–≤–∏–≤ –¥–Ω–∏ –∏ –Ω–µ–¥–µ–ª–∏, –Ω–∞–º –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –æ–±–Ω–æ–≤–∏—Ç—å _—Ç–æ–ª—å–∫–æ_ –æ–±—ä–µ–∫—Ç `MULTIPLIER`. –û—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥ —Ñ—É–Ω–∫—Ü–∏–∏ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –Ω–µ–∏–∑–º–µ–Ω–Ω—ã–º.

–¢–∞–∫ –º—ã –±—É–¥—Ç–æ –≤—ã–Ω–µ—Å–ª–∏ –≤ –æ–±—ä–µ–∫—Ç `MULTIPLIER` ¬´–Ω–∞—Å—Ç—Ä–æ–π–∫–∏¬ª –∞–ª–≥–æ—Ä–∏—Ç–º–∞, –æ—Ç–¥–µ–ª–∏–≤ –∏—Ö –æ—Ç ¬´–ª–æ–≥–∏–∫–∏¬ª –∑–∞–¥–∞—á–∏. –¢–µ–ø–µ—Ä—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç —Å—Ç—Ä–æ–∫–∏ –±–æ–ª–µ–µ —è–≤–Ω—ã–π, –∞ —Å–∞–º –∞–ª–≥–æ—Ä–∏—Ç–º –≥–∏–±—á–µ, –ø–æ—Ç–æ–º—É —á—Ç–æ –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –ª—é–±—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –∏–∑ —ç—Ç–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞. ¬´–ù–∞—Å—Ç—Ä–æ–π–∫–∏¬ª –±–æ–ª—å—à–µ –Ω–µ ¬´–≤—à–∏—Ç—ã¬ª –≤ –∫–æ–¥ –∞–ª–≥–æ—Ä–∏—Ç–º–∞.

| –ö —Å–ª–æ–≤—É ‚õîÔ∏è                                                                                                                                          |
| :--------------------------------------------------------------------------------------------------------------------------------------------------- |
| –¢–∞–∫–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ ‚Äî –∫–æ–≥–¥–∞ –¥–æ–±–∞–≤–∏—Ç—å –æ–¥–Ω–æ—Ç–∏–ø–Ω—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –º–æ–∂–Ω–æ –Ω–µ –º–µ–Ω—è—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ ‚Äî —Ü–µ–ª—å –ø—Ä–∏–Ω—Ü–∏–ø–∞ –æ—Ç–∫—Ä—ã—Ç–æ—Å—Ç–∏-–∑–∞–∫—Ä—ã—Ç–æ—Å—Ç–∏ –∏–∑ SOLID.[^solid] |

–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∞ —Å—Ç—Ä–æ–∫–∏ —Ç–µ–ø–µ—Ä—å –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—Å—è –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –Ω–æ–≤—ã—Ö –ø–æ–ª–µ–π –¥–ª—è –æ–±—ä–µ–∫—Ç–∞ `MULTIPLIER`. –ö–æ–¥ —Å–∞–º–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –º–µ–Ω—è—Ç—å—Å—è –Ω–µ –±—É–¥–µ—Ç:

```js
const MULTIPLIER = {
  s: 1000,
  m: 1000 * 60,
  h: 1000 * 60 * 60,

  // –î–æ–±–∞–≤–∏–ª–∏ –¥–Ω–∏ –∏ –Ω–µ–¥–µ–ª–∏:
  d: 1000 * 60 * 60 * 24,
  w: 1000 * 60 * 60 * 24 * 7,
};

// –¢–∞–∫ –∫–∞–∫ –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥ —Ñ—É–Ω–∫—Ü–∏–∏ –æ—Å—Ç–∞–ª—Å—è –ø—Ä–µ–∂–Ω–∏–º,
// –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –¥–æ–ø—É—Å—Ç–∏—Ç—å —Å–ª—É—á–∞–π–Ω—É—é –æ—à–∏–±–∫—É –∏–ª–∏ –æ–ø–µ—á–∞—Ç–∞—Ç—å—Å—è –Ω–∏–∂–µ.
// –ö—Ä–æ–º–µ —ç—Ç–æ–≥–æ –ø–æ –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–º –≤ `MULTIPLIER` ¬´–Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º¬ª
// –ø—Ä–æ—â–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ç–µ—Å—Ç–æ–≤.
```

–í –ø–µ—Ä–≤–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–∞–º –±—ã –ø–æ—Ç—Ä–µ–±–æ–≤–∞–ª–æ—Å—å –º–µ–Ω—è—Ç—å –∫–æ–¥ –≤—Å–µ–π —Ñ—É–Ω–∫—Ü–∏–∏ `parseDuration`:

```js
function parseDuration(stringRepresentation) {
  const s = stringRepresentation;
  if (typeof s !== "string") return 0;

  const seconds = s.match(/(\d+)s/);
  const minutes = s.match(/(\d+)m/);
  const hours = s.match(/(\d+)h/);
  const days = s.match(/(\d+)d/);
  const weeks = s.match(/(\w+)d/);

  let duration = 0;
  if (seconds) duration += +seconds[1] * 1000;
  if (minutes) duration += +minutes[1] * 1000 * 60;
  if (hours) duration += +hours[1] * 1000 * 60 * 60;
  if (days) duration += +days[1] * 1000 * 60 * 60 * 24;
  if (weeks) duration += +weeks[1] * 1000 * 60 * 60 * 24 * 7;
  return duration;
}

// –ö —Å–ª–æ–≤—É –æ —Ç–æ–º, –Ω–∞—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ—Å—Ç–æ –≤ –∏–º–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–º –∫–æ–¥–µ –¥–æ–ø—É—Å—Ç–∏—Ç—å —Å–ª—É—á–∞–π–Ω—É—é –æ—à–∏–±–∫—É:
// –ø–µ—á–µ–Ω—å–∫—É —Ç–µ–º, –∫—Ç–æ –∑–∞–º–µ—Ç–∏–ª –≤ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–º –≤—ã—Ä–∞–∂–µ–Ω–∏–∏ –¥–ª—è `weeks` –æ–ø–µ—á–∞—Ç–∫—É :‚Äì)
```

| –û–¥–Ω–∞–∫–æ üëÄ                                                                                                                                                                      |
| :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| –ü–æ–¥–æ–±–Ω–æ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ ¬´–Ω–∞—Å—Ç—Ä–æ–µ–∫¬ª —Ö–æ—Ä–æ—à–æ –ø–æ–º–æ–≥–∞–µ—Ç –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –∫–æ–¥–∞ _–æ–¥–Ω–æ—Ç–∏–ø–Ω–æ–π_ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é. –ï—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤ —Å–∞–º –∞–ª–≥–æ—Ä–∏—Ç–º, —ç—Ç–æ –º–æ–∂–µ—Ç –Ω–µ –ø–æ–º–æ—á—å. |

–°—Ç–æ–∏—Ç –ø–æ–º–Ω–∏—Ç—å, —á—Ç–æ —Ç–∞–∫–æ–µ ¬´–º–µ—Ç–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ¬ª –Ω—É–∂–Ω–æ –Ω–µ –≤—Å–µ–≥–¥–∞, –ø–æ—Ç–æ–º—É _–æ–±–æ–±—â—ë–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –º–æ–≥—É—Ç –±—ã—Ç—å —Å–ª–æ–∂–Ω–µ–µ_.

–ö–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ–µ –æ–±–æ–±—â–µ–Ω–∏–µ –ø–æ–ª–µ–∑–Ω–æ, –∫–æ–≥–¥–∞ –º—ã –∑–∞–º–µ—á–∞–µ–º —á–∞—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä–∞—è ¬´–º–µ–Ω—è–µ—Ç—Å—è —Å–ª–∏—à–∫–æ–º —á–∞—Å—Ç–æ¬ª –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –æ—Å—Ç–∞–ª—å–Ω—ã–º –∫–æ–¥–æ–º. –¢–∞–∫—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ–π, —ç—Ç–æ —É–º–µ–Ω—å—à–∏—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å —Å–ª—É—á–∞–π–Ω—ã—Ö –æ—à–∏–±–æ–∫ –ø—Ä–∏ –µ—ë –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏.

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º–æ—Å—Ç—å

–í –ø—Ä–µ–¥—ã–¥—É—â–µ–º –ø—Ä–∏–º–µ—Ä–µ –º—ã –≤—ã–Ω–µ—Å–ª–∏ ¬´–Ω–∞—Å—Ç—Ä–æ–π–∫–∏¬ª –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç. –ú—ã –º–æ—Ç–∏–≤–∏—Ä–æ–≤–∞–ª–∏ —ç—Ç–æ —Ç–µ–º, —á—Ç–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –∫–æ–¥ –º–µ–Ω—è—é—Ç—Å—è —Å —Ä–∞–∑–Ω–æ–π —Å–∫–æ—Ä–æ—Å—Ç—å—é, –ø–æ—ç—Ç–æ–º—É –∏—Ö –ª—É—á—à–µ –¥–µ—Ä–∂–∞—Ç—å —Ä–∞–∑–¥–µ–ª—ë–Ω–Ω—ã–º–∏.

–ù–∞ —Å–∞–º–æ–º –¥–µ–ª–µ —ç—Ç–æ –æ–¥–Ω–æ –∏–∑ –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –ø—Ä–∞–≤–∏–ª, –∫–æ—Ç–æ—Ä—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥—É—é—Ç –ø—Ä–∏–¥–µ—Ä–∂–∏–≤–∞—Ç—å—Å—è 12-Factor Apps.[^twelvefactors] –≠—Ç–æ –ø—Ä–∞–≤–∏–ª–æ –º–æ–∂–Ω–æ –æ–ø–∏—Å–∞—Ç—å –∫–∞–∫:

---

**‚ùóÔ∏è –í—Å–µ–≥–¥–∞ –¥–µ—Ä–∂–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥–∏ –æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç –∫–æ–¥–∞**

---

–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ–±—ã—á–Ω–æ –º–µ–Ω—è—é—Ç—Å—è —á–∞—â–µ –∫–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–π –æ–Ω–∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç. –ï—Å–ª–∏ –∫–æ–Ω—Ñ–∏–≥–∏ ¬´–≤—à–∏—Ç—ã¬ª –≤ –∫–æ–¥, –∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–µ –±—É–¥–µ—Ç –æ–ø–∞—Å–Ω–µ–µ –∏ —Å–ª–æ–∂–Ω–µ–µ, —á–µ–º –∫–æ–≥–¥–∞ –æ–Ω–∏ –æ—Ç–¥–µ–ª–µ–Ω—ã.

–ö—Ä–æ–º–µ —ç—Ç–æ–≥–æ –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∑–∞—Ç—Ä—É–¥–Ω—è–µ—Ç —Å–º–µ–Ω—É –æ–∫—Ä—É–∂–µ–Ω–∏—è, –≤ –∫–æ—Ç–æ—Ä–æ–º –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–æ–≥—Ä–∞–º–º–∞. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –Ω–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –≤ —Ç–µ—Å—Ç–æ–≤–æ–º –∏ –ø—Ä–æ–¥–∞–∫—à–µ–Ω –æ–∫—Ä—É–∂–µ–Ω–∏–∏, –∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–µ–ø–ª–æ—è –∏–ª–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–º —Å–µ—Ä–≤–∏—Å–∞–º —Ç–∏–ø–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ API –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω—ã, —Ç–æ –¥–ª—è —Å–º–µ–Ω—ã –æ–∫—Ä—É–∂–µ–Ω–∏—è –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –º–µ–Ω—è—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è —ç—Ç–∏—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Ä—É–∫–∞–º–∏.

| –ö —Å–ª–æ–≤—É üî¶                                                                                                                                                           |
| :------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| –ò–º–µ–Ω–Ω–æ —ç—Ç–æ—Ç –ø—Ä–∏–∑–Ω–∞–∫ –ø–æ–º–æ–≥–∞–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥–∏ —Å—Ä–µ–¥–∏ –æ—Å—Ç–∞–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞: –µ—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–ª–∏ —Å—Ä–µ–¥—ã –∑–∞–ø—É—Å–∫–∞ ‚Äî —ç—Ç–æ —Ç–æ—á–Ω–æ —á–∞—Å—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏. |

–ü–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ –∞–Ω—Ç–∏–ø—Ä–∏–º–µ—Ä. –î–æ–ø—É—Å—Ç–∏–º, –±–∞–∑–æ–≤—ã–π URL API –≤ –∫–æ–¥–µ –Ω–∏–∂–µ –¥–æ–ª–∂–µ–Ω –º–µ–Ω—è—Ç—å—Å—è –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏–π. –í —Ñ—É–Ω–∫—Ü–∏–∏ `fetchUser` –±–∞–∑–æ–≤—ã–π URL ¬´–∑–∞—à–∏—Ç¬ª –ø—Ä—è–º–æ –≤ —Ç–µ–ª–µ —Ñ—É–Ω–∫—Ü–∏–∏:

```js
async function fetchUser(id) {
  const response = await fetch(`https://api.our-app.com/v1/users/${id}`);
  const data = await response.json();
  return data.user;
}

// –õ—é–±–æ–π –≤—ã–∑–æ–≤ `fetchUser` –æ–±—Ä–∞—Ç–∏—Ç—Å—è –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –≤–µ—Ä—Å–∏–∏ API ‚Äî api.our-app.com.
// –ß—Ç–æ–±—ã –ø–æ–º–µ–Ω—è—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ, –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –∫–æ–¥ —Ñ—É–Ω–∫—Ü–∏–∏.
```

–í—ã–¥–µ–ª—è—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —É–¥–æ–±–Ω–µ–µ –≤—Å–µ–≥–æ, —Å–ª–µ–¥—É—è _–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–π (Transformation Priority Premise, TPP)_.[^tpp] –°–ø–µ—Ä–≤–∞ —Å—Ç–æ–∏—Ç –≤—ã–¥–µ–ª–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥–æ–≤ –≤ –ª–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –∞ –ø–æ—Ç–æ–º ‚Äî –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–ª–∏ —Ñ–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.

```js
// –®–∞–≥ 1: –≤—ã–Ω–µ—Å—Ç–∏ –∫–æ–Ω—Ñ–∏–≥–∏ –≤ –ª–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ.
const baseUrl = "https://api.our-app.com";
const apiVersion = "v1";

async function fetchUser(id) {
  const response = await fetch(`${baseUrl}/${apiVersion}/users/${id}`);
  const data = await response.json();
  return data.user;
}

// –®–∞–≥ 2: —É—Ç–∞—â–∏—Ç—å –∏—Ö –≤ –Ω–∞—Å—Ç–æ—è—â–∏–π –∫–æ–Ω—Ñ–∏–≥.
// –≠—Ç–æ –º–æ–≥—É—Ç –±—ã—Ç—å –∫–∞–∫ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è, —Ç–∞–∫ –∏ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏.
// –ì–ª–∞–≤–Ω–æ–µ, —á—Ç–æ–±—ã –º–µ–∂–¥—É –∫–æ–¥–æ–º –∏ –∫–æ–Ω—Ñ–∏–≥–∞–º–∏ –±—ã–ª–æ _—á—ë—Ç–∫–æ–µ_ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ.
import { networkConfig } from "@config";

async function fetchUser(id) {
  const response = await fetch(`${networkConfig.apiRoot}/users/${id}`);
  const data = await response.json();
  return data.user;
}
```

## –ê–≤—Ç–æ–º–∞—Ç–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ

–ö–∞–∫ –º—ã —É–ø–æ–º–∏–Ω–∞–ª–∏ –≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≥–ª–∞–≤–µ, –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ UI-–ª–æ–≥–∏–∫—É –ª—É—á—à–µ –¥–µ—Ä–∂–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ. –ö–æ–¥ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –¥–æ–ª–∂–µ–Ω –æ—Ç–≤–µ—á–∞—Ç—å –∑–∞ –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å—ã –∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –Ω–∏–º–∏. –ö–æ–¥ UI-–ª–æ–≥–∏–∫–∏ ‚Äî –∑–∞ —Ä–µ–Ω–¥–µ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.

–ò–Ω–æ–≥–¥–∞ UI-–ª–æ–≥–∏–∫–∞ –±—ã–≤–∞–µ—Ç —Å–ª–æ–∂–Ω–æ–π. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –æ–Ω–∞ –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤–∑–∞–∏–º–æ–∑–∞–≤–∏—Å–∏–º—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏–ª–∏ —Ä–µ–Ω–¥–µ—Ä –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –∫—É—Å–∫–æ–≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞, –∑–∞–≤–∏—Å—è—â–∏—Ö –æ—Ç –±–æ–ª—å—à–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —É—Å–ª–æ–≤–∏–π.

–ß—Ç–æ–±—ã –∫–æ–¥ —Å–ª–æ–∂–Ω–æ–π UI-–ª–æ–≥–∏–∫–∏ –æ—Å—Ç–∞–≤–∞–ª—Å—è —á–∏—Ç–∞–±–µ–ª—å–Ω—ã–º, –º—ã –º–æ–∂–µ–º –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç—å UI –≤ –≤–∏–¥–µ –∫–æ–Ω–µ—á–Ω–æ–≥–æ –Ω–∞–±–æ—Ä–∞ –µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏–π. –ö–∞–∂–¥–æ–µ —Ç–∞–∫–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –æ–ø–∏—Å—ã–≤–∞–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –∫–æ—Ç–æ—Ä—ã–π –≤–∏–¥–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –∏ —É—Å–ª–æ–≤–∏—è, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –º—ã —Ä–µ–Ω–¥–µ—Ä–∏–º –µ–≥–æ –Ω–∞ —ç–∫—Ä–∞–Ω–µ.

–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å UI —Ç–æ–≥–¥–∞ –º–æ–∂–Ω–æ –æ–ø–∏—Å–∞—Ç—å, –∫–∞–∫ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ç–∞–∫–∏—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π. –ï—Å–ª–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ—Å—Ç–æ—è–Ω–∏–π –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–æ, —Ç–æ —Ç–∞–∫—É—é –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –º—ã –º–æ–∂–µ–º –Ω–∞–∑–≤–∞—Ç—å _–∫–æ–Ω–µ—á–Ω—ã–º –∞–≤—Ç–æ–º–∞—Ç–æ–º (Finite State Machine)_,[^fsm] –∞ —Å–ø–æ—Å–æ–± –µ—ë –∑–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞—Ç—å ‚Äî –∞–≤—Ç–æ–º–∞—Ç–Ω—ã–º –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ–º.

| –ö —Å–ª–æ–≤—É ü§ñ                                                                                                                                                                                                                                                            |
| :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| –ö–æ–Ω–µ—á–Ω—ã–π –∞–≤—Ç–æ–º–∞—Ç ‚Äî —ç—Ç–æ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è, –Ω–æ –æ–Ω–∞ —Ö–æ—Ä–æ—à–æ –ª–æ–∂–∏—Ç—Å—è –Ω–∞ –æ–ø–∏—Å–∞–Ω–∏–µ UI –∫–∞–∫ —Ñ—É–Ω–∫—Ü–∏–∏ –æ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö.[^fsmfrontend] –û–Ω–∞ –ø–æ–±—É–∂–¥–∞–µ—Ç —Ä–∞–∑–¥–µ–ª—è—Ç—å –¥–∞–Ω–Ω—ã–µ (—Å–æ—Å—Ç–æ—è–Ω–∏–µ) –∏ —ç—Ñ—Ñ–µ–∫—Ç—ã (—Ä–µ–Ω–¥–µ—Ä UI) –∏ –ø–æ–º–æ–≥–∞–µ—Ç –¥–µ–ª–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º –±–æ–ª–µ–µ –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–π. |

–û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è –∫–æ–Ω–µ—á–Ω–æ–≥–æ –∞–≤—Ç–æ–º–∞—Ç–∞ –≤ _–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ—Å—Ç–∏ –Ω–∞–±–æ—Ä–∞_ —Å–æ—Å—Ç–æ—è–Ω–∏–π –∏ –≤ _–æ–¥–Ω–æ–∑–Ω–∞—á–Ω—ã—Ö –ø—Ä–∞–≤–∏–ª–∞—Ö –ø–µ—Ä–µ—Ö–æ–¥–æ–≤_ –º–µ–∂–¥—É –Ω–∏–º–∏. –ù–∞–ø—Ä–∏–º–µ—Ä, UI –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞ –≤–æ –≤—Ä–µ–º—è –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞ –º–æ–∂–Ω–æ –≤—ã—Ä–∞–∑–∏—Ç—å –≤ –≤–∏–¥–µ —Ç–∞–∫–æ–≥–æ –Ω–∞–±–æ—Ä–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π –∏ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ—Ö–æ–¥–æ–≤:

**¬´–Æ–∑–∫–µ–π—Å –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞¬ª:**

| –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ | –í–æ–∑–º–æ–∂–Ω—ã–µ —Å–ª–µ–¥—É—é—â–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è |
| :---------------- | :---------------------------- |
| `OrderPage`       | `MainPage`, `Confirming`      |
| `Confirming`      | `Success`, `Failure`          |
| `Success`         | `MainPage`                    |
| `Failure`         | `MainPage`, `OrderPage`       |

–ú—ã –º–æ–∂–µ–º –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å —Ç–∞–∫–æ–π –∞–≤—Ç–æ–º–∞—Ç –≤ –≤–∏–¥–µ –¥–∏–∞–≥—Ä–∞–º–º—ã –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –º–µ–∂–¥—É —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏:

<figure>
  <img src="../images/16-fsm.png" width="600">
  <figcaption><em>–î–∏–∞–≥—Ä–∞–º–º–∞ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –º–µ–∂–¥—É —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–µ</em><br><br></figcaption>
</figure>

–ù–æ —Ç–∞–∫–∂–µ –º—ã –º–æ–∂–µ–º –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å —ç—Ç–æ—Ç –∞–≤—Ç–æ–º–∞—Ç –≤ –∫–æ–¥–µ –∫–∞–∫ –∫–æ–ª–ª–µ–∫—Ü–∏—é —Å–æ—Å—Ç–æ—è–Ω–∏–π –∏ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤:

```js
const fsm = createMachine({
  states: {
    main: {}, // –ü–µ—Ä–µ—Ö–æ–¥—ã –∏–∑ `MainPage`...
    order: {}, // –ò–∑ `OrderPage`...
    confirming: {}, // –ò–∑ `Confirming`...
    success: {}, // –ò–∑ `Success`...
    failure: {}, // –ò–∑ `Failure`...
  },
});
```

–°–∞–º–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –º–æ–∂–µ–º –æ–ø–∏—Å–∞—Ç—å –≤ –≤–∏–¥–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:

```js
// –û—Ç—Ä–∞–∂–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ `OrderPage`:
const ConfirmOrder = () => (
  <form onSubmit={fsm.to("confirming")}>{/*...*/}</form>
);

// –û—Ç—Ä–∞–∂–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ `Success`:
const OrderConfirmed = () => (
  <>
    Order Confirmed.
    <a href={fst.to("main")}>Back to main page</a>
  </>
);

// –û—Ç—Ä–∞–∂–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ `Failure`:
const OrderError = () => (
  <>
    Couldn't confirm the order.
    <a href={fst.to("main")}>Back to main page</a>
    <a href={fst.to("order")}>Try again</a>
  </>
);

// –û—Ç—Ä–∞–∂–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ `Confirming`:
const Confirming = () => "Loading...";
```

–¢–æ–≥–¥–∞ –≤—Ö–æ–¥–Ω–∞—è —Ç–æ—á–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ—Ç –∞–≤—Ç–æ–º–∞—Ç, —á—Ç–æ–±—ã —Ä–µ—à–∞—Ç—å, —á—Ç–æ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å –Ω–∞ —ç–∫—Ä–∞–Ω–µ:

```js
// –í—ã–±–∏—Ä–∞–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–æ —Ç–µ–∫—É—â–µ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞:
function Checkout() {
  const [state] = useMachine(fsm);

  state.match
    .with("confirming", Confirming)
    .with("success", OrderConfirmed)
    .with("failure", OrderError)
    .orElse(ConfirmOrder);
}
```

–ü–æ–ª—å–∑–∞ –∫–æ–Ω–µ—á–Ω—ã—Ö –∞–≤—Ç–æ–º–∞—Ç–æ–≤ –≤ —Ç–æ–º, —á—Ç–æ –∏–∑ –æ–¥–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –º–æ–∂–Ω–æ –ø–µ—Ä–µ–π—Ç–∏ _—Ç–æ–ª—å–∫–æ –≤ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π –Ω–∞–±–æ—Ä_ —Å–ª–µ–¥—É—é—â–∏—Ö. –í —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤–Ω–µ —ç—Ç–æ–≥–æ —Å–ø–∏—Å–∫–∞ –ø–æ–ø–∞—Å—Ç—å –Ω–µ–ª—å–∑—è. –≠—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç —Å–¥–µ–ª–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å UI –±–æ–ª–µ–µ –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ–π –∏ –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–π.

–ö—Ä–æ–º–µ —ç—Ç–æ–≥–æ, –∏—Å–ø–æ–ª—å–∑—É—è –∫–æ–Ω–µ—á–Ω—ã–π –∞–≤—Ç–æ–º–∞—Ç, –ø—Ä–æ—â–µ –æ—Ç–¥–µ–ª—è—Ç—å UI-–¥–∞–Ω–Ω—ã–µ –æ—Ç –¥–∞–Ω–Ω—ã—Ö –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏. –ö–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, —É —Å–æ—Å—Ç–æ—è–Ω–∏–π –∞–≤—Ç–æ–º–∞—Ç–∞ –µ—Å—Ç—å –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–æ—Ç–Ω–æ—Å—è—Ç –∏—Ö —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –Ω–∞ —ç–∫—Ä–∞–Ω–µ. –ü–æ —ç—Ç–∏–º –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞–º –º—ã –≤—Å–µ–≥–¥–∞ –º–æ–∂–µ–º –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –æ—Ç–Ω–æ—Å—è—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫ UI, –∏ –Ω–µ —Å–º–µ—à–∏–≤–∞—Ç—å –∏—Ö —Å –¥–∞–Ω–Ω—ã–º–∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏.

| –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã ü§ñ                                                                                                                                                                                                                                                                                                           |
| :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| –°–∞–º –∞–≤—Ç–æ–º–∞—Ç –∏ –ª–æ–≥–∏–∫–∞ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –º–µ–∂–¥—É —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–ø–∏—Å–∞–Ω–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫. –í –ø—Ä–∏–º–µ—Ä–µ –≤—ã—à–µ —è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –≤—ã–º—ã—à–ª–µ–Ω–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, —á—Ç–æ–±—ã –Ω–µ –ø—Ä–µ—Ç–µ–Ω–¥–æ–≤–∞—Ç—å –Ω–∞ ¬´–∫–∞–Ω–æ–Ω–∏—á–Ω–æ—Å—Ç—å —Ä–µ—à–µ–Ω–∏—è¬ª. –ù–æ –∫–∞–∫ —Ö–æ—Ä–æ—à–∏–π –ø—Ä–∏–º–µ—Ä –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–æ–Ω–µ—á–Ω—ã–º–∏ –∞–≤—Ç–æ–º–∞—Ç–∞–º–∏ –≤ UI –º–æ–≥—É –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å xstate.[^xstate] |

## –ù–∞–ª–æ–≥ –Ω–∞ –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ—Å—Ç—å

–ö–∞–∫ –º—ã —É–ø–æ–º–∏–Ω–∞–ª–∏ –≤—ã—à–µ, —É –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ —Å—Ç–∏–ª—è –∫–æ–¥–∞ –µ—Å—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–∏.

### –°–ª–æ–∂–Ω–æ—Å—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫–∏

–û–±–æ–±—â–µ–Ω–∏—è –º–æ–≥—É—Ç —Å–¥–µ–ª–∞—Ç—å –∫–æ–¥ —Å–ª–æ–∂–Ω–µ–µ. –ó–∞ –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–º ¬´—Ñ–∞—Å–∞–¥–æ–º¬ª –º–æ–∂–µ—Ç —Å–∫—Ä—ã–≤–∞—Ç—å—Å—è —á—Ä–µ–∑–º–µ—Ä–Ω–æ —Å–ª–æ–∂–Ω–∞—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä—É—é —Ç—è–∂–µ–ª–æ –ø–æ–Ω–∏–º–∞—Ç—å –¥—Ä—É–≥–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º.

–ü–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –Ω–∞–º –≤—Å–µ–≥–¥–∞ —Å–ª–µ–¥—É–µ—Ç –ø—Ä–æ–≤–µ—Ä—è—Ç—å, –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞ –ø–æ—à–ª–∏ –Ω–∞ –ø–æ–ª—å–∑—É. –ï—Å–ª–∏ –∫–æ–¥ —Å—Ç–∞–ª–æ —Ç—è–∂–µ–ª–µ–µ —á–∏—Ç–∞—Ç—å –∏–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å, –∏–∑–º–µ–Ω–µ–Ω–∏—è –ª—É—á—à–µ –æ—Ç–∫–∞—Ç–∏—Ç—å.

–ö–æ–≥–¥–∞ —É –Ω–∞—Å –µ—Å—Ç—å —Å–æ–º–Ω–µ–Ω–∏—è –≤ –ª—ë–≥–∫–æ—Å—Ç–∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏, –º—ã –º–æ–∂–µ–º –∑–∞–ø—Ä–æ—Å–∏—Ç—å —Ä–µ–≤—å—é –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Ç –±–æÃÅ–ª—å—à–µ–≥–æ —á–µ–º –æ–±—ã—á–Ω–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤. –¢–∞–∫ –º—ã —É–∑–Ω–∞–µ–º, –ø–æ–Ω—è—Ç–µ–Ω –ª–∏ –∫–æ–¥ –∫–æ–º–∞–Ω–¥–µ –∏ –ª–µ–≥–∫–æ –ª–∏ –µ–≥–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –±–µ–∑ –ø–æ–º–æ—â–∏ –∞–≤—Ç–æ—Ä–æ–≤ –∏–∑–º–µ–Ω–µ–Ω–∏–π.

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

–ò–º–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–π –∫–æ–¥, –∫–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–µ–µ. –í —Ç–µ—Ö –º–µ—Å—Ç–∞—Ö, –≥–¥–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤–∞–∂–Ω–µ–µ —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏, –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ—Å—Ç—å—é –º–æ–∂–Ω–æ –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞—Ç—å.

–ü—Ä–∏ —ç—Ç–æ–º –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω–æ –∏–∑–æ–ª–∏—Ä–æ–≤–∞—Ç—å ¬´–æ—Å—Ç—Ä–æ–≤–∫–∏ –∏–º–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ—Å—Ç–∏¬ª –æ—Ç –æ—Å—Ç–∞–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞–º –Ω—É–∂–µ–Ω –∫–∞–∫–æ–π-—Ç–æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º, –µ–≥–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –º–æ–∂–Ω–æ –æ–ø–∏—Å–∞—Ç—å –∏–º–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏:

```js
function mergeTrees(treeA, treeB) {
  // ...–ë—ã—Å—Ç—Ä–∞—è –∏–º–ø–µ—Ä–∞—Ç–∏–≤–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è.
}
```

...–ê –æ—Å—Ç–∞–ª—å–Ω—É—é —á–∞—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –æ–ø–∏—Å–∞—Ç—å –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ:

```js
function mergeCompanyDepartments(departmentIdA, departmentIdB) {
  return mergeTrees(
    extractDepartment(departmentIdA),
    extractDepartment(departmentIdB)
  );
}
```

–¢–∞–∫ –º—ã ¬´—Å–ø—É—Å—Ç–∏–º¬ª –∏–º–ø–µ—Ä–∞—Ç–∏–≤–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é ¬´–Ω–∞ —É—Ä–æ–≤–µ–Ω—å –Ω–∏–∂–µ¬ª, –∏–∑–æ–ª–∏—Ä—É–µ–º –µ—ë –æ—Ç –æ—Å—Ç–∞–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞, –∞ –∏–º—è —Ñ—É–Ω–∫—Ü–∏–∏ —Å–¥–µ–ª–∞–µ–º –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º –≤—Å–µ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ —Ü–µ–ª–∏–∫–æ–º.

[^scene]: ‚ÄúYour Code As a Crime Scene‚Äù by Adam Tornhill, https://www.goodreads.com/book/show/23627482-your-code-as-a-crime-scene
[^metaprogrammingjs]: ¬´–ú–µ—Ç–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º—É–ª—å—Ç–∏–ø–∞—Ä–∞–¥–∏–≥–º–µ–Ω–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ¬ª –¢–∏–º—É—Ä –®–µ–º—Å–µ–¥–∏–Ω–æ–≤, https://youtu.be/Bo9y4IxdNRY
[^twelvefactors]: 12 Factor Apps, https://12factor.net
[^tpp]: Transformation Priority Premise, Wikipedia https://en.wikipedia.org/wiki/Transformation_Priority_Premise
[^fsm]: –ö–æ–Ω–µ—á–Ω—ã–π –ê–≤—Ç–æ–º–∞—Ç, –í–∏–∫–∏–ø–µ–¥–∏—è, https://ru.wikipedia.org/wiki/–ö–æ–Ω–µ—á–Ω—ã–π_–∞–≤—Ç–æ–º–∞—Ç
[^fsmfrontend]: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –ø–æ–º–æ—â—å—é –∫–æ–Ω–µ—á–Ω–æ–≥–æ –∞–≤—Ç–æ–º–∞—Ç–∞, https://bespoyasov.ru/blog/fsm-to-the-rescue/
[^xstate]: JavaScript and TypeScript finite state machines and statecharts, XState, https://github.com/statelyai/xstate
[^antifragile]: ‚ÄúAntifragile: Things That Gain from Disorder‚Äù by Nassim Nicholas Taleb, https://www.goodreads.com/book/show/13530973-antifragile
[^solid]: The Principles of OOD, Robert C. Martin, http://www.butunclebob.com/ArticleS.UncleBob.PrinciplesOfOod
